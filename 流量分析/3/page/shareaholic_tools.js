!function(){window.Shareaholic.prototype.ShareObject=function(){function e(e){var t=this;if(null==e&&(e={}),!e.link)throw new Error("A 'url' is required to create a ShareObject.");this._={},this._.link=Shareaholic.Utils.trim(e.link),this._.text=Shareaholic.Utils.trim(e.text)||"",this._.link_title=Shareaholic.Utils.trim(e.link_title)||"",this._.plugin=e.plugin||"",this._.source="Shareaholic",this._.title=function(){return t.get("link_title")},this._.link_notes=Shareaholic.Utils.trim(e.link_notes)||"",this._.notes=function(){return t.get("link_notes")},this._.url=function(){return""===t.get("short_url")?t.get("link"):t.get("short_url")},this._.short_url=Shareaholic.Utils.trim(e.short_url)||"",this._.short_link=function(){return t.get("link")},this._.images=e.images||[],this._.image=function(){var e;return(null!=(e=t._.images)?e[t._.image_index]:void 0)||""},this._.image_index=0,this._.total_images=function(){return t._.images.length},this._.media_link=function(){return t._.image()},this._.message_format=Shareaholic.Utils.trim(e.message_format)||"",this._.shortener=e.shortener,this._.shortener_api_key=e.shortener_api_key,this._.shortener_login=e.shortener_login,this._.api_key=e.api_key,Shareaholic.prototype.ShareObject.instances.push(this),this.init()}return e.options={},e.instances=[],e.prototype.init=function(){return this.get(!1)?void 0:this.set("text",this.prepare_message_text())},e.prototype.prepare_message_text=function(){var e,t,i,n,o,s,r;if(e=this.get("message_format")){if(i=new RegExp("\\$\\{([a-z_]*)\\}","g"),o=e.match(i),o&&o.length)for(s=0,r=o.length;r>s;s++)n=o[s],t=n.substr(2,n.length-3),e=e.replace(n,this.get(t)||"");return e}return""},e.prototype.set=function(e,t){return"title"===e&&(e="link_title"),"notes"===e&&(e="link_notes"),this._[e]=t,t},e.prototype.get=function(e){return"function"==typeof this._[e]?this._[e]():this._[e]},e.prototype.params=function(e){var t,i;return null==e&&(e=!0),t={link:this.get("link"),source:this.get("source"),text:this.get("text"),short_url:this.get("short_url"),api_key:this.get("api_key")},i={link_title:this.get("link_title"),link_notes:this.get("link_notes"),image:this.get("image"),media_link:this.get("image"),title:this.get("link_title"),notes:this.get("link_notes"),template:this.get("message_format")},e?Shareaholic.Utils.merge_objects(t,i):t},e.prototype.shortener_params=function(){var e;return e={service:this.get("shortener")},this.get("shortener_login")&&(e.login=this.get("shortener_login")),this.get("shortener_api_key")&&(e.api_key=this.get("shortener_api_key")),e},e.prototype.redirect_params=function(){var e;return e=this.params(!0),e.shortener=this.shortener_params(),e},e.prototype.is_last_image=function(){return this._.image_index===this._.total_images()-1},e.prototype.image_location=function(){return""+(this.get("image_index")+1)+" of "+this.get("total_images")},e.prototype.select_next_image=function(){var e;return e=this.is_last_image()?0:this._.image_index+1,this.set("image_index",e),this.get("image")},e.prototype.select_previous_image=function(){var e;return e=0===this._.image_index?this._.total_images()-1:this._.image_index-1,this.set("image_index",e),this.get("image")},e.prototype.share_request=function(e,t){if(!(null!=e?e.service_nickname:void 0))throw new Error("You must specify a configuration object with a service_nickname property");return Shareaholic.Utils.merge_objects(e,this.params(t))},e.prototype.share_redirect_request=function(e){if(!(null!=e?e.service_nickname:void 0))throw new Error("You must specify a configuration object with a service_nickname property");return Shareaholic.Utils.merge_objects(e,this.redirect_params())},e.prototype.shorten_text_links=function(e){var t,i,n,o=this;return n=this.get("title"),i=this.get("text"),t=Shareaholic.Utils.find_urls_in_string(i),(null!=t?t.length:void 0)?(t=Shareaholic.Utils.filter_array(t,function(e){return n.indexOf(e)<0}),Shareaholic.Utils.shorten_urls({urls:t,options:this.shortener_params(),success:function(t){var i,n;Shareaholic.Utils.debug("in shorten links success callback",t);for(i in t)n=t[i],o.set("short_url",n),o.set("text",o.get("text").replace(i,n));return"function"==typeof e.complete&&e.complete(),"function"==typeof e.success?e.success():void 0},failure:function(){return"function"==typeof e.complete&&e.complete(),"function"==typeof e.failure?e.failure():void 0}})):"function"==typeof e.complete?e.complete():void 0},e}()}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};window.Shareaholic.prototype.SharePreferencesObject=function(){function t(){this.user_prefs=e(this.user_prefs,this),this.init=e(this.init,this),this.$=Shareaholic.$,this.user_config=Shareaholic.user_info,this.pub_config=Shareaholic.publisher_configuration}return t.options={},t.instances=[],t.prototype.init=function(){},t.prototype.get=function(e){return"function"==typeof this[e]?this[e]():void 0},t.prototype.page_prefs=function(){return Shareaholic.page_config()},t.prototype.user_prefs=function(){return this.$.extend(!0,{},Shareaholic.DefaultUserConfiguration,Shareaholic.user_info)},t.prototype.message_format=function(){var e;return e=this.get("page_prefs").apps.share_buttons.message_format,""!==e?e:"${title} - ${link}"},t.prototype.shortener_config=function(){var e,t;return t={shortener:this.get("user_prefs").shortener_preferences.service||"",shortener_api_key:this.get("user_prefs").shortener_preferences.api_key||"",shortener_login:this.get("user_prefs").shortener_preferences.login||""},e={shortener:this.get("page_prefs").shortener_preferences.service||"",shortener_api_key:this.get("page_prefs").shortener_preferences.api_key||"",shortener_login:this.get("page_prefs").shortener_preferences.login||""},t.shortener.match("shr")?e:t},t}()}.call(this),function(){window.Shareaholic.prototype.Requester=function(){function e(e){this.widget_class=e,this.requests=[],this.response={}}return e.prototype.push=function(e){return this.requests.push(e)},e.prototype.load=function(){var e,t=this;return e=this.widget_class.api_endpoint,e+=this.widget_class.construct_query_string(),Shareaholic.Utils.debug("In Requester - load"),Shareaholic.Utils.ajax({url:e,success:function(e){var i;return t.response=e,i=Object.keys(t.response.data)[0],t.widget_class.load_response_into_dom(t.response.data[i])}})},e}()}.call(this),function(){var e={};this.prototype.Handlebars=e,e.VERSION="1.0.rc.1",e.helpers={},e.partials={},e.registerHelper=function(e,t,i){i&&(t.not=i),this.helpers[e]=t},e.registerPartial=function(e,t){this.partials[e]=t},e.registerHelper("helperMissing",function(e){if(2===arguments.length)return void 0;throw new Error("Could not find property '"+e+"'")});var t=Object.prototype.toString,i="[object Function]";e.registerHelper("blockHelperMissing",function(n,o){var s=o.inverse||function(){},r=o.fn,a=t.call(n);return a===i&&(n=n.call(this)),n===!0?r(this):n===!1||null==n?s(this):"[object Array]"===a?n.length>0?e.helpers.each(n,o):s(this):r(n)}),e.K=function(){},e.createFrame=Object.create||function(t){e.K.prototype=t;var i=new e.K;return e.K.prototype=null,i},e.registerHelper("each",function(t,i){var n,o=i.fn,s=i.inverse,r="";if(i.data&&(n=e.createFrame(i.data)),t&&t.length>0)for(var a=0,l=t.length;l>a;a++)n&&(n.index=a),r+=o(t[a],{data:n});else r=s(this);return r}),e.registerHelper("if",function(n,o){var s=t.call(n);return s===i&&(n=n.call(this)),!n||e.Utils.isEmpty(n)?o.inverse(this):o.fn(this)}),e.registerHelper("unless",function(t,i){var n=i.fn,o=i.inverse;return i.fn=o,i.inverse=n,e.helpers["if"].call(this,t,i)}),e.registerHelper("with",function(e,t){return t.fn(e)}),e.registerHelper("log",function(t){e.log(t)});var n=function(){function e(){this.yy={}}var t={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,statements:6,simpleInverse:7,statement:8,openInverse:9,closeBlock:10,openBlock:11,mustache:12,partial:13,CONTENT:14,COMMENT:15,OPEN_BLOCK:16,inMustache:17,CLOSE:18,OPEN_INVERSE:19,OPEN_ENDBLOCK:20,path:21,OPEN:22,OPEN_UNESCAPED:23,OPEN_PARTIAL:24,params:25,hash:26,DATA:27,param:28,STRING:29,INTEGER:30,BOOLEAN:31,hashSegments:32,hashSegment:33,ID:34,EQUALS:35,pathSegments:36,SEP:37,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"CONTENT",15:"COMMENT",16:"OPEN_BLOCK",18:"CLOSE",19:"OPEN_INVERSE",20:"OPEN_ENDBLOCK",22:"OPEN",23:"OPEN_UNESCAPED",24:"OPEN_PARTIAL",27:"DATA",29:"STRING",30:"INTEGER",31:"BOOLEAN",34:"ID",35:"EQUALS",37:"SEP"},productions_:[0,[3,2],[4,3],[4,1],[4,0],[6,1],[6,2],[8,3],[8,3],[8,1],[8,1],[8,1],[8,1],[11,3],[9,3],[10,3],[12,3],[12,3],[13,3],[13,4],[7,2],[17,3],[17,2],[17,2],[17,1],[17,1],[25,2],[25,1],[28,1],[28,1],[28,1],[28,1],[28,1],[26,1],[32,2],[32,1],[33,3],[33,3],[33,3],[33,3],[33,3],[21,1],[36,3],[36,1]],performAction:function(e,t,i,n,o,s){var r=s.length-1;switch(o){case 1:return s[r-1];case 2:this.$=new n.ProgramNode(s[r-2],s[r]);break;case 3:this.$=new n.ProgramNode(s[r]);break;case 4:this.$=new n.ProgramNode([]);break;case 5:this.$=[s[r]];break;case 6:s[r-1].push(s[r]),this.$=s[r-1];break;case 7:this.$=new n.BlockNode(s[r-2],s[r-1].inverse,s[r-1],s[r]);break;case 8:this.$=new n.BlockNode(s[r-2],s[r-1],s[r-1].inverse,s[r]);break;case 9:this.$=s[r];break;case 10:this.$=s[r];break;case 11:this.$=new n.ContentNode(s[r]);break;case 12:this.$=new n.CommentNode(s[r]);break;case 13:this.$=new n.MustacheNode(s[r-1][0],s[r-1][1]);break;case 14:this.$=new n.MustacheNode(s[r-1][0],s[r-1][1]);break;case 15:this.$=s[r-1];break;case 16:this.$=new n.MustacheNode(s[r-1][0],s[r-1][1]);break;case 17:this.$=new n.MustacheNode(s[r-1][0],s[r-1][1],!0);break;case 18:this.$=new n.PartialNode(s[r-1]);break;case 19:this.$=new n.PartialNode(s[r-2],s[r-1]);break;case 20:break;case 21:this.$=[[s[r-2]].concat(s[r-1]),s[r]];break;case 22:this.$=[[s[r-1]].concat(s[r]),null];break;case 23:this.$=[[s[r-1]],s[r]];break;case 24:this.$=[[s[r]],null];break;case 25:this.$=[[new n.DataNode(s[r])],null];break;case 26:s[r-1].push(s[r]),this.$=s[r-1];break;case 27:this.$=[s[r]];break;case 28:this.$=s[r];break;case 29:this.$=new n.StringNode(s[r]);break;case 30:this.$=new n.IntegerNode(s[r]);break;case 31:this.$=new n.BooleanNode(s[r]);break;case 32:this.$=new n.DataNode(s[r]);break;case 33:this.$=new n.HashNode(s[r]);break;case 34:s[r-1].push(s[r]),this.$=s[r-1];break;case 35:this.$=[s[r]];break;case 36:this.$=[s[r-2],s[r]];break;case 37:this.$=[s[r-2],new n.StringNode(s[r])];break;case 38:this.$=[s[r-2],new n.IntegerNode(s[r])];break;case 39:this.$=[s[r-2],new n.BooleanNode(s[r])];break;case 40:this.$=[s[r-2],new n.DataNode(s[r])];break;case 41:this.$=new n.IdNode(s[r]);break;case 42:s[r-2].push(s[r]),this.$=s[r-2];break;case 43:this.$=[s[r]]}},table:[{3:1,4:2,5:[2,4],6:3,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],24:[1,15]},{1:[3]},{5:[1,16]},{5:[2,3],7:17,8:18,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,19],20:[2,3],22:[1,13],23:[1,14],24:[1,15]},{5:[2,5],14:[2,5],15:[2,5],16:[2,5],19:[2,5],20:[2,5],22:[2,5],23:[2,5],24:[2,5]},{4:20,6:3,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,4],22:[1,13],23:[1,14],24:[1,15]},{4:21,6:3,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,4],22:[1,13],23:[1,14],24:[1,15]},{5:[2,9],14:[2,9],15:[2,9],16:[2,9],19:[2,9],20:[2,9],22:[2,9],23:[2,9],24:[2,9]},{5:[2,10],14:[2,10],15:[2,10],16:[2,10],19:[2,10],20:[2,10],22:[2,10],23:[2,10],24:[2,10]},{5:[2,11],14:[2,11],15:[2,11],16:[2,11],19:[2,11],20:[2,11],22:[2,11],23:[2,11],24:[2,11]},{5:[2,12],14:[2,12],15:[2,12],16:[2,12],19:[2,12],20:[2,12],22:[2,12],23:[2,12],24:[2,12]},{17:22,21:23,27:[1,24],34:[1,26],36:25},{17:27,21:23,27:[1,24],34:[1,26],36:25},{17:28,21:23,27:[1,24],34:[1,26],36:25},{17:29,21:23,27:[1,24],34:[1,26],36:25},{21:30,34:[1,26],36:25},{1:[2,1]},{6:31,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],24:[1,15]},{5:[2,6],14:[2,6],15:[2,6],16:[2,6],19:[2,6],20:[2,6],22:[2,6],23:[2,6],24:[2,6]},{17:22,18:[1,32],21:23,27:[1,24],34:[1,26],36:25},{10:33,20:[1,34]},{10:35,20:[1,34]},{18:[1,36]},{18:[2,24],21:41,25:37,26:38,27:[1,45],28:39,29:[1,42],30:[1,43],31:[1,44],32:40,33:46,34:[1,47],36:25},{18:[2,25]},{18:[2,41],27:[2,41],29:[2,41],30:[2,41],31:[2,41],34:[2,41],37:[1,48]},{18:[2,43],27:[2,43],29:[2,43],30:[2,43],31:[2,43],34:[2,43],37:[2,43]},{18:[1,49]},{18:[1,50]},{18:[1,51]},{18:[1,52],21:53,34:[1,26],36:25},{5:[2,2],8:18,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,2],22:[1,13],23:[1,14],24:[1,15]},{14:[2,20],15:[2,20],16:[2,20],19:[2,20],22:[2,20],23:[2,20],24:[2,20]},{5:[2,7],14:[2,7],15:[2,7],16:[2,7],19:[2,7],20:[2,7],22:[2,7],23:[2,7],24:[2,7]},{21:54,34:[1,26],36:25},{5:[2,8],14:[2,8],15:[2,8],16:[2,8],19:[2,8],20:[2,8],22:[2,8],23:[2,8],24:[2,8]},{14:[2,14],15:[2,14],16:[2,14],19:[2,14],20:[2,14],22:[2,14],23:[2,14],24:[2,14]},{18:[2,22],21:41,26:55,27:[1,45],28:56,29:[1,42],30:[1,43],31:[1,44],32:40,33:46,34:[1,47],36:25},{18:[2,23]},{18:[2,27],27:[2,27],29:[2,27],30:[2,27],31:[2,27],34:[2,27]},{18:[2,33],33:57,34:[1,58]},{18:[2,28],27:[2,28],29:[2,28],30:[2,28],31:[2,28],34:[2,28]},{18:[2,29],27:[2,29],29:[2,29],30:[2,29],31:[2,29],34:[2,29]},{18:[2,30],27:[2,30],29:[2,30],30:[2,30],31:[2,30],34:[2,30]},{18:[2,31],27:[2,31],29:[2,31],30:[2,31],31:[2,31],34:[2,31]},{18:[2,32],27:[2,32],29:[2,32],30:[2,32],31:[2,32],34:[2,32]},{18:[2,35],34:[2,35]},{18:[2,43],27:[2,43],29:[2,43],30:[2,43],31:[2,43],34:[2,43],35:[1,59],37:[2,43]},{34:[1,60]},{14:[2,13],15:[2,13],16:[2,13],19:[2,13],20:[2,13],22:[2,13],23:[2,13],24:[2,13]},{5:[2,16],14:[2,16],15:[2,16],16:[2,16],19:[2,16],20:[2,16],22:[2,16],23:[2,16],24:[2,16]},{5:[2,17],14:[2,17],15:[2,17],16:[2,17],19:[2,17],20:[2,17],22:[2,17],23:[2,17],24:[2,17]},{5:[2,18],14:[2,18],15:[2,18],16:[2,18],19:[2,18],20:[2,18],22:[2,18],23:[2,18],24:[2,18]},{18:[1,61]},{18:[1,62]},{18:[2,21]},{18:[2,26],27:[2,26],29:[2,26],30:[2,26],31:[2,26],34:[2,26]},{18:[2,34],34:[2,34]},{35:[1,59]},{21:63,27:[1,67],29:[1,64],30:[1,65],31:[1,66],34:[1,26],36:25},{18:[2,42],27:[2,42],29:[2,42],30:[2,42],31:[2,42],34:[2,42],37:[2,42]},{5:[2,19],14:[2,19],15:[2,19],16:[2,19],19:[2,19],20:[2,19],22:[2,19],23:[2,19],24:[2,19]},{5:[2,15],14:[2,15],15:[2,15],16:[2,15],19:[2,15],20:[2,15],22:[2,15],23:[2,15],24:[2,15]},{18:[2,36],34:[2,36]},{18:[2,37],34:[2,37]},{18:[2,38],34:[2,38]},{18:[2,39],34:[2,39]},{18:[2,40],34:[2,40]}],defaultActions:{16:[2,1],24:[2,25],38:[2,23],55:[2,21]},parseError:function(e){throw new Error(e)},parse:function(e){function t(){var e;return e=i.lexer.lex()||1,"number"!=typeof e&&(e=i.symbols_[e]||e),e}var i=this,n=[0],o=[null],s=[],r=this.table,a="",l=0,c=0,h=0;this.lexer.setInput(e),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var u=this.lexer.yylloc;s.push(u);var d=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var p,f,m,g,_,v,y,b,w,k={};;){if(m=n[n.length-1],this.defaultActions[m]?g=this.defaultActions[m]:((null===p||"undefined"==typeof p)&&(p=t()),g=r[m]&&r[m][p]),"undefined"==typeof g||!g.length||!g[0]){var S="";if(!h){w=[];for(v in r[m])this.terminals_[v]&&v>2&&w.push("'"+this.terminals_[v]+"'");S=this.lexer.showPosition?"Parse error on line "+(l+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+w.join(", ")+", got '"+(this.terminals_[p]||p)+"'":"Parse error on line "+(l+1)+": Unexpected "+(1==p?"end of input":"'"+(this.terminals_[p]||p)+"'"),this.parseError(S,{text:this.lexer.match,token:this.terminals_[p]||p,line:this.lexer.yylineno,loc:u,expected:w})}}if(g[0]instanceof Array&&g.length>1)throw new Error("Parse Error: multiple actions possible at state: "+m+", token: "+p);switch(g[0]){case 1:n.push(p),o.push(this.lexer.yytext),s.push(this.lexer.yylloc),n.push(g[1]),p=null,f?(p=f,f=null):(c=this.lexer.yyleng,a=this.lexer.yytext,l=this.lexer.yylineno,u=this.lexer.yylloc,h>0&&h--);break;case 2:if(y=this.productions_[g[1]][1],k.$=o[o.length-y],k._$={first_line:s[s.length-(y||1)].first_line,last_line:s[s.length-1].last_line,first_column:s[s.length-(y||1)].first_column,last_column:s[s.length-1].last_column},d&&(k._$.range=[s[s.length-(y||1)].range[0],s[s.length-1].range[1]]),_=this.performAction.call(k,a,c,l,this.yy,g[1],o,s),"undefined"!=typeof _)return _;y&&(n=n.slice(0,2*-1*y),o=o.slice(0,-1*y),s=s.slice(0,-1*y)),n.push(this.productions_[g[1]][0]),o.push(k.$),s.push(k._$),b=r[n[n.length-2]][n[n.length-1]],n.push(b);break;case 3:return!0}}return!0}},i=function(){var e={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e){return this._input=e,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e;var t=e.match(/(?:\r\n?|\n).*/g);return t?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,i=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t-1),this.offset-=t;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),i.length-1&&(this.yylineno-=i.length-1);var o=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:i?(i.length===n.length?this.yylloc.first_column:0)+n[n.length-i.length].length-i[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[o[0],o[0]+this.yyleng-t]),this},more:function(){return this._more=!0,this},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var e,t,i,n,o;this._more||(this.yytext="",this.match="");for(var s=this._currentRules(),r=0;r<s.length&&(i=this._input.match(this.rules[s[r]]),!i||t&&!(i[0].length>t[0].length)||(t=i,n=r,this.options.flex));r++);return t?(o=t[0].match(/(?:\r\n?|\n).*/g),o&&(this.yylineno+=o.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:o?o[o.length-1].length-o[o.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],e=this.performAction.call(this,this.yy,this,s[n],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),e?e:void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return"undefined"!=typeof e?e:this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(e){this.begin(e)}};return e.options={},e.performAction=function(e,t,i,n){switch(i){case 0:if("\\"!==t.yytext.slice(-1)&&this.begin("mu"),"\\"===t.yytext.slice(-1)&&(t.yytext=t.yytext.substr(0,t.yyleng-1),this.begin("emu")),t.yytext)return 14;break;case 1:return 14;case 2:return"\\"!==t.yytext.slice(-1)&&this.popState(),"\\"===t.yytext.slice(-1)&&(t.yytext=t.yytext.substr(0,t.yyleng-1)),14;case 3:return 24;case 4:return 16;case 5:return 20;case 6:return 19;case 7:return 19;case 8:return 23;case 9:return 23;case 10:return t.yytext=t.yytext.substr(3,t.yyleng-5),this.popState(),15;case 11:return 22;case 12:return 35;case 13:return 34;case 14:return 34;case 15:return 37;case 16:break;case 17:return this.popState(),18;case 18:return this.popState(),18;case 19:return t.yytext=t.yytext.substr(1,t.yyleng-2).replace(/\\"/g,'"'),29;case 20:return t.yytext=t.yytext.substr(1,t.yyleng-2).replace(/\\"/g,'"'),29;case 21:return t.yytext=t.yytext.substr(1),27;case 22:return 31;case 23:return 31;case 24:return 30;case 25:return 34;case 26:return t.yytext=t.yytext.substr(1,t.yyleng-2),34;case 27:return"INVALID";case 28:return 5}},e.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|$)))/,/^(?:\{\{>)/,/^(?:\{\{#)/,/^(?:\{\{\/)/,/^(?:\{\{\^)/,/^(?:\{\{\s*else\b)/,/^(?:\{\{\{)/,/^(?:\{\{&)/,/^(?:\{\{![\s\S]*?\}\})/,/^(?:\{\{)/,/^(?:=)/,/^(?:\.(?=[} ]))/,/^(?:\.\.)/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}\}\})/,/^(?:\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@[a-zA-Z]+)/,/^(?:true(?=[}\s]))/,/^(?:false(?=[}\s]))/,/^(?:[0-9]+(?=[}\s]))/,/^(?:[a-zA-Z0-9_$-]+(?=[=}\s\/.]))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:$)/],e.conditions={mu:{rules:[3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28],inclusive:!1},emu:{rules:[2],inclusive:!1},INITIAL:{rules:[0,1,28],inclusive:!0}},e}();return t.lexer=i,e.prototype=t,t.Parser=e,new e}();"undefined"!=typeof require&&"undefined"!=typeof exports&&(exports.parser=n,exports.Parser=n.Parser,exports.parse=function(){return n.parse.apply(n,arguments)},exports.main=function(e){if(!e[1])throw new Error("Usage: "+e[0]+" FILE");var t;return t="undefined"!=typeof process?require("fs").readFileSync(require("path").resolve(e[1]),"utf8"):require("file").path(require("file").cwd()).join(e[1]).read({charset:"utf-8"}),exports.parser.parse(t)},"undefined"!=typeof module&&require.main===module&&exports.main("undefined"!=typeof process?process.argv.slice(1):require("system").args)),e.Parser=n,e.parse=function(t){return e.Parser.yy=e.AST,e.Parser.parse(t)},e.print=function(t){return(new e.PrintVisitor).accept(t)},e.logger={DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(){}},e.log=function(t,i){e.logger.log(t,i)},e.AST={},e.AST.ProgramNode=function(t,i){this.type="program",this.statements=t,i&&(this.inverse=new e.AST.ProgramNode(i))},e.AST.MustacheNode=function(e,t,i){this.type="mustache",this.escaped=!i,this.hash=t;var n=this.id=e[0],o=this.params=e.slice(1),s=this.eligibleHelper=n.isSimple;this.isHelper=s&&(o.length||t)},e.AST.PartialNode=function(e,t){this.type="partial",this.id=e,this.context=t};var o=function(t,i){if(t.original!==i.original)throw new e.Exception(t.original+" doesn't match "+i.original)};e.AST.BlockNode=function(e,t,i,n){o(e.id,n),this.type="block",this.mustache=e,this.program=t,this.inverse=i,this.inverse&&!this.program&&(this.isInverse=!0)},e.AST.ContentNode=function(e){this.type="content",this.string=e},e.AST.HashNode=function(e){this.type="hash",this.pairs=e},e.AST.IdNode=function(e){this.type="ID",this.original=e.join(".");for(var t=[],i=0,n=0,o=e.length;o>n;n++){var s=e[n];".."===s?i++:"."===s||"this"===s?this.isScoped=!0:t.push(s)}this.parts=t,this.string=t.join("."),this.depth=i,this.isSimple=1===e.length&&!this.isScoped&&0===i},e.AST.DataNode=function(e){this.type="DATA",this.id=e},e.AST.StringNode=function(e){this.type="STRING",this.string=e},e.AST.IntegerNode=function(e){this.type="INTEGER",this.integer=e},e.AST.BooleanNode=function(e){this.type="BOOLEAN",this.bool=e},e.AST.CommentNode=function(e){this.type="comment",this.comment=e},e.Exception=function(){var e=Error.prototype.constructor.apply(this,arguments);for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);this.message=e.message},e.Exception.prototype=new Error,e.SafeString=function(e){this.string=e},e.SafeString.prototype.toString=function(){return this.string.toString()},function(){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},i=/[&<>"'`]/g,n=/[&<>"'`]/,o=function(e){return t[e]||"&amp;"};e.Utils={escapeExpression:function(t){return t instanceof e.SafeString?t.toString():null==t||t===!1?"":n.test(t)?t.replace(i,o):t},isEmpty:function(e){return"undefined"==typeof e?!0:null===e?!0:e===!1?!0:"[object Array]"===Object.prototype.toString.call(e)&&0===e.length?!0:!1}}}(),e.Compiler=function(){},e.JavaScriptCompiler=function(){},function(t,i){t.prototype={compiler:t,disassemble:function(){for(var e,t,i,n=this.opcodes,o=[],s=0,r=n.length;r>s;s++)if(e=n[s],"DECLARE"===e.opcode)o.push("DECLARE "+e.name+"="+e.value);else{t=[];for(var a=0;a<e.args.length;a++)i=e.args[a],"string"==typeof i&&(i='"'+i.replace("\n","\\n")+'"'),t.push(i);o.push(e.opcode+" "+t.join(" "))}return o.join("\n")},guid:0,compile:function(e,t){this.children=[],this.depths={list:[]},this.options=t;var i=this.options.knownHelpers;if(this.options.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0},i)for(var n in i)this.options.knownHelpers[n]=i[n];return this.program(e)},accept:function(e){return this[e.type](e)},program:function(e){var t,i=e.statements;this.opcodes=[];for(var n=0,o=i.length;o>n;n++)t=i[n],this[t.type](t);return this.isSimple=1===o,this.depths.list=this.depths.list.sort(function(e,t){return e-t}),this},compileProgram:function(e){var t,i=(new this.compiler).compile(e,this.options),n=this.guid++;this.usePartial=this.usePartial||i.usePartial,this.children[n]=i;for(var o=0,s=i.depths.list.length;s>o;o++)t=i.depths.list[o],2>t||this.addDepth(t-1);return n},block:function(e){var t=e.mustache,i=e.program,n=e.inverse;i&&(i=this.compileProgram(i)),n&&(n=this.compileProgram(n));var o=this.classifyMustache(t);"helper"===o?this.helperMustache(t,i,n):"simple"===o?(this.simpleMustache(t),this.opcode("pushProgram",i),this.opcode("pushProgram",n),this.opcode("pushLiteral","{}"),this.opcode("blockValue")):(this.ambiguousMustache(t,i,n),this.opcode("pushProgram",i),this.opcode("pushProgram",n),this.opcode("pushLiteral","{}"),this.opcode("ambiguousBlockValue")),this.opcode("append")},hash:function(e){var t,i,n=e.pairs;this.opcode("push","{}");for(var o=0,s=n.length;s>o;o++)t=n[o],i=t[1],this.accept(i),this.opcode("assignToHash",t[0])},partial:function(e){var t=e.id;this.usePartial=!0,e.context?this.ID(e.context):this.opcode("push","depth0"),this.opcode("invokePartial",t.original),this.opcode("append")},content:function(e){this.opcode("appendContent",e.string)},mustache:function(e){var t=this.options,i=this.classifyMustache(e);"simple"===i?this.simpleMustache(e):"helper"===i?this.helperMustache(e):this.ambiguousMustache(e),e.escaped&&!t.noEscape?this.opcode("appendEscaped"):this.opcode("append")},ambiguousMustache:function(e,t,i){var n=e.id,o=n.parts[0];this.opcode("getContext",n.depth),this.opcode("pushProgram",t),this.opcode("pushProgram",i),this.opcode("invokeAmbiguous",o)},simpleMustache:function(e){var t=e.id;"DATA"===t.type?this.DATA(t):t.parts.length?this.ID(t):(this.addDepth(t.depth),this.opcode("getContext",t.depth),this.opcode("pushContext")),this.opcode("resolvePossibleLambda")},helperMustache:function(e,t,i){var n=this.setupFullMustacheParams(e,t,i),o=e.id.parts[0];if(this.options.knownHelpers[o])this.opcode("invokeKnownHelper",n.length,o);else{if(this.knownHelpersOnly)throw new Error("You specified knownHelpersOnly, but used the unknown helper "+o);this.opcode("invokeHelper",n.length,o)}},ID:function(e){this.addDepth(e.depth),this.opcode("getContext",e.depth);var t=e.parts[0];t?this.opcode("lookupOnContext",e.parts[0]):this.opcode("pushContext");for(var i=1,n=e.parts.length;n>i;i++)this.opcode("lookup",e.parts[i])},DATA:function(e){this.options.data=!0,this.opcode("lookupData",e.id)},STRING:function(e){this.opcode("pushString",e.string)},INTEGER:function(e){this.opcode("pushLiteral",e.integer)},BOOLEAN:function(e){this.opcode("pushLiteral",e.bool)},comment:function(){},opcode:function(e){this.opcodes.push({opcode:e,args:[].slice.call(arguments,1)})},declare:function(e,t){this.opcodes.push({opcode:"DECLARE",name:e,value:t})},addDepth:function(e){if(isNaN(e))throw new Error("EWOT");0!==e&&(this.depths[e]||(this.depths[e]=!0,this.depths.list.push(e)))},classifyMustache:function(e){var t=e.isHelper,i=e.eligibleHelper,n=this.options;if(i&&!t){var o=e.id.parts[0];n.knownHelpers[o]?t=!0:n.knownHelpersOnly&&(i=!1)}return t?"helper":i?"ambiguous":"simple"},pushParams:function(e){for(var t,i=e.length;i--;)t=e[i],this.options.stringParams?(t.depth&&this.addDepth(t.depth),this.opcode("getContext",t.depth||0),this.opcode("pushStringParam",t.string)):this[t.type](t)},setupMustacheParams:function(e){var t=e.params;return this.pushParams(t),e.hash?this.hash(e.hash):this.opcode("pushLiteral","{}"),t},setupFullMustacheParams:function(e,t,i){var n=e.params;return this.pushParams(n),this.opcode("pushProgram",t),this.opcode("pushProgram",i),e.hash?this.hash(e.hash):this.opcode("pushLiteral","{}"),n}};var n=function(e){this.value=e};i.prototype={nameLookup:function(e,t){return/^[0-9]+$/.test(t)?e+"["+t+"]":i.isValidJavaScriptVariableName(t)?e+"."+t:e+"['"+t+"']"},appendToBuffer:function(e){return this.environment.isSimple?"return "+e+";":"buffer += "+e+";"},initializeBuffer:function(){return this.quotedString("")},namespace:"Handlebars",compile:function(t,i,n,o){this.environment=t,this.options=i||{},e.log(e.logger.DEBUG,this.environment.disassemble()+"\n\n"),this.name=this.environment.name,this.isChild=!!n,this.context=n||{programs:[],aliases:{}},this.preamble(),this.stackSlot=0,this.stackVars=[],this.registers={list:[]},this.compileStack=[],this.compileChildren(t,i);var s,r=t.opcodes;for(this.i=0,a=r.length;this.i<a;this.i++)s=r[this.i],"DECLARE"===s.opcode?this[s.name]=s.value:this[s.opcode].apply(this,s.args);return this.createFunctionContext(o)},nextOpcode:function(){var e=this.environment.opcodes;return e[this.i+1],e[this.i+1]},eat:function(){this.i=this.i+1},preamble:function(){var e=[];if(this.isChild)e.push("");else{var t=this.namespace,i="helpers = helpers || "+t+".helpers;";this.environment.usePartial&&(i=i+" partials = partials || "+t+".partials;"),this.options.data&&(i+=" data = data || {};"),e.push(i)}this.environment.isSimple?e.push(""):e.push(", buffer = "+this.initializeBuffer()),this.lastContext=0,this.source=e},createFunctionContext:function(t){var i=this.stackVars.concat(this.registers.list);if(i.length>0&&(this.source[1]=this.source[1]+", "+i.join(", ")),!this.isChild)for(var n in this.context.aliases)this.source[1]=this.source[1]+", "+n+"="+this.context.aliases[n];this.source[1]&&(this.source[1]="var "+this.source[1].substring(2)+";"),this.isChild||(this.source[1]+="\n"+this.context.programs.join("\n")+"\n"),this.environment.isSimple||this.source.push("return buffer;");for(var o=this.isChild?["depth0","data"]:["Handlebars","depth0","helpers","partials","data"],s=0,r=this.environment.depths.list.length;r>s;s++)o.push("depth"+this.environment.depths.list[s]);if(t)return o.push(this.source.join("\n  ")),Function.apply(this,o);var a="function "+(this.name||"")+"("+o.join(",")+") {\n  "+this.source.join("\n  ")+"}";return e.log(e.logger.DEBUG,a+"\n\n"),a},blockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var e=["depth0"];this.setupParams(0,e),this.replaceStack(function(t){return e.splice(1,0,t),t+" = blockHelperMissing.call("+e.join(", ")+")"})},ambiguousBlockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var e=["depth0"];this.setupParams(0,e);var t=this.topStack();e.splice(1,0,t),this.source.push("if (!"+this.lastHelper+") { "+t+" = blockHelperMissing.call("+e.join(", ")+"); }")},appendContent:function(e){this.source.push(this.appendToBuffer(this.quotedString(e)))},append:function(){var e=this.popStack();this.source.push("if("+e+" || "+e+" === 0) { "+this.appendToBuffer(e)+" }"),this.environment.isSimple&&this.source.push("else { "+this.appendToBuffer("''")+" }")},appendEscaped:function(){var e=this.nextOpcode(),t="";this.context.aliases.escapeExpression="this.escapeExpression",e&&"appendContent"===e.opcode&&(t=" + "+this.quotedString(e.args[0]),this.eat(e)),this.source.push(this.appendToBuffer("escapeExpression("+this.popStack()+")"+t))},getContext:function(e){this.lastContext!==e&&(this.lastContext=e)
},lookupOnContext:function(e){this.pushStack(this.nameLookup("depth"+this.lastContext,e,"context"))},pushContext:function(){this.pushStackLiteral("depth"+this.lastContext)},resolvePossibleLambda:function(){this.context.aliases.functionType='"function"',this.replaceStack(function(e){return"typeof "+e+" === functionType ? "+e+"() : "+e})},lookup:function(e){this.replaceStack(function(t){return t+" == null || "+t+" === false ? "+t+" : "+this.nameLookup(t,e,"context")})},lookupData:function(e){this.pushStack(this.nameLookup("data",e,"data"))},pushStringParam:function(e){this.pushStackLiteral("depth"+this.lastContext),this.pushString(e)},pushString:function(e){this.pushStackLiteral(this.quotedString(e))},push:function(e){this.pushStack(e)},pushLiteral:function(e){this.pushStackLiteral(e)},pushProgram:function(e){null!=e?this.pushStackLiteral(this.programExpression(e)):this.pushStackLiteral(null)},invokeHelper:function(e,t){this.context.aliases.helperMissing="helpers.helperMissing";var i=this.lastHelper=this.setupHelper(e,t);this.register("foundHelper",i.name),this.pushStack("foundHelper ? foundHelper.call("+i.callParams+") "+": helperMissing.call("+i.helperMissingParams+")")},invokeKnownHelper:function(e,t){var i=this.setupHelper(e,t);this.pushStack(i.name+".call("+i.callParams+")")},invokeAmbiguous:function(e){this.context.aliases.functionType='"function"',this.pushStackLiteral("{}");var t=this.setupHelper(0,e),i=this.lastHelper=this.nameLookup("helpers",e,"helper");this.register("foundHelper",i);var n=this.nameLookup("depth"+this.lastContext,e,"context"),o=this.nextStack();this.source.push("if (foundHelper) { "+o+" = foundHelper.call("+t.callParams+"); }"),this.source.push("else { "+o+" = "+n+"; "+o+" = typeof "+o+" === functionType ? "+o+"() : "+o+"; }")},invokePartial:function(e){var t=[this.nameLookup("partials",e,"partial"),"'"+e+"'",this.popStack(),"helpers","partials"];this.options.data&&t.push("data"),this.context.aliases.self="this",this.pushStack("self.invokePartial("+t.join(", ")+");")},assignToHash:function(e){var t=this.popStack(),i=this.topStack();this.source.push(i+"['"+e+"'] = "+t+";")},compiler:i,compileChildren:function(e,t){for(var i,n,o=e.children,s=0,r=o.length;r>s;s++){i=o[s],n=new this.compiler,this.context.programs.push("");var a=this.context.programs.length;i.index=a,i.name="program"+a,this.context.programs[a]=n.compile(i,t,this.context)}},programExpression:function(e){if(this.context.aliases.self="this",null==e)return"self.noop";for(var t,i=this.environment.children[e],n=i.depths.list,o=[i.index,i.name,"data"],s=0,r=n.length;r>s;s++)t=n[s],1===t?o.push("depth0"):o.push("depth"+(t-1));return 0===n.length?"self.program("+o.join(", ")+")":(o.shift(),"self.programWithDepth("+o.join(", ")+")")},register:function(e,t){this.useRegister(e),this.source.push(e+" = "+t+";")},useRegister:function(e){this.registers[e]||(this.registers[e]=!0,this.registers.list.push(e))},pushStackLiteral:function(e){return this.compileStack.push(new n(e)),e},pushStack:function(e){return this.source.push(this.incrStack()+" = "+e+";"),this.compileStack.push("stack"+this.stackSlot),"stack"+this.stackSlot},replaceStack:function(e){var t=e.call(this,this.topStack());return this.source.push(this.topStack()+" = "+t+";"),"stack"+this.stackSlot},nextStack:function(){var e=this.incrStack();return this.compileStack.push("stack"+this.stackSlot),e},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),"stack"+this.stackSlot},popStack:function(){var e=this.compileStack.pop();return e instanceof n?e.value:(this.stackSlot--,e)},topStack:function(){var e=this.compileStack[this.compileStack.length-1];return e instanceof n?e.value:e},quotedString:function(e){return'"'+e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r")+'"'},setupHelper:function(e,t){var i=[];this.setupParams(e,i);var n=this.nameLookup("helpers",t,"helper");return{params:i,name:n,callParams:["depth0"].concat(i).join(", "),helperMissingParams:["depth0",this.quotedString(t)].concat(i).join(", ")}},setupParams:function(e,t){var i,n,o,s=[],r=[];s.push("hash:"+this.popStack()),n=this.popStack(),o=this.popStack(),(o||n)&&(o||(this.context.aliases.self="this",o="self.noop"),n||(this.context.aliases.self="this",n="self.noop"),s.push("inverse:"+n),s.push("fn:"+o));for(var a=0;e>a;a++)i=this.popStack(),t.push(i),this.options.stringParams&&r.push(this.popStack());return this.options.stringParams&&s.push("contexts:["+r.join(",")+"]"),this.options.data&&s.push("data:data"),t.push("{"+s.join(",")+"}"),t.join(", ")}};for(var o="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield".split(" "),s=i.RESERVED_WORDS={},r=0,a=o.length;a>r;r++)s[o[r]]=!0;i.isValidJavaScriptVariableName=function(e){return!i.RESERVED_WORDS[e]&&/^[a-zA-Z_$][0-9a-zA-Z_$]+$/.test(e)?!0:!1}}(e.Compiler,e.JavaScriptCompiler),e.precompile=function(t,i){i=i||{};var n=e.parse(t),o=(new e.Compiler).compile(n,i);return(new e.JavaScriptCompiler).compile(o,i)},e.compile=function(t,i){function n(){var n=e.parse(t),o=(new e.Compiler).compile(n,i),s=(new e.JavaScriptCompiler).compile(o,i,void 0,!0);return e.template(s)}i=i||{};var o;return function(e,t){return o||(o=n()),o.call(this,e,t)}},e.VM={template:function(t){var i={escapeExpression:e.Utils.escapeExpression,invokePartial:e.VM.invokePartial,programs:[],program:function(t,i,n){var o=this.programs[t];return n?e.VM.program(i,n):o?o:o=this.programs[t]=e.VM.program(i)},programWithDepth:e.VM.programWithDepth,noop:e.VM.noop};return function(n,o){return o=o||{},t.call(i,e,n,o.helpers,o.partials,o.data)}},programWithDepth:function(e,t){var i=Array.prototype.slice.call(arguments,2);return function(n,o){return o=o||{},e.apply(this,[n,o.data||t].concat(i))}},program:function(e,t){return function(i,n){return n=n||{},e(i,n.data||t)}},noop:function(){return""},invokePartial:function(t,i,n,o,s,r){var a={helpers:o,partials:s,data:r};if(void 0===t)throw new e.Exception("The partial "+i+" could not be found");if(t instanceof Function)return t(n,a);if(e.compile)return s[i]=e.compile(t,{data:void 0!==r}),s[i](n,a);throw new e.Exception("The partial "+i+" could not be compiled when running in runtime-only mode")}},e.template=e.VM.template,e.registerHelper("eachkeys",function(e,t){var i=t.fn,n=t.inverse,o="",s=!0;for(key in e){s=!1;break}if(s)o=n(this);else for(key in e)o+=i({key:key,value:e[key]});return o}),e.registerHelper("compare",function(e,t,i,n){var o,s;if(arguments.length<3)throw new Error("Handlerbars Helper 'compare' needs 2 parameters");if(void 0===n&&(n=i,i=t,t="==="),o={"==":function(e,t){return e==t},"===":function(e,t){return e===t},"!=":function(e,t){return e!=t},"!==":function(e,t){return e!==t},"<":function(e,t){return t>e},">":function(e,t){return e>t},"<=":function(e,t){return t>=e},">=":function(e,t){return e>=t},"typeof":function(e,t){return typeof e==t}},!o[t])throw new Error("Handlerbars Helper 'compare' doesn't know the operator "+t);return s=o[t](e,i),s?n.fn(this):n.inverse(this)})}.call(Shareaholic),function(){Shareaholic.templates.ad_tag_criteo='  <iframe src="//cas.criteo.com/delivery/afr.php?zoneid={{zone_id}}" framespacing="0" frameborder="no" scrolling="no" style="width: {{width}}px; height: {{height}}px;">    <a href="//cas.criteo.com/delivery/ck.php?cb=[[CACHEBUSTER]]" target="_blank"></a>    <img src="//cas.criteo.com/delivery/avw.php?zoneid={{zone_id}}" border="0" alt="">  </iframe>',Shareaholic.prototype.Handlebars.registerPartial("ad_tag_criteo",Shareaholic.templates.ad_tag_criteo)}.call(this),function(){Shareaholic.templates.all_services_list='<ul class="mini">  {{#each this}}    <li>      <a href="javascript:void(0);" data-service="{{this.nickname}}"><i class="shareaholic-service-icon service-{{this.nickname}}"></i>{{this.title}}</a>    </li>  {{/each}}</ul>',Shareaholic.prototype.Handlebars.registerPartial("all_services_list",Shareaholic.templates.all_services_list)}.call(this),function(){Shareaholic.templates.all_services_panel='<div class="shareaholic-panel-content">  <div class="filter">    <input type="text" class="search" placeholder="Search for services">    <i class="icon-search-alt"></i>  </div>  <div class="all-services">    {{> all_services_list}}  </div>  <div class="panel-footer">    <p>      <a class="shareaholic-ui-button logo-button" href="//www.shareaholic.com" target="_blank"><i class="ui-icon ui-logo"></i></a>      <a class="shareaholic-ui-button privacy" href="//www.shareaholic.com/privacy" target="_blank">Privacy</a>    </p>  </div></div>'}.call(this),function(){Shareaholic.templates.connect_account_panel='<div class="shareaholic-panel-content">  <p class="instructions">Clicking a button will open a new window where you can connect your account. You\'ll be brought back to the sharing window once you\'re done.</p>  <ul class="services">    <li class="service twitter">      <img alt="Connect with Twitter" class="auth-connect-button" data-service="twitter" src="//dsms0mj1bbhn4.cloudfront.net/assets/services/connect_with_twitter.png" />    </li>    <li class="service facebook">      <img alt="Connect with Facebook" class="auth-connect-button" data-service="facebook" src="//dsms0mj1bbhn4.cloudfront.net/assets/services/connect_with_facebook.gif" />    </li>  </ul>  <div class="cancel">    <button class="cancel-button">{{cancel_button_text}}</button>  </div></div>'}.call(this),function(){Shareaholic.templates.connected_accounts_list='  <ul>    {{#each this}}      <li class="connected-account {{service}}" id="auth-{{authentication_id}}">        <a href="#" title="{{username}}" data-auth-id="{{authentication_id}}" data-service="{{service}}">          <img src="{{avatar_url}}" />        </a>      </li>    {{/each}}    <li class="new-account"><a href="javascript:void(0)"><i class="icon-plus-alt"></i></a></li>  </ul>'}.call(this),function(){Shareaholic.templates.facebook_post_preview='<div class="shareaholic-facebook-post-preview">    <div class="fb-message">{{message}}</div>    <div class="fb-title">The Unrefinery - Home</div>    <div class="fb-subtitle">http://shop.theunrefinery.com/</div>    <div class="fb-summary">Quality Garments for Creative Individuals.</div></div>'}.call(this),function(){Shareaholic.templates.link_preview='<div class="shareaholic-link-preview">  <button class="close-button" style="display:none!important" title="Remove Link">X</button>  {{#if image}}  <div class="thumbnail-picker">    <div class="select-image">      <i class="previous-btn icon-arrow-w-alt"></i>      <div class="thumbnail">        <img src="{{image}}" width="100" alt="thumbnail" />      </div>      <i class="next-btn icon-arrow-e-alt"></i>    </div>    <small>    </small>  </div>  {{/if}}  <div class="link-properties">    <a class="link-title" contenteditable="true">{{link_title}}</a>    <a class="link-url" href="{{link}}" target="_blank">{{link}}</a>    <p class="link-notes" contenteditable="true">{{link_notes}}</p>  </div></div>',Shareaholic.prototype.Handlebars.registerPartial("link_preview",Shareaholic.templates.link_preview)}.call(this),function(){Shareaholic.templates.linked_in='<div>  <h1>Share this on {{name}}</h1>  <form>    <textarea>This is a tweet. via @Shareaholic</textarea>    <button type="submit">{{submit_text}}</button>  </form></div>'}.call(this),function(){Shareaholic.templates.loading_account_panel='<div class="shareaholic-panel-content" style="height:240px; position:relative;">  <div class="pacify-curtain pacify-large ui-pacify-curtain-light">    <div class="ui-pacify-indicator"></div>    <div class="ui-pacify-message">{{message}}</div>  </div></div>'}.call(this),function(){Shareaholic.templates.mobile_recommendation='<article class="shareaholic-mobile-recommendation">  <div class="shareaholic-mobile-recommendation-wrapper">    <a href="{{url}}" rel="norewrite">      <i class="shareaholic-image {{color_class}}" style="background-image: url({{thumbnail}})"></i>      <div class="shareaholic-details">        <h3 class="shareaholic-title">{{mobile_title}}</h3>        <p class="shareaholic-summary">{{description}}</p>        {{#if sponsored}}        <span class="shareaholic-site-name">{{site_name}}</span>        {{/if}}      </div>    </a>    <footer class="shareaholic-buttonset line">      <button class="unit size1of5"><i class="icon icon-heart"></i></button>      <button class="unit size1of5"><i class="icon icon-list"></i></button>      <button class="unit size1of5"><i class="icon icon-mail"></i></button>      <button class="unit size1of5"><i class="icon icon-share"></i></button>      <span class="counter unit size1of5">314</span>    </footer>  </div></article>',Shareaholic.prototype.Handlebars.registerPartial("mobile_recommendation",Shareaholic.templates.mobile_recommendation)}.call(this),function(){Shareaholic.templates.multi_panel='<div class="shareaholic-panel-content">  <div class="connected-accounts">  </div>  <div class="share-message">    <form>      <textarea></textarea>    </form>  </div>  <div class="submit-share">    <button class="submit button-primary">Post Now</button>    <span class="character-count"></span>  </div>  <div class="preview-panes">    <!-- Service previews will be injected here -->    <div id="link_preview_pane" class="preview-pane">      {{> link_preview }}    </div>  </div>  <div class="panel-footer">    <p>      <a class="shareaholic-ui-button logo-button" href="//www.shareaholic.com" target="_blank"><i class="ui-icon ui-logo"></i></a>      <button class="email-button">Email This</button>      <button class="all-button">View All Services</button>      <a class="shareaholic-ui-button privacy" href="//www.shareaholic.com/privacy" target="_blank">Privacy</a>    </p>  </div></div>'}.call(this),function(){Shareaholic.templates.post_share_thanks='<div class="shareaholic-share-result shareaholic-share-thanks">  <header class="result-header {{header_class}}">    <h1>{{headline}}</h1>    {{#if message}}    <h2>{{message}}</h2>    {{/if}}    <button class="close-button"><i class="icon-cross-alt"></i></button>  </header>  <div class="result-content">    {{#if ad_tag}}    <div class="result-bonus">      <script type="text/javascript">var p="http",d="static";if(document.location.protocol=="https:"){p+="s";d="engine";}var z=document.createElement("script");z.type="text/javascript";z.async=true;z.src=p+"://"+d+".adzerk.net/ados.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(z,s);</script>      <script type="text/javascript">      var ados = ados || {};      ados.run = ados.run || [];      ados.run.push(function() {      /* load placement for account: Shareaholic, site: Shareaholic Publisher Network, size: 300x250 - Medium Rectangle, zone: Post Share*/      ados_add_placement(9604, 67093, "azk86949", 5).setZone(124076);      ados_load();      });</script>        <div id="azk86949"></div>    </div>    {{/if}}    {{#if follow_buttons_location_id}}    <div class="shareaholic-canvas" id="post_share_follow_buttons" data-app-id="{{follow_buttons_location_id}}" data-app="folow_buttons"></div>    {{/if}}    <div class="shareaholic-modal-buttonset">      <button class="shareaholic-modal-button" id="tmp_close_button">Close</button>    </div>  </div>  <div class="panel-footer">    <p>      <a class="shareaholic-ui-button logo-button" href="//www.shareaholic.com" target="_blank"><i class="ui-icon ui-logo"></i></a>      <a class="shareaholic-ui-button privacy" href="//www.shareaholic.com/privacy" target="_blank">Privacy</a>    </p>  </div></div>'}.call(this),function(){Shareaholic.templates.recommendation='<div class="shareaholic-recommendation recommendation-{{index}}"> <a href="{{url}}" class="recommendation-article-link" {{#if sponsored}}target="_blank" rel="nofollow" {{else}} rel="norewrite" {{/if}}>   <i class="shareaholic-image {{color_class}} {{#if thumbnail}}has-recommendation-image{{/if}}" {{#if thumbnail}} style="background-image: url({{thumbnail}})" {{/if}}>     <span class="recommendation-placeholder-title">{{title}}</span>     <img src="{{impression_url}}" class="recommendation-impression-image" alt="" nopin="nopin" />   </i>   <div class="recommendation-article-details">     <div class="recommendation-article-title">{{title}}</div>     <div class="recommendation-article-summary">{{description}}</div>     {{#if sponsored}}     <div class="recommendation-article-credit">{{site_name}}</div>     {{/if}}   </div> </a></div>',Shareaholic.prototype.Handlebars.registerPartial("recommendation",Shareaholic.templates.recommendation)}.call(this),function(){Shareaholic.templates.recommendation_preview='<article class="shareaholic-mobile-recommendation-preview" data-url="{{url}}">  <div class="shareaholic-image-well">    <div class="shareaholic-image" style="background-image: url({{thumbnail}})"></div>  </div>  <h3 class="shareaholic-preview-title">{{mobile_preview_title}}</h3></article>',Shareaholic.prototype.Handlebars.registerPartial("recommendation_preview",Shareaholic.templates.recommendation_preview)}.call(this),function(){Shareaholic.templates.recommendations_help='<div class="recommendations-content shareaholic-panel-content">  <a href="http://www.shareaholic.com" target="_blank">    <link rel="stylesheet" type="text/css" href=" //cdnjs.cloudflare.com/ajax/libs/font-awesome/4.1.0/css/font-awesome.min.css">    <div class="logo-area"><div class="logo"></div></div>    <div class="scrollContent">      <div class="content-area">        <div class="aboutHeader">          <h1>This content is recommended for you by Shareaholic</h1>          <p>These personalized recommendations may include stories from other partners, some of whom pay to include their content here.</p>        </div>        <div class="mainContent">          <p class="green">            for site owners &amp; marketers          </p>          <h1 class="nextLevel">Shareaholic takes your web presence to the next level.</h1>          <div class="iconContent">            <span class="value-vert-line"></span>            <span class="value-line"></span>            <ul class="clearfix">              <li>                <span class="icon fa-road"></span>                <span class="title">Acquire</span>                <p>Reach over 400 million people each month with native ads and promoted content.</p>              </li>              <li>                <span class="icon fa-fire"></span>                <span class="title">Engage</span>                <p>Increase views, time on site, repeat visits and social traffic with our award winning site tools.</p>              </li>              <li>                <span class="icon fa-bar-chart-o"></span>                <span class="title">Discover</span>                <p>Understand your audience and deliver content they crave with our easy-to-use analytics dashboard.</p>              </li>              <li>                <span class="icon fa-money"></span>                <span class="title">Make Money</span>                <p>Earn revenue from your website with personalized, unobtrusive native ads. </p>              </li>             </ul>            <span class="value-vert-line-2"></span>          </div>        </div>        <button class="cta">Get Started Now</button>        <div class="panel-footer">          <a class="shareaholic-ui-button privacy" href="//www.shareaholic.com/privacy" target="_blank">Privacy</a>        </div>      </div>    </div>  </a></div>',Shareaholic.prototype.Handlebars.registerPartial("recommendations_help",Shareaholic.templates.recommendations_help)}.call(this),function(){Shareaholic.templates.share_result='<div class="shareaholic-share-result {{result_class}}">  <header class="result-header">    <h1>{{headline}}</h1>    {{#if message}}    <h2>{{message}}</h2>    {{/if}}    <div class="result-icon-big">      <i class="{{icon_class}}"></i>    </div>    <button class="close-button"><i class="icon-cross-alt"></i></button>  </header>  <div class="result-content">    <p class="result-remedy">{{remedy}}</p>    <div class="result-action">      {{#compare auth_account_type "twitter"}}        <img alt="Connect with Twitter" class="auth-connect-button" data-service="twitter" src="//dsms0mj1bbhn4.cloudfront.net/assets/services/connect_with_twitter.png" />      {{/compare}}      {{#compare auth_account_type "facebook"}}        <img alt="Connect with Facebook" class="auth-connect-button" data-service="facebook" src="//dsms0mj1bbhn4.cloudfront.net/assets/services/connect_with_facebook.gif" />      {{/compare}}      {{#if show_retry_button}}        <button class="retry-button button-primary">Retry</button>      {{/if}}    </div>    {{#if ad_tag}}    <p class="result-bonus">    {{#each ad_tag}}      {{> ad_tag_criteo}}    {{/each}}    </p>    {{/if}}  </div>  <div class="panel-footer">    <p>      <a class="shareaholic-ui-button logo-button" href="//www.shareaholic.com" target="_blank"><i class="ui-icon ui-logo"></i></a>      <a class="shareaholic-ui-button privacy" href="//www.shareaholic.com/privacy" target="_blank">Privacy</a>    </p>  </div></div>'}.call(this),function(){Shareaholic.templates.share_result_panel_multi='<div class="shareaholic-share-result-multi">  <div class="result-message">{{message}}</div>  <div class="result-remedy">{{remedy}}</div>  <ul class="share-status-widgets fit-{{shares.length}}">  {{#each shares}}    <li class="share-status-widget" data-auth-id="{{this.authentication_id}}" title="{{this.username}}">      <img src="{{this.avatar_url}}" alt="Avatar" />      <div class="status-indicator">        <i class="icon-waiting"></i>      </div>    </li>  {{/each}}  </ul>  <div class="result-action">    <div class="authentication-buttons">      <img alt="Connect with Twitter" class="auth-connect-button" data-service="twitter" src="//dsms0mj1bbhn4.cloudfront.net/assets/services/connect_with_twitter.png" />      <img alt="Connect with Facebook" class="auth-connect-button" data-service="facebook" src="//dsms0mj1bbhn4.cloudfront.net/assets/services/connect_with_facebook.gif" />    </div>    <button class="retry-button button-primary">Retry</button>  </div></div>'}.call(this),function(){Shareaholic.templates.twitter='<div>  <h1>Share this on {{name}}</h1>  <form>    <textarea>This is a tweet. via @Shareaholic</textarea>    <button type="submit">{{submit_text}}</button>  </form></div>'}.call(this),function(){Shareaholic.templates.twitter_post_preview='<div class="shareaholic-twitter-post-preview">    <p class="tweet-text">{{message}}</p></div>'}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=Shareaholic.prototype.Handlebars,window.Shareaholic.prototype.MultiSharePanel=function(){function i(e,i){this.parent_view=e,this.config=null!=i?i:{},this.auth_connect_button_click_handler=t(this.auth_connect_button_click_handler,this),this.connected_account_click_handler=t(this.connected_account_click_handler,this),this.message_mousedown_handler=t(this.message_mousedown_handler,this),this.message_new_word_handler=t(this.message_new_word_handler,this),this.message_blur_handler=t(this.message_blur_handler,this),this.message_keyup_handler=t(this.message_keyup_handler,this),this.submit_btn_click_handler=t(this.submit_btn_click_handler,this),this.add_account_btn_click_handler=t(this.add_account_btn_click_handler,this),this.update_multi_share_result_status=t(this.update_multi_share_result_status,this),this.show_multi_share_result=t(this.show_multi_share_result,this),this.show_single_share_result=t(this.show_single_share_result,this),this.on_auth_failure=t(this.on_auth_failure,this),this.on_auth_success=t(this.on_auth_success,this),this.populate_message=t(this.populate_message,this),Shareaholic.Utils.debug("Constructor"),this.init(this.config)}return i.options={},i.instances=[],i.share_buttons=[],i.e_namespace="multi_share_panel",i.prototype.init=function(e){return this.config=null!=e?e:{},Shareaholic.prototype.MultiSharePanel.instances.push(this),Shareaholic.Utils.debug(this.config),this.state={},this.preview_panes={},Shareaholic.Utils.debug("in multi-share-panel init"),this.$=Shareaholic.$,this.$connected_accounts=this.parent_view.$view.find(".connected-accounts"),this.$heading=this.parent_view.$view.find("h3"),this.$message_form=this.parent_view.$view.find(".post form"),this.$message=this.parent_view.$view.find(".share-message textarea"),this.$submit_btn=this.parent_view.$view.find(".submit"),this.$character_count=this.parent_view.$view.find(".character-count"),this.$preview_panes=this.parent_view.$view.find(".preview-panes"),this.$link_preview_container=this.parent_view.$view.find("#link_preview_pane"),this.$email_btn=this.parent_view.$view.find(".email-button"),this.$all_btn=this.parent_view.$view.find(".all-button"),this.setup_events(),this.update_character_count(),this.check_ready_state(),this.toggle_link_preview_visibility()},i.prototype.setup_events=function(){var e,t=this;return e=this.$("body"),this.$submit_btn.on("click",this.submit_btn_click_handler),this.$message.on("keyup",this.message_keyup_handler).on("blur",this.message_blur_handler).on("mousedown",this.message_mousedown_handler),this.$email_btn.on("click",function(e){return Shareaholic.prototype.Core.share_handlers.share_via_redirect("email_this",t.state.share_object,e),t.parent_view.hide(!0)}),this.$all_btn.on("click",function(){return Shareaholic.prototype.Core.share_handlers.show_all_services(null,t.state.share_object)})},i.prototype.show=function(e){var t;return Shareaholic.Utils.debug("in MultiSharePanel show method",e),(null!=e?null!=(t=e.data)?t.share_object:void 0:void 0)&&(this.state.share_object=e.data.share_object),this.account_verification(e)},i.prototype.populate_account_list=function(t){var i,n;return null==t&&(t={}),Shareaholic.Utils.debug("in populate_account_list",t),(n=Shareaholic.compiled_templates).connected_accounts_list||(n.connected_accounts_list=e.compile(Shareaholic.templates.connected_accounts_list)),i=Shareaholic.compiled_templates.connected_accounts_list(this.connected_account_array()),this.$connected_accounts.html(i),this.$connected_accounts.find(".connected-account a").on("click",this.connected_account_click_handler),this.$connected_accounts.find(".new-account a").on("click",this.add_account_btn_click_handler),t.preselect_service&&this.select_connected_accounts_by_service(t.preselect_service),t.preselect_accounts?this.select_connected_accounts_by_id(t.preselect_accounts):void 0},i.prototype.account_limit=function(){return Shareaholic.SDK.connected_accounts.length>=6},i.prototype.hide_link_preview=function(e){return null==e&&(e=!1),this.$link_preview_container.hide(),this.state.attach_link_to_post=!1,e?this.state.manually_disabled_link=!0:void 0},i.prototype.show_link_preview=function(){return this.$link_preview_container.show(),this.state.attach_link_to_post=!0},i.prototype.update_link_preview=function(){var t,i,n,o,s,r,a,l,c,h,u,d=this;return(u=Shareaholic.compiled_templates).link_preview||(u.link_preview=e.compile(Shareaholic.templates.link_preview)),h=Shareaholic.compiled_templates.link_preview(this.state.share_object.params()),this.$link_preview_container.html(h),l=this.$link_preview_container.find(".thumbnail-picker"),c=this.$link_preview_container.find(".thumbnail"),i=this.$link_preview_container.find("img"),a=this.$link_preview_container.find(".previous-btn"),r=this.$link_preview_container.find(".next-btn"),t=this.$link_preview_container.find("small"),o=this.$link_preview_container.find(".close-button"),s=this.$link_preview_container.find(".link-title"),n=this.$link_preview_container.find(".link-notes"),this.state.share_object.get("images").length&&(t.html(this.state.share_object.image_location()),a.on("click",function(){return d.set_preview_image(d.state.share_object.select_previous_image(),i,t)}),r.on("click",function(){return d.set_preview_image(d.state.share_object.select_next_image(),i,t)}),c.on("click",function(){return d.set_preview_image(d.state.share_object.select_next_image(),i,t)})),o.on("click",function(){return d.hide_link_preview(!0)}),s.on("keyup."+this.e_namespace,function(){return d.state.share_object.set("title",s.text())}),n.on("keyup."+this.e_namespace,function(){return d.state.share_object.set("notes",n.text())})},i.prototype.set_preview_image=function(e,t,i){var n,o=this;return n=this.$("<img>"),this.$(".thumbnail-picker").pacify({theme:"light"}),n.on("load",function(){return t.attr("src",e),i.html(o.state.share_object.image_location()),Shareaholic.$(".thumbnail-picker").pacify("stop")}),n.attr("src",e)},i.prototype.update_character_count=function(){var e,t,i;return this.state.character_limit?(t=this.state.character_limit-this.get_character_count(),e="warn-severe warn-mild",this.$submit_btn.removeClass("ui-disabled"),this.state.over_character_limit=!1,i="",0>t&&(this.state.over_character_limit=!0,this.$submit_btn.addClass("ui-disabled")),10>=t?i="warn-severe":20>=t&&(i="warn-mild"),this.$character_count.html(t).removeClass(e).addClass(i)):void 0},i.prototype.get_character_count=function(){var e,t,i;return i=this.get_message(),e=i.length,t=Shareaholic.Utils.find_urls_in_string(i),e-=t.join("").length-22*t.length},i.prototype.pacify_panel=function(){var e;return e=this.$("<i>",{"class":"ui-icon ui-loading-grey"}),this.$character_count.empty().append(e),this.$message_form.pacify({theme:"light",indicator:!1}),this.$connected_accounts.pacify({theme:"light",indicator:!1}),this.$submit_btn.addClass("ui-disabled").attr("disabled","disabled")},i.prototype.unpacify_panel=function(){return this.$message_form.pacify("stop"),this.$connected_accounts.pacify("stop"),this.update_character_count(),this.check_ready_state()},i.prototype.check_ready_state=function(){return this.$submit_btn.removeClass("ui-disabled").removeAttr("disabled"),this.get_selected_accounts().length<1||this.has_no_message()||this.state.over_character_limit?this.$submit_btn.addClass("ui-disabled").attr("disabled","disabled"):void 0},i.prototype.toggle_link_preview_visibility=function(e){var t,i,n,o,s;for(this.hide_link_preview(),i=["facebook","linked_in"],-1!==i.indexOf(e)&&(this.state.manually_disabled_link=!1),s=this.get_selected_accounts(),n=0,o=s.length;o>n;n++)if(t=s[n],-1!==i.indexOf(this.get_connected_account_type(t))&&!this.state.manually_disabled_link)return this.show_link_preview(),!0},i.prototype.toggle_character_count_visibility=function(){var e,t,i,n;for(this.$character_count.hide(),this.state.over_character_limit=!1,this.state.character_limit=!1,n=this.get_selected_accounts(),t=0,i=n.length;i>t;t++)if(e=n[t],"twitter"===this.get_connected_account_type(e))return this.$character_count.css({display:"inherit"}),this.state.character_limit=140,this.update_character_count(),!0},i.prototype.has_no_message=function(){return""===this.get_message()},i.prototype.get_message=function(e){return e?this.$message.val().trim():this.$message.val()},i.prototype.populate_message=function(){var e;return Shareaholic.Utils.debug("in populate_message"),e=this.state.share_object.get("text"),this.$message.val(e)},i.prototype.account_verification=function(e){var t;return Shareaholic.Utils.debug("CONNECTED ACCOUNTS: ",Shareaholic.SDK.connected_accounts,e),Shareaholic.user_info?Shareaholic.SDK.has_connected_accounts()?(this.populate_account_list(e.data),this.populate_message(),this.shorten_links(),this.update_character_count(),this.update_link_preview(),this.check_ready_state()):(Shareaholic.Utils.debug("There are no accounts, show the Authentication panel."),this.show_auth()):(Shareaholic.Utils.debug("HAS NOT GOTTEN USER DATA YET",this),Shareaholic.prototype.Core.show_waiting_panel("Loading Account Information"),t=this.parent_view,Shareaholic.dispatcher.add("on_get_user_info_complete",function(){return t?(t.show(e),!0):void 0}))},i.prototype.show_auth=function(){var e,t=this;return e={template:Shareaholic.templates.connect_account_panel,title:"Connect an Account",data:{cancel_button_text:"Cancel"},onrendertemplate:function(e){return e.find(".cancel-button").on("click",function(){return Shareaholic.SDK.has_connected_accounts()?t.parent_view.show({data:{preselect_accounts:t.get_selected_accounts()}}):t.connect_account_panel.hide(!0)})},init:function(){return Shareaholic.$(".auth-connect-button").on("click",t.auth_connect_button_click_handler)
},show:function(){return Shareaholic.SDK.has_connected_accounts()?t.connect_account_panel.$view.find(".cancel-button").text("Go Back"):void 0}},this.connect_account_panel=new Shareaholic.prototype.PanelView("connect_account_panel",e,this.config.panel_namespace),this.connect_account_panel.show()},i.prototype.on_auth_success=function(e){var t,i,n,o;if(Shareaholic.Utils.debug("on_auth_success",e),this.parent_view){t=this.get_selected_accounts(),o=e.most_recent_auth;for(n in o)i=o[n],t.push(i.authentication_id);return this.parent_view.show({data:{preselect_accounts:t}})}},i.prototype.on_auth_failure=function(e){return Shareaholic.Utils.debug("on_auth_failure",e),this.connect_account_panel.display_errors(e.responseText)},i.prototype.show_single_share_result=function(e,t){var i,n,o,s=this;return 200===t.status&&Shareaholic.apps.ShareButtons.show_redirect_share_thanks(this.get_connected_account_by_id(e).nickname)?!0:(o=this.get_share_result_params(e,t),i={has_footer:!1,onrendertemplate:function(e){var t;return s.$share_panel_result=e,s.$share_panel_result_message=e.find(".result-message"),s.$share_panel_result_auth_btns=e.find(".auth-connect-button"),s.$share_panel_result_retry_button=e.find(".retry-button"),null!=(t=s.$share_panel_result_auth_btns)&&t.on("click",s.auth_connect_button_click_handler),s.$close_button=e.find(".close-button")},init:function(){},show:function(t){var i;return null==t&&(t={}),null!=(i=s.$share_panel_result_retry_button)&&i.off("click").on("click",function(){return s.parent_view.show({data:{preselect_accounts:e}})}),s.$close_button.off("click.share_thanks").on("click.share_thanks",function(){return s.share_result_panel.hide(!0)})}},this.share_result_panel=new Shareaholic.prototype.PanelView("share_result",i,this.config.panel_namespace),n=Shareaholic.Utils.merge_objects({result:t,auth_id:e},o),this.share_result_panel.show({data:n,recompile:!0}))},i.prototype.show_multi_share_result=function(e){var t,i=this;return t={has_footer:!1,onrendertemplate:function(e){return i.$multi_retry_button=e.find(".retry-button").hide(),i.$multi_auth_buttons=e.find(".auth-connect-button").hide().on("click",i.auth_connect_button_click_handler)},init:function(){},show:function(e){return null==e&&(e={}),i.multi_preselect_accounts=[],i.$multi_retry_button.off("click.shareaholic_multi_retry").on("click.shareaholic_multi_retry",function(){return i.parent_view.show({data:{preselect_accounts:i.multi_preselect_accounts}})})}},this.share_result_panel_multi=new Shareaholic.prototype.PanelView("share_result_panel_multi",t,this.config.panel_namespace),this.share_result_panel_multi.show({data:{message:"Preparing Shares...",shares:this.get_connected_accounts_by_ids(e)},recompile:!0})},i.prototype.update_multi_share_result_status=function(e,t){var i,n,o,s;return Shareaholic.Utils.debug("in update_multi_share_result_status",e),200!==t.status&&this.multi_preselect_accounts.push(e),s=this.get_share_result_params(e,t),o=this.share_result_panel_multi.$view.find(".share-status-widget"),n=o.filter("[data-auth-id='"+e+"']"),n.addClass(s.result_class),i=n.find(".status-indicator i"),i.removeClass("icon-waiting").addClass("icon-"+s.result_class).attr("title",t.message),s.show_retry_button&&this.$multi_retry_button.show(""),s.auth_account_type&&(this.$multi_retry_button.show(""),this.$multi_auth_buttons.filter("[data-service='"+s.auth_account_type+"']").show(""),this.$multi_retry_button.text("Authenticate").off("click.shareaholic_multi_retry").on("click.shareaholic_multi_retry",this.auth_connect_button_click_handler).data("service",s.auth_account_type)),o.filter(".success").length===o.length?this.share_result_panel_multi.delay_hide():void 0},i.prototype.get_share_result_params=function(e,t){var i,n,o;return i=this.get_connected_account_type(e),o=i.capitalize(),n={show_retry_button:!1,auth_account_type:!1},200===t.status?(n.result_class="success",n.icon_class="icon-check-alt",n.headline="Hooray!",n.message="Your share was successfully posted."):(n.show_retry_button=!0,n.result_class="error",n.icon_class="icon-cross-alt",511===t.status?(n.headline="Drats!",n.message="Your "+o+" may not be authenticated.",n.remedy="Try clicking the authentication below and giving it another shot.",n.auth_account_type=i,n.show_retry_button=!1):502===t.status?(n.headline="Dang!",n.message=""+o+" appears to be unavailable.",n.remedy="Give it a couple minutes and try again later."):429===t.status?(n.headline="Yikes!",n.message=""+o+" thinks that you are getting a little trigger happy.",n.remedy="Try switching to decaf and check back in a few."):409===t.status?(n.headline="Whoa, Deja Vu.",n.message=""+o+" swears that you just posted that.",n.remedy="Double check your message to make sure that it is not a duplicate."):(n.headline="Great Scott!",n.message="Something may be wrong in the cloud.",n.remedy="Give it a couple minutes and try again later.")),n},i.prototype.connected_account_array=function(){return this.get_connected_accounts_by_services(["facebook","twitter"])},i.prototype.get_selected_accounts=function(){var e,t;return t=[],e=this.$connected_accounts.find("ul li a.selected"),e.each(function(e,i){return t.push(Shareaholic.$(i).data("auth-id"))}),t},i.prototype.get_connected_accounts_by_services=function(e,t){var i,n,o,s;for(null==t&&(t=!1),e="object"==typeof e?e:[e],i=[],o=0,s=e.length;s>o;o++)n=e[o],i=i.concat(this.get_connected_accounts_by_service(n,t));return i},i.prototype.get_connected_accounts_by_service=function(e,t){var i,n,o,s,r;if(null==t&&(t=!1),n=[],Shareaholic.SDK.connected_accounts[e])for(r=Shareaholic.SDK.connected_accounts[e],o=0,s=r.length;s>o;o++)i=r[o],n.push(t?i.authentication_id:i);return n},i.prototype.select_connected_accounts_by_service=function(e){var t;return t=this.$connected_accounts.find("ul li.connected-account."+e+" a"),t.trigger("click"),!0},i.prototype.select_connected_accounts_by_id=function(e){var t,i,n,o,s,r;for(e="object"==typeof e?e:[e],s=Shareaholic.Utils.remove_duplicates(e),r=[],n=0,o=s.length;o>n;n++)i=s[n],t=this.$connected_accounts.find("ul li#auth-"+i+" a"),r.push(t.trigger("click",{currentTarget:t}));return r},i.prototype.get_connected_account_type=function(e){var t,i,n,o,s,r;r=Shareaholic.SDK.connected_accounts;for(n in r)for(i=r[n],o=0,s=i.length;s>o;o++)if(t=i[o],t.authentication_id===e)return n;return!1},i.prototype.get_connected_account_by_id=function(e){var t,i,n,o,s,r;r=Shareaholic.SDK.connected_accounts;for(n in r)for(i=r[n],o=0,s=i.length;s>o;o++)if(t=i[o],t.authentication_id===e)return t;return!1},i.prototype.get_connected_accounts_by_ids=function(e){var t,i,n,o;for(e="object"==typeof e?e:[e],t=[],n=0,o=e.length;o>n;n++)i=e[n],t.push(this.get_connected_account_by_id(i));return t},i.prototype.validate_share=function(){var e,t,i,n,o,s,r=this;if(e=this.get_selected_accounts(),e.length<=0)return!1;for(e.length>1?(this.show_multi_share_result(e),n=this.update_multi_share_result_status,i=this.update_multi_share_result_status):(this.pacify_panel(),n=function(e,t){return r.show_single_share_result(e,t),r.unpacify_panel()},i=function(e,t){return r.show_single_share_result(e,t),r.unpacify_panel()}),o=0,s=e.length;s>o;o++)t=e[o],this.make_share(t,n,i);return!1},i.prototype.make_share=function(e,t,i){var n;return n={success:function(){return t(e,{status:200})},failure:function(t){return i(e,t)},data:this.state.share_object.share_request({authentication_id:e,service_nickname:this.get_connected_account_type(e)},!0)},Shareaholic.SDK.share(n)},i.prototype.shorten_links=function(){return this.state.share_object.shorten_text_links({complete:this.populate_message})},i.prototype.add_account_btn_click_handler=function(){return Shareaholic.Utils.debug("in add account click handler"),Shareaholic.Utils.report_event("ShareButtons:MultiSharePanel:ConnectAccountButtonClick"),this.show_auth()},i.prototype.submit_btn_click_handler=function(){return Shareaholic.Utils.debug("in click event"),this.validate_share(),!1},i.prototype.message_keyup_handler=function(e){var t;return this.state.share_object.set("text",this.get_message(!1)),this.update_character_count(),this.check_ready_state(),t=e.keyCode||e.which,32===t||13===t?this.message_new_word_handler(e):void 0},i.prototype.message_blur_handler=function(){return this.shorten_links()},i.prototype.message_new_word_handler=function(){return this.shorten_links()},i.prototype.message_mousedown_handler=function(){return this.shorten_links()},i.prototype.connected_account_click_handler=function(e){var t,i;return t=this.$(e.currentTarget),t.toggleClass("selected"),i=t.data("service"),this.selected_accounts=this.get_selected_accounts(),this.toggle_link_preview_visibility(i),this.toggle_character_count_visibility(i),this.check_ready_state(),!1},i.prototype.auth_connect_button_click_handler=function(e){var t,i,n,o=this;return t=this.$(e.currentTarget),n=t.data("service"),i={service:n,success:function(e){return o.on_auth_success(e)},failure:function(e){return o.on_auth_failure(e)}},Shareaholic.SDK.authenticate(i),Shareaholic.Utils.report_event("ShareButtons:ConnectAccountsPanel:AuthButtonClick",JSON.stringify({service:n}))},i}()}.call(this),function(){var e;Shareaholic.SDK.init(),e=new RegExp("en-US|"+window.navigator.language),Shareaholic.LOCALE_SERVICES_LIST=Shareaholic.Utils.filter_array(Shareaholic.ALL_SERVICE_LIST,function(t){return Shareaholic.SERVICES[t].locale.match(e)}),Shareaholic.SharePreferences=new Shareaholic.prototype.SharePreferencesObject}.call(this),function(){window.Shareaholic.prototype.Widget=function(){function e(e,t,i,n){this.config=e,this.widget_type=t,this.app_location_id=i,this.dom_object=n,this.$=Shareaholic.$,this.$dom_object=this.$(this.dom_object),this.widgets={},this.app_config=this.config.apps[this.widget_type],this.install_widget()}return e.instances=[],e.instantiated_apps=[],e.init=function(){return this.initialized?void 0:(Shareaholic.SDK.load_publisher_configuration(Shareaholic.SITE_ID),this.initialized=!0)},e.initialize_canvases=function(){var t,i,n,o,s,r,a,l,c,h,u,d;for(Shareaholic.Utils.debug("In initialize_canvases"),i=e.$(".shareaholic-canvas"),l=0,c=i.length;c>l;l++)o=i[l],t=e.$(o),r=(null!=(h=t.data("shareaholic-widgets"))?h.split(" ")[0]:void 0)||t.data("app"),r&&(n=t.data("app-id"),new Shareaholic.prototype.Widget(Shareaholic.SharePreferences.get("page_prefs"),r,n,o));u=Shareaholic.requesters,d=[];for(a in u)s=u[a],d.push(s.load());return d},e.initialize_media_share=function(){return Shareaholic.dispatcher.add_once("document_ready",function(){return Shareaholic.dispatcher.add_once("load_publisher_configuration_complete",function(){var e;return Shareaholic.Utils.debug("In initialize_media_share"),e=Shareaholic.SharePreferences.get("page_prefs").apps.share_buttons,Shareaholic.page_info.allow_pin?e.shareable_images||e.shareable_videos?Shareaholic.prototype.MediaShare.init({images:Shareaholic.SharePreferences.get("page_prefs").apps.share_buttons.shareable_images,videos:Shareaholic.SharePreferences.get("page_prefs").apps.share_buttons.shareable_videos}):void 0:(Shareaholic.Utils.debug("Publisher has set nopin meta tag"),!1)},!0)},!0)},e.prototype.install_widget=function(){var e=this;return this.widget_class=Shareaholic.Utils.camelcase(this.widget_type),Shareaholic.prototype[this.widget_class]&&!this.$dom_object.data("shareaholic_widget_"+this.widget_type)&&(Shareaholic.prototype[this.widget_class].initialized||Shareaholic.prototype[this.widget_class].init(this.app_config),this.app_location_config=this.get_valid_app_location_config(),this.widgets[this.widget_type]=new Shareaholic.prototype[this.widget_class](this.$dom_object,this.app_location_config),Shareaholic.prototype.Widget.instances.push(this),this.$dom_object.data("shareaholic_widget_"+this.widget_type,!0),this.$dom_object.data("shareaholic_widget",this),Shareaholic.prototype.Widget.instantiated_apps.indexOf(this.widget_type)>=0||(Shareaholic.prototype.Widget.instantiated_apps.push(this.widget_type),Shareaholic.Utils.load_css({href:""+Shareaholic.ASSET_ROOT_URL+"/pub/"+this.widget_type+".css",id:""+this.widget_type+"_css",success:function(){return Shareaholic.dispatcher.trigger("on_load_"+e.widget_type+"_css")}}))),!0},e.prototype.destroy=function(){var e,t,i,n;if(this.dom_object.data("shareaholic_widget")){n=this.widgets;for(i in n)t=n[i],t.$container.dispose(),this.dom_object.removeData("shareaholic_widget_"+i);return e=Shareaholic.prototype.Widget.instances.indexOf(this),delete Shareaholic.prototype.Widget.instances[e],this.dom_object.removeData("shareaholic_widget"),Shareaholic.prototype.Widget.instances=Shareaholic.Utils.filter_array(Shareaholic.prototype.Widget.instances,function(e){return void 0!==e})}},e.prototype.get_valid_app_location_id=function(){return this.app_location_id&&this.app_config.locations[this.app_location_id]||(this.app_location_id=this.app_config.default_location_id,this.app_location_id&&this.app_config.locations[this.app_location_id]||(this.app_location_id=Shareaholic.DefaultPublisherConfiguration.apps.recommendations.default_location_id)),this.app_location_id},e.prototype.get_valid_app_location_config=function(){return this.app_config.locations[this.get_valid_app_location_id()]},e.prototype.get_container_styles=function(){var e,t,i,n;t="",n=this.config.style;for(e in n)i=n[e],t+=""+e+":"+i+";";return t},e}.call(this)}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};window.Shareaholic.prototype.MediaShare=function(){function t(t,i,n,o,s,r){var a;this.media=t,this.type=i,this.url=n,this.media_url=o,this.title=s,this.config=null!=r?r:{},this.position_overlay=e(this.position_overlay,this),this.media_mouseenter_handler=e(this.media_mouseenter_handler,this),this.$=Shareaholic.$,this.$media=this.$(this.media),this.$media.on("mouseenter.media_share",this.media_mouseenter_handler),this.$media.on("mouseleave.media_share",this.constructor.media_mouseleave_handler),this.$media.data("media_share",this),a={plugin:"media_share",link:this.url,link_title:this.title,link_notes:"",images:[this.media_url],message_format:Shareaholic.SharePreferences.get("message_format"),shortener:Shareaholic.SharePreferences.get("shortener_config").shortener,shortener_api_key:Shareaholic.SharePreferences.get("shortener_config").shortener_api_key,shortener_login:Shareaholic.SharePreferences.get("shortener_config").shortener_login,api_key:Shareaholic.apps.ShareButtons.API_KEY},this.share_object=new Shareaholic.prototype.ShareObject(a)}return t.current_media=null,t.init=function(e){return this.config=null!=e?e:{},this.$=Shareaholic.$,this.initialized||(this.initialized=!0,this.instances=[],this.$(window).on("resize.media_share",Shareaholic.prototype.MediaShare.update_placement),this.create_overlay()),this.media_source="article"===this.config.source?Shareaholic.page_info.get_post_elements():this.$("body"),this.config.images&&this.init_images(),this.config.videos?this.init_videos():void 0},t.excluded_media=function(e){var t,i,n,o,s;for(e=Shareaholic.Utils.is_array(e)?e:[e],i=["header",".header","#header","footer",".footer","#footer","aside",".sidebar","#sidebar",".comment"],n=[],o=0,s=e.length;s>o;o++)t=e[o],n=n.concat(Shareaholic.Utils.map_array(i,function(e){return""+e+" "+t}));return n.join(",")},t.init_images=function(){var e,t,i,n,o,s,r,a;for(e=this.media_source.find("img").not(this.excluded_media("img")),a=[],s=0,r=e.length;r>s;s++)t=e[s],this.valid_image_for_sharing(t)?(i=t.src,o=Shareaholic.Utils.link_heuristic(t),n=this.$(t).attr("title")||Shareaholic.Utils.title_heuristic(this.$(t)[0]),a.push(this.instances.push(new Shareaholic.prototype.MediaShare(t,"image",o,i,n)))):a.push(void 0);return a},t.init_videos=function(){var e,t,i,n,o,s,r,a;for(e=this.media_source.find("iframe").not(this.excluded_media("iframe")),a=[],s=0,r=e.length;r>s;s++)o=e[s],this.valid_video_for_sharing(o)?(t=this.get_video_thumbnail(o.src),n=Shareaholic.Utils.link_heuristic(o),i=this.$(o).attr("title")||Shareaholic.Utils.title_heuristic(this.$(o)[0]),a.push(this.instances.push(new Shareaholic.prototype.MediaShare(o,"video",n,t,i)))):a.push(void 0);return a},t.prototype.media_mouseenter_handler=function(){var e;return this.constructor.share_buttons.update_share_object(this.share_object),clearTimeout(this.constructor.hide_timeout),this.position_overlay(),null!=(e=this.constructor.current_media)&&e.removeClass("shareaholic-media-target-hover-state"),this.$media.addClass("shareaholic-media-target-hover-state"),this.constructor.current_media=this.$media},t.media_mouseleave_handler=function(){return t.hide_timeout=setTimeout(function(){var e;return t.$overlay.hide(),t.share_object=null,null!=(e=t.current_media)?e.removeClass("shareaholic-media-target-hover-state"):void 0},100)},t.prototype.update_theme=function(e){return this.constructor.$overlay.removeClass().addClass("shareaholic-media-overlay").addClass(e)},t.is_youtube_video=function(e){var t;return t=/youtube.com/.test(e)},t.get_youtube_video_id_from_embed=function(e){var t;return t=e.match(/youtube.com\/embed\/([a-zA-Z0-9]*)\?/),null!=t?t[1]:void 0},t.get_video_thumbnail=function(e){var t;return this.is_youtube_video(e)&&(t=this.get_youtube_video_id_from_embed(e))?"http://img.youtube.com/vi/"+t+"/0.jpg":void 0},t.get_video_url=function(e){var t;return this.is_youtube_video(e)&&(t=this.get_youtube_video_id_from_embed(e))?"http://youtube.com/watch?v="+t:void 0},t.overlay_mouseover_handler=function(){return clearTimeout(t.hide_timeout)},t.is_excluded=function(e,t){var i;return i=new RegExp(t.join("|"),"i"),i.test(e)?!0:!1},t.is_included=function(e,t){var i;return i=new RegExp(t.join("|"),"i"),i.test(e)?!0:!1},t.valid_video_for_sharing=function(e){var i;return i=t.$(e),i.data("media_share")?!1:t.is_included(e.src,["youtube.com/embed"])?!0:!1},t.valid_image_for_sharing=function(e){var i;return i=t.$(e),i.data("media_share")?!1:t.is_excluded(e.src,["gravatar"])?!1:i.width()<80||i.height()<80?!1:i.width()<120&&i.height()<120?!1:"nopin"===i.attr("nopin")?!1:!0},t.prototype.position_overlay=function(){return this.constructor.$overlay.show().position({my:"left top",at:"left top",of:this.$media,collision:"none"}).css({zIndex:Shareaholic.Utils.computed_z_index(this.$media)})},t.create_overlay=function(){var e;return this.$overlay=this.$("<div>",{"class":"shareaholic-media-overlay"}).hide().on("mouseenter.media_share",this.overlay_mouseover_handler).on("mouseleave.media_share",this.media_mouseleave_handler).appendTo("body"),this.$buttonset=this.$("<div>",{"class":"shareaholic-media-buttons"}).css({width:"auto",height:40,position:"relative",top:5,left:5}).appendTo(this.$overlay),e={apps:{share_buttons:{message_format:"${title} - ${link} via @Shareaholic",locations:{1:{services:[{nickname:"pinterest",title:"Pin It",handler:"share_via_redirect"}],show_all_services_button:!1,headline_text:"",style_class:""}},default_location_id:1}}},this.share_buttons=new Shareaholic.prototype.Widget(e,"share_buttons",null,this.$buttonset).widgets.share_buttons},t.update_placement=function(){return!0},t}.call(this)}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};window.Shareaholic||(window.Shareaholic=function(){}),window.Shareaholic.prototype.Button||(window.Shareaholic.prototype.Button=function(){function t(t,i){this.parent=t,this.service=i,this.click_handler=e(this.click_handler,this),this.$=Shareaholic.$,this.build(),this.constructor.instances.push(this)}return t.instances=[],t.prototype.click_handler=function(){},t.prototype.build=function(){var e,t,i,n,o;return this.$item=this.$("<li>",{title:this.service.title,"data-service":this.service.nickname}).addClass("shareaholic-share-button").on("click",this.click_handler),this.parent.app_location_config.show_tooltip&&Shareaholic.Utils.Browser.is_desktop&&this.$item.tipsy({gravity:"n"}),t=this.$("<div>",{"class":"shareaholic-share-button-container"}).appendTo(this.$item),e=this.$("<a>",{href:"javascript:void(0);"}).appendTo(t),i=this.$("<i>",{"class":"shareaholic-service-icon service-"+this.service.nickname}).appendTo(e),n=this.$("<span>",{"class":"share-button-verb"}).appendTo(e),o=this.$("<b>",{text:this.service.verb||"Share"}).appendTo(n),this.$counter=this.$("<span>",{"class":"share-button-counter",text:0}).prependTo(t)},t}())}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,i=function(e,i){function n(){this.constructor=e}for(var o in i)t.call(i,o)&&(e[o]=i[o]);return n.prototype=i.prototype,e.prototype=new n,e.__super__=i.prototype,e};window.Shareaholic.WidgetPlugin||(window.Shareaholic.WidgetPlugin=function(t){function n(t,i){this.$dom_object=t,this.manual_config=null!=i?i:{},this.get_prefs_from_element=e(this.get_prefs_from_element,this),this.$=Shareaholic.$,this.constructor.load_stylesheet(),this.$dom_object.data("shareaholic_app_"+this.constructor.app_name,!0),this.$dom_object.data("shareaholic_app_object",this),this.app_location_id=this.$dom_object.data("app-id"),this.app_location_config=this.get_valid_app_location_config(),this.process_configuration(),this._constructor(this.$dom_object,this.manual_config)}return i(n,t),n.invalid_location_preferences=["app","shareaholic_widget","locations","default_location_id","shareaholic_app_object"],n.initialize_targets=function(){var e,t,i,n,o,s;for(Shareaholic.Utils.debug("In initialize_targets"),t=this.acquire_targets(),s=[],n=0,o=t.length;o>n;n++)i=t[n],e=this.$(i),e.data("shareaholic_app_"+this.app_name)?s.push(void 0):s.push(new this(e));return s},n._prepare=function(){return this.initialize_targets()},n.acquire_targets=function(){var e;return e=this.$(".shareaholic-canvas"),e.filter("[data-shareaholic-widgets^='"+this.app_name+"'], [data-app='"+this.app_name+"']")},n.prototype.get_prefs_from_element=function(){var e;return e=Shareaholic.Utils.object_except(Shareaholic.Utils.underscore_keys(this.$dom_object.data()),this.invalid_preferences())||{}},n.prototype.invalid_preferences=function(){return this.constructor.invalid_location_preferences.concat(["shareaholic_widget_"+this.constructor.app_name,"shareaholic_app_"+this.constructor.app_name])},n.prototype.get_valid_app_location_id=function(){return this.app_location_id&&this.app_config().locations[this.app_location_id]||(this.app_location_id=this.app_config().default_location_id,this.app_location_id&&this.app_config().locations[this.app_location_id]||(this.app_location_id=Shareaholic.DefaultPublisherConfiguration.apps[this.app_name].default_location_id)),this.app_location_id},n.prototype.get_valid_app_location_config=function(){return this.app_config().locations[this.get_valid_app_location_id()]},n.prototype._constructor=function(){},n.prototype.process_configuration=function(){return this.config=this.$.extend({},this.app_config(),this.app_location_config,this.get_prefs_from_element(this.$dom_object),this.manual_config),this.config=Shareaholic.Utils.object_except(this.config,this.invalid_preferences()),this._process_configuration()},n.prototype._process_configuration=function(){},n}(Shareaholic.Plugin))}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}},i={}.hasOwnProperty,n=function(e,t){function n(){this.constructor=e}for(var o in t)i.call(t,o)&&(e[o]=t[o]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};window.Shareaholic||(window.Shareaholic=function(){}),window.Shareaholic.apps.AdSpaces||(window.Shareaholic.apps.AdSpaces=function(i){function o(){return this.determine_container_size=t(this.determine_container_size,this),e=o.__super__.constructor.apply(this,arguments)}return n(o,i),o.has_publisher_configuration=!0,o.has_stylesheet="green_spaces",o.app_name="ad_spaces",o.instances=[],o.attribution_url="https://shareaholic.com/publishers/recommendations/?src=relatedapp&src_ref="+encodeURIComponent(window.location.hostname),o.formats={wide_skyscraper:[160,600],medium_rectangle:[300,250],full_banner:[468,60],leaderboard:[728,90]},o.mobile_formats={mobile_leaderboard:[320,50],mobile_medium_rectangle:[300,250]},o._init=function(e){return null==e&&(e={}),Shareaholic.Utils.debug("Called AdSpaces class initializer"),this.options={}},o.prototype._constructor=function(e,t){return this.$dom_object=e,null==t&&(t={}),this.$=Shareaholic.$,this.config.approved&&!this.using_default_location()?(this.add_to_dom(),this.generate_ad_tag(),this.update_attribution(this.config),this.constructor.instances.push(this)):this.strip_inline_styles()},o.prototype._process_configuration=function(){return this.config=this.$.extend({},this.config,this.get_format_from_style(),this.get_format_from_attributes()),this.config},o.prototype.using_default_location=function(){return this.config.app_id&&this.config.app_id!==this.config.location_id},o.prototype.strip_inline_styles=function(){return this.$dom_object.css({width:"",height:""})},o.prototype.add_to_dom=function(){return this.$container=this.$("<div>").addClass("shareaholic-ui shareaholic-ad-spaces-container"),this.$ad_container=this.$("<div>").addClass("shareaholic-ad-spaces-ad-unit").appendTo(this.$container),this.$footer=this.$("<div>",{"class":"shareaholic-ad-spaces-footer"}).appendTo(this.$container),this.$dom_object.append(this.$container)},o.prototype.determine_container_size=function(){var e;return e=this.$dom_object.parent(),e.width()},o.prototype.get_ad_format=function(){var e;return e=this.config.ad_format,"auto"===this.config.ad_format?e=this.best_ad_format_by_fit():Shareaholic.Utils.Browser.is_phone&&(e=this.get_format_substitute_for_mobile(this.config.ad_format)),e},o.prototype.get_format_from_style=function(){var e,t,i;return(i=parseInt(this.$dom_object[0].style.width))?(t=parseInt(this.$dom_object[0].style.height),e=this.best_ad_format_by_fit({width:i,height:t}),this.strip_inline_styles(),{format:e}):{}},o.prototype.get_format_from_attributes=function(){var e,t,i;return(i=this.$dom_object.data("width"))?(t=this.$dom_object.data("height"),e=this.best_ad_format_by_fit({width:i,height:t}),{format:e}):{}},o.prototype.best_ad_format_for_content=function(e){return null==e&&(e=700),this.best_ad_format_by_fit({width:e,height:150})},o.prototype.best_ad_format_for_sidebar=function(e){return null==e&&(e=300),this.best_ad_format_by_fit()},o.prototype.best_ad_format_by_fit=function(e,t){var i,n,o,s,r,a,l,c,h,u,d;null==e&&(e={}),null==t&&(t=null),t||(t=this.constructor.formats),n=e.width||this.determine_container_size(),i=e.height;for(h in t)a=t[h],u=!0,d=a[0],c=a[1],s=r?t[r][0]:0,l=0!==s&&d===s,o=r?t[r][1]:0,n>=d&&d>=s&&(i&&c>i&&(u=!1),l?c>o&&u&&(r=h):u&&(r=h));return r},o.prototype.get_format_substitute_for_mobile=function(e){var t,i,n,o;o=this.constructor.mobile_formats;for(n in o)if(t=o[n],t.toString()===this.constructor.formats[e].toString())return n;return i=this.constructor.formats[e][1],this.best_ad_format_by_fit({height:i},this.constructor.mobile_formats)},o.prototype.update_attribution=function(e){var t,i,n;return null!=(n=this.$branding)&&n.remove(),e.show_attribution?(this.$branding=this.$("<a>",{"class":"shareaholic-ad-spaces-attribution",target:"_blank",href:this.constructor.attribution_url,title:"Ads by Shareaholic"}).appendTo(this.$footer),i=this.$("<span>",{"class":"shareaholic-ad-spaces-attribution-text",text:"Ads by "}).appendTo(this.$branding),t=this.$("<i>",{"class":"shareaholic-ad-spaces-attribution-logo"}).appendTo(i)):void 0},o.prototype.generate_ad_tag=function(){var e,t,i,n;return i=new Shareaholic.prototype.CriteoAdProvider,e=this.get_ad_format(),n=this.get_ad_method(e),(t="function"==typeof i[n]?i[n]():void 0)?(this.$ad_container.append(t),this.$container.addClass("unit-"+e)):this.$container.remove()},o.prototype.get_ad_method=function(e){var t;return t=[],e&&t.push(e),t.join("_")},o}(Shareaholic.WidgetPlugin)),window.Shareaholic.prototype.AdProvider||(window.Shareaholic.prototype.AdProvider=function(){function e(){}return e}()),window.Shareaholic.prototype.CriteoAdProvider||(window.Shareaholic.prototype.CriteoAdProvider=function(e){function t(){this.$=Shareaholic.$}return n(t,e),t.prototype.leaderboard=function(){return this.ad_tag("leaderboard",123407)},t.prototype.wide_skyscraper=function(){return this.ad_tag("wide_skyscraper",137537)},t.prototype.medium_rectangle=function(){return this.ad_tag("medium_rectangle",127839)},t.prototype.full_banner=function(){return this.ad_tag("full_banner",137539)},t.prototype.mobile_medium_rectangle=function(){return this.ad_tag("mobile_medium_rectangle",137541)},t.prototype.mobile_leaderboard=function(){return this.ad_tag("mobile_leaderboard",137542)},t.prototype.ad_tag=function(e,t){var i,n,o;return o=this.$("<a>",{href:"//cas.criteo.com/delivery/ck.php?cb=[[CACHEBUSTER]]",target:"_blank"}),n=this.$("<img>",{src:"//cas.criteo.com/delivery/avw.php?zoneid="+t,border:"0",alt:""}),i=this.$("<iframe>",{src:"//cas.criteo.com/delivery/afr.php?zoneid="+t,framespacing:"0",frameborder:"no",scrolling:"no",width:Shareaholic.apps.AdSpaces.formats[e][0],height:Shareaholic.apps.AdSpaces.formats[e][1]}).append(o,n)},t.prototype.ad_tag_old=function(){var e,t,i,n,o,s,r;i=[],document.MAX_ct0="",t=Math.floor(99999999999*Math.random()),s=""+location.protocol+"//cas.criteo.com/delivery/ajs.php?",o={zoneid:123407,nodis:1,cb:t},","!==document.MAX_used&&(o.exclude=document.MAX_used),o.charset=document.charset||document.characterSet||"",o.loc=escape(window.location),document.referrer&&(o.referer=escape(document.referrer)),document.context&&(o.context=escape(document.context)),"undefined"!=typeof document.MAX_ct0&&"http"===document.MAX_ct0.substring(0,4)&&(o.ct0=document.MAX_ct0),document.mmm_fo&&(o.mmm_fo=1);for(e in o)r=o[e],i.push(""+e+"="+r);return n=document.createElement("script"),n.type="text/javascript",n.setAttribute("src","http://spreadaholic.com/~dhoran/criteo_test.js")},t}(Shareaholic.prototype.AdProvider))}.call(this),function(){var e,t={}.hasOwnProperty,i=function(e,i){function n(){this.constructor=e}for(var o in i)t.call(i,o)&&(e[o]=i[o]);return n.prototype=i.prototype,e.prototype=new n,e.__super__=i.prototype,e};window.Shareaholic||(window.Shareaholic=function(){}),window.Shareaholic.apps.AffiliateLinkers||(window.Shareaholic.apps.AffiliateLinkers=function(t){function n(){return e=n.__super__.constructor.apply(this,arguments)}return i(n,t),n.initialized=!1,n.init=function(){var e=this;return Shareaholic.Utils.debug("in AffiliateLinkers init"),Shareaholic.dispatcher.add_once("load_publisher_configuration_complete",function(){var t;if(!e.initialized){if(e.initialized=!0,e.pub_config=Shareaholic.publisher_configuration,!e.pub_config.apps)return;if(t=e.pub_config.apps.affiliate_links,t&&(!t.approved||!t.enabled))return;return e.init_affiliate_partners(),e.execute()}},!0)},n.init_affiliate_partners=function(){return this.affiliate_collection=[new Shareaholic.apps.AffiliateLinkers.VigLink(this.pub_config)]},n.execute=function(){var e,t,i,n,o;for(n=this.affiliate_collection,o=[],t=0,i=n.length;i>t;t++)e=n[t],o.push(e.execute());return o},n}(Shareaholic.Plugin))}.call(this),function(){window.Shareaholic||(window.Shareaholic=function(){}),window.Shareaholic.apps.AffiliateLinkers.VigLink||(window.Shareaholic.apps.AffiliateLinkers.VigLink=function(){function e(e){this.site_id=e.api_key}return e.prototype.execute=function(){var e;return e=Shareaholic.apps.AffiliateLinkers.VigLink,e.vglnk={api_url:"//api.viglink.com/api",key:window.Shareaholic.VIGLINK_API_KEY,cuid:this.site_id},window.vglnk_self="Shareaholic.apps.AffiliateLinkers.VigLink.vglnk",function(e,t){var i,n;return n=e.createElement(t),n.type="text/javascript",n.async=!0,n.src=("https:"===document.location.protocol?"//cdn.viglink.com/api":"//clickcdn.shareaholic.com/api")+"/vglnk.js",i=e.getElementsByTagName(t)[0],i.parentNode.insertBefore(n,i)}(document,"script")},e}())}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}},i={}.hasOwnProperty,n=function(e,t){function n(){this.constructor=e}for(var o in t)i.call(t,o)&&(e[o]=t[o]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o=[].indexOf||function(e){for(var t=0,i=this.length;i>t;t++)if(t in this&&this[t]===e)return t;return-1};window.Shareaholic||(window.Shareaholic=function(){}),window.Shareaholic.apps.CookieConsent||(window.Shareaholic.apps.CookieConsent=function(i){function s(){return this.reveal_message=t(this.reveal_message,this),this.accept=t(this.accept,this),e=s.__super__.constructor.apply(this,arguments)}return n(s,i),s.has_publisher_configuration=!0,s.init_after="on_get_user_info_complete",s.app_name="cookie_consent",s.cookie_name="cookie_consent",s.max_message_length=Shareaholic.Utils.Browser.is_phone?200:250,s.eu_country_codes=["at","be","bg","cy","cz","de","dk","ee","es","fi","fr","gb","gr","hr","hu","ie","it","lt","lu","lv","mt","nl","pl","pt","ro","se","si","sk"],s._init=function(e){return null==e&&(e={}),this.instance=new Shareaholic.apps.CookieConsent
},s.prototype._constructor=function(){return Shareaholic.Utils.debug("in CookieConsent _init"),this.$=Shareaholic.$,this.message_text=this.app_config().message,this.accept_button_text=this.app_config().accept_button_text,this.info_button_text=this.app_config().info_button_text,this.policy_url=this.app_config().policy_url,this.preview_mode=Shareaholic.Utils.has_url_parameter("preview_cookie_consent"),this.test_mode=Shareaholic.Utils.has_url_parameter("test_cookie_consent"),this.preview_mode&&Shareaholic.Utils.debug("Cookie Consent Preview mode"),this.test_mode&&Shareaholic.Utils.debug("Cookie Consent Test mode"),this.should_show_banner()?this.show_banner():void 0},s.prototype.make_banner=function(){return this.$accept_button=this.$("<span>",{type:"button","class":"shareaholic-accept-button consent_button",text:this.accept_button_text}).on("click",this.accept),this.$info_button=this.$("<a>",{"class":"shareaholic-info-button consent_button",href:this.policy_url,text:this.info_button_text,target:"_blank"}),this.$button_set=this.$("<div>",{"class":"shareaholic-button-set"}).append(this.$accept_button,this.$info_button),this.$message=this.$("<p>",{"class":"shareaholic-consent-message"}).text(this.message_text),this.$banner=this.$("<div>",{"class":"shareaholic-ui shareaholic-cookie-consent"}).append(this.$message,this.$button_set).appendTo("body")},s.prototype.show_banner=function(){return this.make_banner(),this.preview_mode?void 0:Shareaholic.Utils.Cookie.set(this.constructor.cookie_name,"seen")},s.prototype.accept=function(){return this.$banner.remove(),this.preview_mode?void 0:Shareaholic.Utils.Cookie.set(this.constructor.cookie_name,"accepted")},s.prototype.reveal_message=function(){return this.$message.removeClass("collapsed").html(this.message_text),this.$read_more_button.remove()},s.prototype.should_show_banner=function(){return this.preview_mode||(this.test_mode||this.visitor_should_see_banner())&&"accepted"!==Shareaholic.Utils.Cookie.get(this.constructor.cookie_name)},s.prototype.visitor_should_see_banner=function(){return 0===this.app_config().show_to||1===this.app_config().show_to&&this.visitor_is_eu_member()},s.prototype.visitor_is_eu_member=function(){var e,t;return e=Shareaholic.user_info.location.country_code2,e?(t=e.toLowerCase(),o.call(this.eu_country_codes,t)>=0):!0},s}(Shareaholic.Plugin))}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}},i={}.hasOwnProperty,n=function(e,t){function n(){this.constructor=e}for(var o in t)i.call(t,o)&&(e[o]=t[o]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};window.Shareaholic||(window.Shareaholic=function(){}),window.Shareaholic.apps.FloatedShareButtons||(window.Shareaholic.apps.FloatedShareButtons=function(i){function o(){return this.set_vertical_offset=t(this.set_vertical_offset,this),e=o.__super__.constructor.apply(this,arguments)}return n(o,i),o.has_publisher_configuration=!0,o.has_stylesheet="share_buttons",o.app_name="floated_share_buttons",o._init=function(e){return null==e&&(e={}),this.instance=new Shareaholic.apps.FloatedShareButtons},o.prototype._constructor=function(){return Shareaholic.Utils.debug("in FloatedShareButtons _init"),this.add_to_dom(),this.share_buttons=new Shareaholic.apps.ShareButtons(this.$container,this.app_config()),this.set_vertical_offset()},o.prototype.add_to_dom=function(){return this.$container=Shareaholic.$("<div>").addClass("shareaholic-floated-share-buttons-container").appendTo("body")},o.prototype.set_vertical_offset=function(){return this.share_buttons.config.vertical_offset?this.share_buttons.$container.css("top",this.share_buttons.config.vertical_offset):void 0},o}(Shareaholic.Plugin))}.call(this),function(){var e,t,i=function(e,t){return function(){return e.apply(t,arguments)}},n={}.hasOwnProperty,o=function(e,t){function i(){this.constructor=e}for(var o in t)n.call(t,o)&&(e[o]=t[o]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};window.Shareaholic||(window.Shareaholic=function(){}),window.Shareaholic.apps.FollowButtons||(window.Shareaholic.apps.FollowButtons=function(t){function n(){return this.reveal_plugin=i(this.reveal_plugin,this),e=n.__super__.constructor.apply(this,arguments)}return o(n,t),n.has_publisher_configuration=!0,n.has_stylesheet="share_buttons",n.app_name="follow_buttons",n.instances=[],n._init=function(e){return null==e&&(e={}),Shareaholic.Utils.debug("Called FollowButtons class initializer"),this.options={}},n.prototype._constructor=function(e,t){return this.$dom_object=e,null==t&&(t={}),Shareaholic.Utils.debug("Called FollowButtons _constructor"),this.$=Shareaholic.$,this.follow_buttons=[],this.constructor.instances.push(this),this.add_to_dom(),this.config.services.length&&(this.build_services(this.config.services),this.update_theme(this.config.style_class),this.update_headline(this.config.headline_text)),Shareaholic.dispatcher.add_once("on_load_share_buttons_css",function(){},this.reveal_plugin(),!0)},n.prototype.add_to_dom=function(){return Shareaholic.Utils.debug("Called FollowButtons add_to_dom"),this.$container=this.$("<div>").addClass("shareaholic-follow-buttons-container shareaholic-share-buttons-container shareaholic-ui").addClass("shareaholic-ui").css("height",0).hide(),this.$wrapper=this.$("<div>").addClass("shareaholic-share-buttons-wrapper").addClass("shareaholic-ui").appendTo(this.$container),this.$service_list=this.$("<ul>").addClass("shareaholic-share-buttons").appendTo(this.$wrapper),this.$dom_object.append(this.$container)},n.prototype.reveal_plugin=function(){return this.$container.css("height","auto").fadeIn(100,this.optimize_button_layout),Shareaholic.dispatcher.trigger("on_follow_buttons_load")},n.prototype.update_theme=function(e){return this.$container.removeClass().addClass("shareaholic-follow-buttons-container shareaholic-share-buttons-container shareaholic-ui").addClass(e),this.config.show_tooltip?this.$service_list.find("li").each(function(){var t;return t="n",/vertical/.test(e)&&(t="w",/right-align/.test(e)&&(t="e")),Shareaholic.$(this).tipsy("setGravity",t)}):void 0},n.prototype.update_headline=function(e){var t;return null!=(t=this.$headline)&&t.remove(),e?this.$headline=this.$("<div>").addClass("shareaholic-share-buttons-heading").text(e).prependTo(this.$wrapper):void 0},n.prototype.build_services=function(e){var t,i,n,o,s;for(null==e&&(e=[]),this.$service_list.empty(),o=0,s=e.length;s>o;o++)i=e[o],n=Shareaholic.Utils.merge_objects(i,{verb:"Follow"},Shareaholic.SERVICES[i.nickname]),n&&(t=new Shareaholic.prototype.FollowButton(this,n),this.follow_buttons[n.nickname]=t,this.$service_list.append(t.$item));return this.$service_list},n}(Shareaholic.WidgetPlugin)),window.Shareaholic.prototype.FollowButton||(window.Shareaholic.prototype.FollowButton=function(e){function n(){return this.click_handler=i(this.click_handler,this),t=n.__super__.constructor.apply(this,arguments)}return o(n,e),n.prototype.click_handler=function(){return Shareaholic.SDK.follow_via_redirect({window_name:"_blank",data:{service_nickname:this.service.nickname,username:this.service.username}})},n}(Shareaholic.prototype.Button))}.call(this),function(){var e,t={}.hasOwnProperty,i=function(e,i){function n(){this.constructor=e}for(var o in i)t.call(i,o)&&(e[o]=i[o]);return n.prototype=i.prototype,e.prototype=new n,e.__super__=i.prototype,e};window.Shareaholic||(window.Shareaholic=function(){}),window.Shareaholic.apps.InfiniteScrollHelper||(window.Shareaholic.apps.InfiniteScrollHelper=function(t){function n(){return e=n.__super__.constructor.apply(this,arguments)}return i(n,t),n.app_name="infinite_scroll_helper",n.has_stylesheet=!1,n.previous_post_count=0,n._init=function(){return this.previous_post_count=Shareaholic.page_info.get_post_elements().length,Shareaholic.Utils.debug("in init_infinite_scroll_helper"),this.$(window).on("scroll.shareaholic_infinite_scroll_helper",this.scroll_handler),this.$(document.body).on("post-load.shareaholic",this.post_load_handler)},n.scroll_handler=function(){var e,t=this;return!this.new_post_listener&&(null!=(e=Shareaholic.page_info)?e.posts:void 0)?(this.new_post_listener_count=0,this.new_post_listener=setInterval(function(){var e,i;try{return t.new_post_listener_count++,Shareaholic.Utils.debug("Listening for new post content. Ping # "+t.new_post_listener_count),e=Shareaholic.page_info.get_post_elements().length,e!==t.previous_post_count&&(Shareaholic.prototype.Core.index_posts(),Shareaholic.init_apps(),clearInterval(t.new_post_listener),delete t.new_post_listener),10===t.new_post_listener_count&&(clearInterval(t.new_post_listener),delete t.new_post_listener),t.previous_post_count=e}catch(n){return i=n,clearInterval(t.new_post_listener),delete t.new_post_listener,Shareaholic.report_error(i)}},1e3)):void 0},n.post_load_handler=function(){return Shareaholic.Utils.debug("Heard a 'post-load' event trigger. Lets unbind the generic infinite sroll helper."),n.$(window).off("scroll.shareaholic_infinite_scroll_helper"),Shareaholic.init_apps()},n}.call(this,Shareaholic.Plugin))}.call(this),function(){var e,t={}.hasOwnProperty,i=function(e,i){function n(){this.constructor=e}for(var o in i)t.call(i,o)&&(e[o]=i[o]);return n.prototype=i.prototype,e.prototype=new n,e.__super__=i.prototype,e};window.Shareaholic||(window.Shareaholic=function(){}),window.Shareaholic.apps.LegacyHelper||(window.Shareaholic.apps.LegacyHelper=function(t){function n(){return e=n.__super__.constructor.apply(this,arguments)}return i(n,t),n.app_name="legacy_helper",n.has_stylesheet=!1,n._init=function(){return this.check_shrrd_settings(0),this.$=Shareaholic.$},n.initialize_legacy_canvases=function(){var e,t,i,o,s,r,a,l,c,h;for(t=n.$('[class^="shr_rd"]'),h=[],l=0,c=t.length;c>l;l++)i=t[l],e=n.$(i),o=i.className.match(/(shr_rd-[0-9]+)/)[1],(r=n.settings[o].link)?(a="text"===n.settings[o].style?"text-only":"",e.data("link",r),s=new Shareaholic.apps.RelatedContent(e,{theme:a}),h.push(n.instances.push(s))):h.push(void 0);return h},n.check_shrrd_settings=function(e){return e=e||0,window.SHRRD_Settings?(this.settings=window.SHRRD_Settings,this.initialize_legacy_canvases(),void 0):6>=e?window.setTimeout(function(){return Shareaholic.apps.LegacyHelper.check_shrrd_settings(e+1)},500):void 0},n}.call(this,Shareaholic.Plugin))}.call(this),function(){var e,t={}.hasOwnProperty,i=function(e,i){function n(){this.constructor=e}for(var o in i)t.call(i,o)&&(e[o]=i[o]);return n.prototype=i.prototype,e.prototype=new n,e.__super__=i.prototype,e};window.Shareaholic||(window.Shareaholic=function(){}),window.Shareaholic.apps.PartnersHelper||(window.Shareaholic.apps.PartnersHelper=function(t){function n(){return e=n.__super__.constructor.apply(this,arguments)}return i(n,t),n.initialized=!1,n.init=function(e){var t=this;return null==e&&(e={}),Shareaholic.Utils.debug("in Partners Helper init"),Shareaholic.dispatcher.add_once("load_publisher_configuration_complete",function(){return t.initialized?!1:(Shareaholic.Analytics.allow_analytics&&Shareaholic.publisher_configuration.data_partners_enabled!==!1&&t.include_script(),t.initialized=!0,!0)},!0)},n.include_script=function(){var e,t,i;return e=Shareaholic.Utils.get_page_canonical_url(),t=window.location.href,e||(e=Shareaholic.URI.parse(t,!0)),i={compiled_at:Shareaholic.compiled_at,location:t,canonical:e.toString()},document.referrer&&(i.referrer=document.referrer),Shareaholic.SITE_ID&&(i.site=Shareaholic.SITE_ID),Shareaholic.Utils.load_script({src:Shareaholic.Utils.query_string(i,""+Shareaholic.PARTNERS_URL+"/partners.js"),id:"shareaholic-partners"})},n}(Shareaholic.Plugin))}.call(this),function(){var e,t,i=function(e,t){return function(){return e.apply(t,arguments)}},n={}.hasOwnProperty,o=function(e,t){function i(){this.constructor=e}for(var o in t)n.call(t,o)&&(e[o]=t[o]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};e=window.Shareaholic.prototype.Handlebars,window.Shareaholic||(window.Shareaholic=function(){}),window.Shareaholic.apps.RelatedContent||(window.Shareaholic.apps.RelatedContent=function(e){function n(){return this.check_visibility=i(this.check_visibility,this),this.attribution_click_handler=i(this.attribution_click_handler,this),this.reveal_widget=i(this.reveal_widget,this),this.load_response_into_dom=i(this.load_response_into_dom,this),this.load_local_recommendations=i(this.load_local_recommendations,this),this._add_local_recommendations=i(this._add_local_recommendations,this),this._contains_rec=i(this._contains_rec,this),t=n.__super__.constructor.apply(this,arguments)}return o(n,e),n.has_publisher_configuration=!0,n.app_name="recommendations",n.has_stylesheet=["recommendations","share_buttons"],n.instances=[],n.invalid_location_preferences=["app","shareaholic_widget","shareaholic_widget_recommendations","locations","default_location_id"],n.quantities={single:[1,1],small:[6,6],large:[24,12]},n.attribution_url="https://shareaholic.com/publishers/recommendations/?src=relatedapp&src_ref="+encodeURIComponent(window.location.hostname),n.promoted_content_levels=[0,12,25,38,50,68,75,88,100,100,100],n._init=function(){return Shareaholic.Utils.debug("Called RelatedContent class initializer"),this.options={},this.$(window).on("resize.related_content",this.set_recommendations_container_size),this.$(window).on("scroll.related_content",Shareaholic.Utils.throttle(this.check_visibility,500)),Shareaholic.dispatcher.add("on_recommendations_load",this.set_recommendations_container_size),Shareaholic.dispatcher.trigger("on_recommendations_class_init")},n.get_quantities_from_string=function(e){var t,i;return i=this.quantities[e]||this.quantities.small,t={desktop_quantity:i[0],mobile_quantity:i[1]}},n.get_request_breakdowns=function(e){var t,i;return i=Shareaholic.Utils.Browser.is_phone?e.mobile_quantity:e.desktop_quantity,t={request_limit_total:i,request_limit_internal:i,request_limit_sponsored:e.promoted_content_enabled?Shareaholic.prototype.RelatedContentCore.calculate_percentage_amount_minimum(i,Shareaholic.prototype.RelatedContentCore.promoted_content_percentage(e)):0}},n.prototype._constructor=function(e,t){return this.$dom_object=e,null==t&&(t={}),this.tracking_pixels=[],this.recommendations=[],!Shareaholic.Utils.Browser.is_desktop&&Shareaholic.Utils.Browser.is_viewport_width&&Shareaholic.dispatcher.add_once("on_init_mobile",function(){return Shareaholic.prototype.Mobile.init_recommendations()},!0),this.add_to_dom(),this.url=this.config.link||Shareaholic.Utils.link_heuristic(this.$dom_object[0],!0),this.load_recommendations(this.config.recommendations||this.url),this.constructor.instances.push(this),this.constructor.set_recommendations_container_size()},n.prototype._process_configuration=function(){return this.config=this.$.extend({},this.constructor.get_quantities_from_string(this.config.total),this.config),this.config=this.$.extend({},this.constructor.get_request_breakdowns(this.config),this.config),this.config},n.prototype.add_to_dom=function(){return this.$container=this.$("<div>").addClass("shareaholic-ui shareaholic-recommendations-container").css({height:0}).hide(),this.$header=this.$("<div>").addClass("shareaholic-recommendations-header").text(this.config.headline_text).appendTo(this.$container),this.$list=this.$("<div>").addClass("shareaholic-recommendations").appendTo(this.$container),this.$footer=this.$("<div>",{"class":"shareaholic-recommendations-footer"}).appendTo(this.$container),this.update_attribution(this.config),this.$dom_object.append(this.$container),this.update_theme(this.config.theme)},n.prototype.divisible_classes=function(){var e,t,i,n,o;for(i=[2,3,4,5,6],e=[],n=0,o=i.length;o>n;n++)t=i[n],0===this.config.request_limit_total%t&&e.push("shareaholic-divisible-"+t);return e.join(" ")},n.prototype._contains_rec=function(e,t){var i,n,o,s;for(i=!1,o=0,s=e.length;s>o;o++)n=e[o],n.url===t&&(i=!0);return i},n.prototype._add_local_recommendations=function(e,t,i){var n,o,s;for(o=0,s=t.length;s>o;o++)n=t[o],e.length<i&&!this._contains_rec(e,n.url)&&e.push(n);return Shareaholic.Utils.shuffle_array(e)},n.prototype.load_local_recommendations=function(e,t){var i,n,o=this;return n=Shareaholic.page_info.wordpress_plugin_details,n&&Shareaholic.Utils.compare_versions(n.version,"7.5.0.3")>0?(i={site_id:Shareaholic.SITE_ID,internal:t,success:function(i){var n,s,r,a;for(r=0,a=i.length;a>r;r++)s=i[r],s.ignore_tracking=!0;return n=o._add_local_recommendations(e,i,t),o.load_response_into_dom(n)},failure:function(){return o.load_response_into_dom(e)}},Shareaholic.SDK.get_wp_recommendations(i)):this.load_response_into_dom(e)},n.prototype.load_recommendations=function(e){var t,i=this;return Shareaholic.Utils.is_array(e)?this.load_response_into_dom(e):(t={url:e,site_id:Shareaholic.SITE_ID,internal:this.config.request_limit_internal,sponsored:this.config.request_limit_sponsored,success:function(e){return e.length<i.config.request_limit_internal?i.load_local_recommendations(e,i.config.request_limit_internal):i.load_response_into_dom(e)},failure:function(){return i.load_local_recommendations([],i.config.request_limit_internal)}},Shareaholic.SDK.get_recommendations(t))},n.prototype.load_response_into_dom=function(e){var t,i,n,o,s,r,a,l,c,h,u;if(this.recommendations_data=e,!(this.$list.find(".shareaholic-recommendation").length||this.recommendations_data.length<1)){for(this.rec_index=0,t=0,o=0,h=this.recommendations_data,r=0,l=h.length;l>r;r++)for(n=h[r],!n.type||n.type&&"internal"===n.type?t++:"sponsored"===n.type&&o++,this.rec_index++,n.index=this.rec_index,n.context=this.config.context,n.context_for_analytics=n.context?" ["+n.context+"]":"",i=new Shareaholic.prototype.Recommendation(this,n),this.recommendations.push(i),this.$list.append(i.$item),u=n.impression_pixels,a=0,c=u.length;c>a;a++)s=u[a],this.tracking_pixels.push(Shareaholic.Utils.get_tracking_function(s));return Shareaholic.dispatcher.add_once("on_load_recommendations_css",this.reveal_widget,!0),Shareaholic.Analytics.google_track_usage("Recommendations","Display Organic Recommendation Links"+n.context_for_analytics+": "+Shareaholic.Utils.Browser.platform,window.location.hostname,t),Shareaholic.Analytics.google_track_usage("Recommendations","Display Sponsored Recommendation Links"+n.context_for_analytics+": "+Shareaholic.Utils.Browser.platform,window.location.hostname,o)}},n.prototype.reveal_widget=function(){var e=this;return setTimeout(function(){return e.$container.css("height","auto").fadeIn(function(){var t,i,n,o;for(o=e.tracking_pixels,i=0,n=o.length;n>i;i++)t=o[i],t();return Shareaholic.dispatcher.trigger("on_recommendations_load")}),e.constructor.set_recommendations_container_size(),e.check_visibility()},200)},n.open_sponsored_link=function(e){return Shareaholic.Utils.Browser.is_mobile?window.open(e,"_blank","width=1000, height=600"):window.open(e,"_blank")},n.build_sample_recommendation=function(e,t){return null==t&&(t={}),t.context="Sample",t.total="single",t.recommendations=Shareaholic.SDK.normalize_recommendation_properties(Shareaholic.prototype.RelatedContentCore.sample_recommendation_response(t.rec_details)),t.request_total=1,new n(e,t)},n.set_recommendations_container_size=function(){return n.$recommendations_containers=n.$(".shareaholic-recommendations-container"),n.$recommendations_containers.each(function(){var e,t,i;return e=Shareaholic.$(this),i=e.width(),e.removeClass("small medium large xl"),320>=i?t="small":490>=i?t="medium":950>=i?t="large":i>950&&(t="xl"),e.addClass(t)})},n.prototype.update_title=function(e){return this.$header.text(e)},n.prototype.update_theme=function(e){return this.$container.removeClass().addClass("shareaholic-recommendations-container shareaholic-ui").addClass("shareaholic-contains-"+this.config.request_limit_total).addClass(this.divisible_classes()).addClass(e),this.constructor.set_recommendations_container_size()},n.prototype.update_recommendation=function(e,t){var i,n,o,s;return i=this.$list.find(">:eq("+e+")"),s=Shareaholic.SDK.normalize_recommendation_properties([t]),o=s[0],o.index=e+1,n=new Shareaholic.prototype.Recommendation(this,s[0]),i.replaceWith(n.$item)},n.prototype.update_attribution=function(e){var t,i,n;return null!=(n=this.$branding)&&n.remove(),e.show_attribution?(this.$branding=this.$("<a>",{"class":"shareaholic-recommendations-attribution",target:"_blank",href:this.constructor.attribution_url,title:"Powered by Shareaholic"}).appendTo(this.$footer).on("click",this.attribution_click_handler),i=this.$("<span>",{"class":"shareaholic-recommendations-attribution-text",text:"[ what's this ]"}).appendTo(this.$branding),t=this.$("<i>",{"class":"shareaholic-recommendations-attribution-logo"}).appendTo(this.$branding)):void 0},n.prototype.attribution_click_handler=function(e){var t;return e.preventDefault(),t={title:"&nbsp;",data:{learn_more_url:this.constructor.attribution_url}},this.rec_help_view=new Shareaholic.prototype.PanelView("recommendations_help",t,"recommendations_help"),this.rec_help_view.show()},n.check_visibility=function(){var e,t,i,o,s;for(o=n.instances,s=[],t=0,i=o.length;i>t;t++)e=o[t],s.push(e.check_visibility());return s},n.prototype.check_visibility=function(){var e,t,i,n,o;for(n=this.recommendations,o=[],t=0,i=n.length;i>t;t++)e=n[t],e.has_been_viewed?o.push(void 0):o.push(e.check_visibility());return o},n}.call(this,Shareaholic.WidgetPlugin)),window.Shareaholic.prototype.Recommendation||(window.Shareaholic.prototype.Recommendation=function(){function t(e,t){this.parent=e,this.recommendation_data=t,this.build=i(this.build,this),this.$=Shareaholic.$,this.build(this.recommendation_data),this.has_been_viewed=!1,this.constructor.instances.push(this)}return t.instances=[],t.prototype.check_visibility=function(){return Shareaholic.DOMUtils.percentage_visible_of_element(this.$item)>=50?this.log_impression_view():void 0},t.prototype.log_impression_view=function(){return this.has_been_viewed?void 0:(Shareaholic.Utils.load_image(this.recommendation_data.impression_view_url),this.has_been_viewed=!0)},t.prototype.build=function(t){var i,n;return(n=Shareaholic.compiled_templates).recommendation||(n.recommendation=e.compile(Shareaholic.templates.recommendation)),i=Shareaholic.compiled_templates.recommendation(t),this.$item=this.$(i),this.$item.find("a").on("mousedown",function(){return t.ignore_tracking?void 0:this.href=t.tracking_link_url}).on("mouseout",function(){return this.href=t.url}).on("click",function(){return t.ignore_tracking?void 0:(Shareaholic.Analytics.google_track_usage("Recommendations","Click "+t.type_for_analytics+" Recommendation Link"+t.context_for_analytics+": "+Shareaholic.Utils.Browser.platform,window.location.hostname),t.sponsored?Shareaholic.apps.RelatedContent.open_sponsored_link(t.tracking_link_url):setTimeout(function(){return document.location.href=t.tracking_link_url},100),!1)}),this.$item},t}())}.call(this),function(){var e,t,i=function(e,t){return function(){return e.apply(t,arguments)}},n={}.hasOwnProperty,o=function(e,t){function i(){this.constructor=e}for(var o in t)n.call(t,o)&&(e[o]=t[o]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},s=[].indexOf||function(e){for(var t=0,i=this.length;i>t;t++)if(t in this&&this[t]===e)return t;return-1};window.Shareaholic||(window.Shareaholic=function(){}),window.Shareaholic.apps.ShareButtons||(window.Shareaholic.apps.ShareButtons=function(t){function n(){return this.force_counts=i(this.force_counts,this),this.set_counts_if_blank=i(this.set_counts_if_blank,this),this.fit_buttons_by_width=i(this.fit_buttons_by_width,this),this.optimize_button_layout=i(this.optimize_button_layout,this),this.populate_counters=i(this.populate_counters,this),e=n.__super__.constructor.apply(this,arguments)}return o(n,t),n.instances=[],n.API_KEY="91924599fa72efd29c9123abdc5fd153",n.has_stylesheet="share_buttons",n.has_publisher_configuration=!0,n.app_name="share_buttons",n._init=function(){return this.initialized=!0,this.options={},this.panel_views={},Shareaholic.$(window).on("resize",function(){var e,t,i,n,o;for(n=Shareaholic.apps.ShareButtons.instances,o=[],t=0,i=n.length;i>t;t++)e=n[t],o.push(e.optimize_button_layout());return o})},n.prototype._process_configuration=function(){var e;return(e=this.config).show_tooltip||(e.show_tooltip=!0),this.config},n.prototype._constructor=function(e){var t,i,o=this;return this.$dom_object=e,this.$=Shareaholic.$,this.share_buttons={},this.add_to_dom(),t=n.API_KEY,i={plugin:"share_buttons",link:this.config.link||Shareaholic.Utils.link_heuristic(this.$dom_object[0]),link_title:this.config.title||Shareaholic.Utils.title_heuristic(this.$dom_object[0]),link_notes:this.config.summary,images:Shareaholic.Utils.get_images(this.$dom_object[0],this.$dom_object.data("image")),message_format:Shareaholic.SharePreferences.get("message_format"),shortener:Shareaholic.SharePreferences.get("shortener_config").shortener,shortener_api_key:Shareaholic.SharePreferences.get("shortener_config").shortener_api_key,shortener_login:Shareaholic.SharePreferences.get("shortener_config").shortener_login,api_key:t},this.share_object=new Shareaholic.prototype.ShareObject(i),Shareaholic.dispatcher.add("on_get_user_info_success",function(e,t){return t.shortener_preferences.service&&o.share_object.set("shortener",t.shortener_preferences.service),t.shortener_preferences.api_key&&o.share_object.set("shortener_api_key",t.shortener_preferences.api_key),t.shortener_preferences.login?o.share_object.set("shortener_login",t.shortener_preferences.login):void 0}),this.build_services(this.config.services),this.uses_counters()&&this.get_counts(),this.update_theme(this.config.style_class),Shareaholic.apps.ShareButtons.instances.push(this),Shareaholic.dispatcher.add_once("on_load_share_buttons_css",function(){return o.$container.css("height","auto").fadeIn(100,function(){return Shareaholic.Utils.on_element_resize(o.$container[0],function(){return o.optimize_button_layout()}),Shareaholic.dispatcher.trigger("on_share_buttons_load")})},!0)},n.prototype.add_to_dom=function(){return this.$container=this.$("<div>").addClass("shareaholic-share-buttons-container").addClass("shareaholic-ui").css("height",0).hide(),this.$wrapper=this.$("<div>").addClass("shareaholic-share-buttons-wrapper").addClass("shareaholic-ui").appendTo(this.$container),this.update_headline(this.config),this.$service_list=this.$("<ul>").addClass("shareaholic-share-buttons").appendTo(this.$wrapper),this.$dom_object.append(this.$container)},n.prototype.build_services=function(e){var t,i,n,o,s;for(null==e&&(e=[]),this.$service_list.empty(),o=0,s=e.length;s>o;o++)i=e[o],n=Shareaholic.Utils.is_object(i)?i:Shareaholic.SERVICES[i],n&&(t=new Shareaholic.prototype.ShareButton(this,n),this.share_buttons[n.nickname]=t,this.$service_list.append(t.$item));return this.all_services_button=new Shareaholic.prototype.ShareButton(this,Shareaholic.SERVICES.all),this.share_buttons.all=this.all_services_button,this.$service_list.append(this.all_services_button.$item),this.config.show_all_services_button||this.all_services_button.$item.hide(),this.$service_list},n.prototype.uses_counters=function(){var e;return e=/counter/,this.config.style_class&&this.config.style_class.match(e)?!0:this.config.counter&&this.config.counter.match(e)?!0:!1},n.prototype.get_counts=function(){var e,t,i,n,o,s;if(Shareaholic.page_info.is_shareable){if(n=this.share_object.get("link"),t=Shareaholic.page_config().apps.share_buttons.get_share_counts,"function"==typeof t)return t(n,this.services_array(),this.populate_counters);o=this.share_buttons,s=[];for(i in o)e=o[i],s.push(e.get_count());return s}},n.prototype.populate_counters=function(e,t){var i,n,o,s,r;for(null==t&&(t=!1),s=this.services_array(),r=[],n=0,o=s.length;o>n;n++)i=s[n],i in e?r.push(this.share_buttons[i].update_count(e[i])):t?r.push(this.share_buttons[i].get_count()):r.push(void 0);return r},n.prototype.services_array=function(){return Object.keys(this.share_buttons)},n.prototype.update_theme=function(e){return this.$container.removeClass().addClass("shareaholic-share-buttons-container shareaholic-ui").addClass(e),this.config.show_tooltip&&Shareaholic.Utils.Browser.is_desktop?this.$service_list.find("li").each(function(){var t;return t="n",/vertical/.test(e)&&(t="w",/right-align/.test(e)&&(t="e")),Shareaholic.$(this).tipsy("setGravity",t)}):void 0},n.prototype.update_headline=function(e){var t,i;return null!=(i=this.$heading)&&i.remove(),e.headline_text?(t=this.$("<img>").addClass("shareaholic-share-buttons-heading-image").attr("src",Shareaholic.ASSET_ROOT_URL+"/"+Shareaholic.HEADLINE_IMAGES[e.headline_text]),this.$heading=this.$("<div>").addClass("shareaholic-share-buttons-heading").append(t).prependTo(this.$wrapper)):void 0},n.prototype.update_share_object=function(e){return this.share_object=e},n.prototype.update_orientation=function(e){return this.$container.removeClass().addClass("shareaholic-share-buttons").addClass(e)},n.prototype.optimize_button_layout=function(){var e;return this.$dom_object.data("maintain-size")||this.$container.hasClass("vertical")||this.$container.hasClass("wrapped")||this.$container.hasClass("floated")?e=this.$service_list.find("li").show():this.fit_buttons_by_width(),this.all_services_button.$item[this.config.show_all_services_button?"show":"hide"]()},n.prototype.fit_buttons_by_width=function(){var e,t,i;return t=this.$service_list.find("li").first().outerWidth()+5||60,i=Math.floor(this.$container.width()/t),this.config.show_all_services_button&&(i-=1),e=this.$service_list.find("li").hide(),e.each(function(e,t){return Shareaholic.$(t).show(),e!==i-1})},n.prototype.set_counts_if_blank=function(){var e;return e=this.$(".shareaholic-share-button.has-shares",this.$service_list),e.length?void 0:this.force_counts()},n.prototype.force_counts=function(){var e,t,i,n;i=this.share_buttons,n=[];for(t in i)e=i[t],s.call(Shareaholic.SDK.countable_services,t)>=0?n.push(e.update_count(Math.floor(1e3*Math.random()))):n.push(void 0);return n},n.app_config=function(){return Shareaholic.page_config().apps.share_buttons},n.show_redirect_share_thanks=function(){var e,t,i;return e=n.app_config(),e.post_share_enabled?(i={headline:e.post_share_heading||"Thanks for sharing!"},e.post_share_follow_buttons_enabled&&e.post_share_follow_buttons_location_id&&(i.follow_buttons_location_id=e.post_share_follow_buttons_location_id),t={has_footer:!1,onrendertemplate:function(e){return n.$share_panel_result=e,n.$share_panel_result_message=e.find(".result-message"),n.$close_button=e.find(".close-button"),n.$tmp_close_button=e.find(".shareaholic-modal-button"),n.$follow_buttons=e.find("#post_share_follow_buttons")},init:function(){},show:function(){return n.$close_button.off("click.share_thanks").on("click.share_thanks",function(){return n.share_result_panel.hide(!0)}),n.$tmp_close_button.off("click.share_thanks").on("click.share_thanks",function(){return n.share_result_panel.hide(!0)}),new Shareaholic.apps.FollowButtons(n.$follow_buttons)}},n.share_result_panel=new Shareaholic.prototype.PanelView("post_share_thanks",t,"shareaholic_share"),n.share_result_panel.show({data:i,recompile:!0})):!1},n}.call(this,Shareaholic.WidgetPlugin),window.Shareaholic.prototype.ShareButton||(window.Shareaholic.prototype.ShareButton=function(e){function n(){return this.click_handler=i(this.click_handler,this),t=n.__super__.constructor.apply(this,arguments)}return o(n,e),n.prototype.click_handler=function(e){var t;return t=this.service.handler,"share_via_shareaholic"!==t||"facebook"!==this.service.nickname&&Shareaholic.page_config("apps").share_buttons.multishare&&!Shareaholic.Utils.Browser.is_mobile?Shareaholic.prototype.Core.share_handlers[t](this.service.nickname,this.parent.share_object,{},e):Shareaholic.prototype.Core.share_handlers.share_via_redirect(this.service.nickname,this.parent.share_object,{shorten:!1},e)},n.prototype.update_count=function(e,t){return null==t&&(t="total_count"),Shareaholic.Utils.is_object(e)&&(e=e[t]),parseInt(e)>0?(this.$counter.text(Shareaholic.Utils.abbreviate_number(e)),this.$item.addClass("has-shares")):this.$item.removeClass("has-shares")},n.prototype.get_count=function(){var e,t,i=this;return e=this.parent.share_object.get("link"),t=this.service.nickname,s.call(Shareaholic.SDK.countable_services,t)>=0?Shareaholic.SDK.get_share_count_from_service(e,this.service.nickname,function(e){return i.update_count(e)}):void 0},n}(Shareaholic.prototype.Button)),window.Shareaholic.prototype.ShareButtons=Shareaholic.apps.ShareButtons)}.call(this),function(){var e;e=Shareaholic.prototype.Handlebars,window.Shareaholic.prototype.RelatedContentCore||(window.Shareaholic.prototype.RelatedContentCore=function(){function e(){}return e.attribution_url="https://shareaholic.com/publishers/recommendations/?src=relatedapp&src_ref="+encodeURIComponent(window.location.hostname),e.promoted_content_levels=[0,12,25,38,50,68,75,88,100],e.init=function(){},e.promoted_content_percentage=function(e){return e.promoted_content_percentage||this.promoted_content_levels[e.promoted_content_level]||0
},e.calculate_percentage_amount=function(e,t){var i,n,o;for(n=0,i=o=1;e>=1?e>=o:o>=e;i=e>=1?++o:--o)100*Math.random()<t&&n++;return n},e.calculate_percentage_amount_minimum=function(e,t){var i,n;return i=e*(t/100),n=Math.floor(i),Math.random()<i-n&&n++,n},e.open_sposored_link=function(e){return Shareaholic.Utils.Browser.is_mobile?window.open(e,"_blank","width=1000, height=600"):window.open(e,"_blank")},e.sample_recommendation_response=function(e){var t;return null==e&&(e={}),t={campaign_id:e.campaign_id,description:e.description||"Donec sed odio dui. Vestibulum id ligula porta felis euismod semper. Pellentesque ornare sem lacinia quam venenatis vestibulum.",image_id:e.image_id,plan_id:e.plan_id,title:e.title||"Morbi leo risus, porta ac consectetur vestibulum at eros.",type:e.type||"sponsored",url:e.url||"http://example.com/fake-post/"},[t]},e}.call(this))}.call(this),function(){window.Shareaholic.prototype.Bookmarklet=function(){function e(e){var t,i;null==e&&(e={}),this.options=e,this.options.handler=(null!=(i=Shareaholic.SERVICES[this.options.service])?i.handler:void 0)||"show_all_services",t=Shareaholic.prototype.Bookmarklet.instances[0],t?Shareaholic.prototype.Core.share_handlers[this.options.handler](this.options.service,this.share_object):this.init(this.options)}return e.instances=[],e.API_KEY="0f5ac61b01df576c2317d7f3e9835df5",e.prototype.init=function(e){var t,i,n,o,s,r=this;return null==e&&(e={}),Shareaholic.Utils.debug("in Bookmarklet Class init"),i={plugin:"bookmarklet",link:(null!=(n=this.options.share_object_config)?n.link:void 0)||Shareaholic.Utils.get_page_url(),link_title:(null!=(o=this.options.share_object_config)?o.link_title:void 0)||Shareaholic.Utils.get_page_title(),images:Shareaholic.Utils.get_page_images(!0),message_format:(null!=(s=this.options.share_object_config)?s.message_format:void 0)||Shareaholic.SharePreferences.get("message_format"),api_key:Shareaholic.prototype.Bookmarklet.API_KEY,shortener:Shareaholic.SharePreferences.get("shortener_config").shortener,shortener_api_key:Shareaholic.SharePreferences.get("shortener_config").shortener_api_key,shortener_login:Shareaholic.SharePreferences.get("shortener_config").shortener_login},t=this.share_object=new Shareaholic.prototype.ShareObject(i),Shareaholic.dispatcher.add("on_get_user_info_complete",function(e,t){return t.shortener_preferences.service&&r.share_object.set("shortener",t.shortener_preferences.service),t.shortener_preferences.api_key&&r.share_object.set("shortener_api_key",t.shortener_preferences.api_key),t.shortener_preferences.login?r.share_object.set("shortener_login",t.shortener_preferences.login):void 0}),Shareaholic.prototype.Bookmarklet.instances.push(this),Shareaholic.Utils.load_css({href:""+Shareaholic.ASSET_ROOT_URL+"/pub/share_buttons.css",success:function(){return Shareaholic.prototype.Core.share_handlers[e.handler](e.service,t),Shareaholic.dispatcher.trigger("on_load_share_buttons_css")}})},e}()}.call(this),function(){Shareaholic.Utils.debug("in Shareaholic tools_loader"),Shareaholic.init_plugins(),Shareaholic.init_apps=Shareaholic.init_plugins,Shareaholic.dispatcher.trigger("on_shareaholic_tools_load")}.call(this);