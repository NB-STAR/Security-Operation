if(typeof(stlib)=="undefined"){var stlib={}}if(!stlib.functions){stlib.functions=[];stlib.functionCount=0}stlib.global={};stlib.global.hash=document.location.href.split("#");stlib.global.hash.shift();stlib.global.hash=stlib.global.hash.join("#");stlib.dynamicOn=true;stlib.debugOn=false;stlib.debug={count:0,messages:[],debug:function(b,a){if(a&&(typeof console)!="undefined"){console.log(b)}stlib.debug.messages.push(b)},show:function(a){for(message in stlib.debug.messages){if((typeof console)!="undefined"){if(a){/ERROR/.test(stlib.debug.messages[message])?console.log(stlib.debug.messages[message]):null}else{console.log(stlib.debug.messages[message])}}}},showError:function(){stlib.debug.show(true)}};var _$d=function(a){stlib.debug.debug(a,stlib.debugOn)};var _$d0=function(){_$d(" ")};var _$d_=function(){_$d("___________________________________________")};var _$d1=function(a){_$d(_$dt()+"| "+a)};var _$d2=function(a){_$d(_$dt()+"|  * "+a)};var _$de=function(a){_$d(_$dt()+"ERROR: "+a)};var _$dt=function(){var b=new Date();var d=b.getHours();var a=b.getMinutes();var c=b.getSeconds();return d+":"+a+":"+c+" > "};stlib.json={c:{"\b":"b","\t":"t","\n":"n","\f":"f","\r":"r",'"':'"',"\\":"\\","/":"/"},d:function(a){return a<10?"0".concat(a):a},e:function(c,f,e){e=eval;delete eval;if(typeof eval==="undefined"){eval=e}f=eval(""+c);eval=e;return f},i:function(c,b,a){return 1*c.substr(b,a)},p:["","000","00","0",""],rc:null,rd:/^[0-9]{4}\-[0-9]{2}\-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}$/,rs:/(\x5c|\x2F|\x22|[\x0c-\x0d]|[\x08-\x0a])/g,rt:/^([0-9]+|[0-9]+[,\.][0-9]{1,3})$/,ru:/([\x00-\x07]|\x0b|[\x0e-\x1f])/g,s:function(a,b){return"\\".concat(stlib.json.c[b])},u:function(a,b){var c=b.charCodeAt(0).toString(16);return"\\u".concat(stlib.json.p[c.length],c)},v:function(b,a){return stlib.json.types[typeof result](result)!==Function&&(a.hasOwnProperty?a.hasOwnProperty(b):a.constructor.prototype[b]!==a[b])},types:{"boolean":function(){return Boolean},"function":function(){return Function},number:function(){return Number},object:function(a){return a instanceof a.constructor?a.constructor:null},string:function(){return String},"undefined":function(){return null}},$$:function(a){function b(f,d){d=f[a];delete f[a];try{stlib.json.e(f)}catch(e){f[a]=d;return 1}}return b(Array)&&b(Object)},encode:function(){var c=arguments.length?arguments[0]:this,a,g;if(c===null){a="null"}else{if(c!==undefined&&(g=stlib.json.types[typeof c](c))){switch(g){case Array:a=[];for(var f=0,d=0,b=c.length;d<b;d++){if(c[d]!==undefined&&(g=stlib.json.encode(c[d]))){a[f++]=g}}a="[".concat(a.join(","),"]");break;case Boolean:a=String(c);break;case Date:a='"'.concat(c.getFullYear(),"-",stlib.json.d(c.getMonth()+1),"-",stlib.json.d(c.getDate()),"T",stlib.json.d(c.getHours()),":",stlib.json.d(c.getMinutes()),":",stlib.json.d(c.getSeconds()),'"');break;case Function:break;case Number:a=isFinite(c)?String(c):"null";break;case String:a='"'.concat(c.replace(stlib.json.rs,stlib.json.s).replace(stlib.json.ru,stlib.json.u),'"');break;default:var f=0,e;a=[];for(e in c){if(c[e]!==undefined&&(g=stlib.json.encode(c[e]))){a[f++]='"'.concat(e.replace(stlib.json.rs,stlib.json.s).replace(stlib.json.ru,stlib.json.u),'":',g)}}a="{".concat(a.join(","),"}");break}}}return a},decode:function(a){if(typeof(a)=="string"){var c=null;try{if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){c=window.JSON&&window.JSON.parse?window.JSON.parse(a):(new Function("return "+a))();return c}else{return null}}catch(b){}}}};try{stlib.json.rc=new RegExp('^("(\\\\.|[^"\\\\\\n\\r])*?"|[,:{}\\[\\]0-9.\\-+Eaeflnr-u \\n\\r\\t])+?$')}catch(z){stlib.json.rc=/^(true|false|null|\[.*\]|\{.*\}|".*"|\d+|\d+\.\d+)$/}var tpcCookiesEnableCheckingDone=false;var tpcCookiesEnabledStatus=true;stlib.cookie={setCookie:function(d,n,q){var c=(navigator.userAgent.indexOf("Safari")!=-1&&navigator.userAgent.indexOf("Chrome")==-1);var b=(navigator.userAgent.indexOf("MSIE")!=-1);if(c||b){var s=(q)?q*24*60*60:0;var k=document.createElement("div");k.setAttribute("id",d);k.setAttribute("type","hidden");document.body.appendChild(k);var a=document.getElementById(d),e=document.createElement("form");try{var m=document.createElement('<iframe name="'+d+'" ></iframe>')}catch(l){m=document.createElement("iframe")}m.name=d;m.src="javascript:false";m.style.display="none";a.appendChild(m);e.action=(("https:"==document.location.protocol)?"https://sharethis.com/":"http://sharethis.com/")+"account/setCookie.php";e.method="POST";var j=document.createElement("input");j.setAttribute("type","hidden");j.setAttribute("name","name");j.setAttribute("value",d);e.appendChild(j);var r=document.createElement("input");r.setAttribute("type","hidden");r.setAttribute("name","value");r.setAttribute("value",n);e.appendChild(r);var p=document.createElement("input");p.setAttribute("type","hidden");p.setAttribute("name","time");p.setAttribute("value",s);e.appendChild(p);e.target=d;a.appendChild(e);e.submit()}else{if(q){var h=new Date();h.setTime(h.getTime()+(q*24*60*60*1000));var f="; expires="+h.toGMTString()}else{var f=""}var g=d+"="+escape(n)+f;g+="; domain="+escape(".sharethis.com")+";path=/";document.cookie=g}},setTempCookie:function(d,e,f){if(f){var c=new Date();c.setTime(c.getTime()+(f*24*60*60*1000));var a="; expires="+c.toGMTString()}else{var a=""}var b=d+"="+escape(e)+a;b+="; domain="+escape(".sharethis.com")+";path=/";document.cookie=b},getCookie:function(b){var a=document.cookie.match("(^|;) ?"+b+"=([^;]*)(;|$)");if(a){return(unescape(a[2]))}else{return false}},deleteCookie:function(d){var l="/";var k=".sharethis.com";document.cookie=d.replace(/^\s+|\s+$/g,"")+"="+((l)?";path="+l:"")+((k)?";domain="+k:"")+";expires=Thu, 01-Jan-1970 00:00:01 GMT";var c=(navigator.userAgent.indexOf("Safari")!=-1&&navigator.userAgent.indexOf("Chrome")==-1);var b=(navigator.userAgent.indexOf("MSIE")!=-1);if(c||b){var g=document.createElement("div");g.setAttribute("id",d);g.setAttribute("type","hidden");document.body.appendChild(g);var a=document.getElementById(d),e=document.createElement("form");try{var j=document.createElement('<iframe name="'+d+'" ></iframe>')}catch(h){j=document.createElement("iframe")}j.name=d;j.src="javascript:false";j.style.display="none";a.appendChild(j);e.action=(("https:"==document.location.protocol)?"https://sharethis.com/":"http://sharethis.com/")+"account/deleteCookie.php";e.method="POST";var f=document.createElement("input");f.setAttribute("type","hidden");f.setAttribute("name","name");f.setAttribute("value",d);e.appendChild(f);e.target=d;a.appendChild(e);e.submit()}},deleteAllSTCookie:function(){var d=document.cookie;d=d.split(";");for(var f=0;f<d.length;f++){var c=d[f];c=c.split("=");if(!/st_optout/.test(c[0])){var e=c[0];var h="/";var g=".edge.sharethis.com";document.cookie=e+"=;path="+h+";domain="+g+";expires=Thu, 01-Jan-1970 00:00:01 GMT"}}},setFpcCookie:function(a,g){var c=new Date;var j=c.getFullYear();var f=c.getMonth()+9;var h=c.getDate();var d=a+"="+escape(g);if(j){var b=new Date(j,f,h);d+="; expires="+b.toGMTString()}var e=stlib.cookie.getDomain();d+="; domain="+escape(e)+";path=/";document.cookie=d},getFpcCookie:function(b){var a=document.cookie.match("(^|;) ?"+b+"=([^;]*)(;|$)");if(a){return(unescape(a[2]))}else{return false}},getDomain:function(){var b=document.domain.split(/\./);var a="";if(b.length>1){a="."+b[b.length-2]+"."+b[b.length-1]}return a},checkCookiesEnabled:function(){if(!tpcCookiesEnableCheckingDone){stlib.cookie.setTempCookie("STPC","yes",1);if(stlib.cookie.getCookie("STPC")=="yes"){tpcCookiesEnabledStatus=true}else{tpcCookiesEnabledStatus=false}tpcCookiesEnableCheckingDone=true;return tpcCookiesEnabledStatus}else{return tpcCookiesEnabledStatus}},hasLocalStorage:function(){try{localStorage.setItem("stStorage","yes");localStorage.removeItem("stStorage");return true}catch(a){return false}}};stlib.validate={regexes:{notEncoded:/(%[^0-7])|(%[0-7][^0-9a-f])|["{}\[\]\<\>\\\^`\|]/gi,tooEncoded:/%25([0-7][0-9a-f])/gi,publisher:/^(([a-z]{2}(-|\.))|)[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i,url:/^(http|https):\/\/([a-z0-9!'\(\)\*\.\-\+:]*(\.)[a-z0-9!'\(\)\*\.\-\+:]*)((\/[a-z0-9!'\(\)\*\.\-\+:]*)*)/i,fpc:/^[0-9a-f]{7}-[0-9a-f]{11}-[0-9a-f]{7,8}-[0-9]*$/i,sessionID:/^[0-9]*\.[0-9a-f]*$/i,title:/.*/,description:/.*/,buttonType:/^(chicklet|vcount|hcount|large|custom|button|)$/,comment:/.*/,destination:/.*/,source:/.*/,image:/(^(http|https):\/\/([a-z0-9!'\(\)\*\.\-\+:]*(\.)[a-z0-9!'\(\)\*\.\-\+:]*)((\/[a-z0-9!'\(\)\*\.\-\+:]*)*))|^$/i,sourceURL:/^(http|https):\/\/([a-z0-9!'\(\)\*\.\-\+:]*(\.)[a-z0-9!'\(\)\*\.\-\+:]*)((\/[a-z0-9!'\(\)\*\.\-\+:]*)*)/i,sharURL:/(^(http|https):\/\/([a-z0-9!'\(\)\*\.\-\+:]*(\.)[a-z0-9!'\(\)\*\.\-\+:]*)((\/[a-z0-9!'\(\)\*\.\-\+:]*)*))|^$/i}};stlib.html={encode:function(a){if(stlib.html.startsWith(a,"http")){return String(a).replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}else{return String(a).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}},startsWith:function(a,b){return(a.match("^"+b)==b)}};if(typeof(stlib.data)=="undefined"){stlib.data={bInit:false,publisherKeySet:false,pageInfo:{},shareInfo:{},resetPageData:function(){stlib.data.pageInfo.fpc="ERROR";stlib.data.pageInfo.sessionID="ERROR";stlib.data.pageInfo.hostname="ERROR";stlib.data.pageInfo.location="ERROR"},resetShareData:function(){stlib.data.shareInfo={};stlib.data.shareInfo.url="ERROR";stlib.data.shareInfo.sharURL="";stlib.data.shareInfo.buttonType="ERROR";stlib.data.shareInfo.destination="ERROR";stlib.data.shareInfo.source="ERROR"},resetData:function(){stlib.data.resetPageData();stlib.data.resetShareData()},validate:function(){var a=stlib.validate.regexes;function b(e,g){if(g!=encodeURIComponent(g)){a.notEncoded.test(g)?_$de(e+" not encoded"):null;a.tooEncoded.test(g)?_$de(e+" has too much encoding"):null}var f=a[e]?a[e].test(decodeURIComponent(g)):true;if(!f){_$de(e+" failed validation")}}var c=stlib.data.pageInfo;var d;for(d in c){b(d,c[d])}c=stlib.data.shareInfo;for(d in c){b(d,c[d])}},init:function(){if(!stlib.data.bInit){stlib.data.bInit=true;stlib.data.resetData();stlib.data.set("url",document.location.href,"shareInfo");var f="";stlib.hash.init();stlib.data.set("shareHash",stlib.hash.shareHash,"pageInfo");stlib.data.set("incomingHash",stlib.hash.incomingHash,"pageInfo");if(!stlib.hash.doNotHash){f="#"+stlib.data.get("shareHash","pageInfo")}var e=stlib.hash.updateParams();stlib.data.set("url",e+f,"shareInfo");if(stlib.data.publisherKeySet!=true){stlib.data.set("publisher","ur.00000000-0000-0000-0000-000000000000","pageInfo")}stlib.fpc.createFpc();stlib.data.set("fpc",stlib.fpc.cookieValue,"pageInfo");var b=(new Date()).getTime().toString();var g=Number(Math.random().toPrecision(5).toString().substr(2)).toString();stlib.data.set("sessionID",b+"."+g,"pageInfo");stlib.data.set("hostname",document.location.hostname,"pageInfo");stlib.data.set("location",document.location.pathname,"pageInfo");var d=document.referrer;var h=d.replace("http://","").replace("https://","").split("/");var c=h.shift();var a=h.join("/");stlib.data.set("refDomain",c,"pageInfo");stlib.data.set("refQuery",a,"pageInfo")}},setPublisher:function(a){stlib.data.set("publisher",a,"pageInfo");stlib.data.publisherKeySet=true},setSource:function(c,a){var b="";if(a){if(a.toolbar){b="toolbar"+c}else{if(a.page&&a.page!="home"&&a.page!=""){b="chicklet"+c}else{b="button"+c}}}else{b=c}stlib.data.set("source",b,"shareInfo")},set:function(a,c,b){_$d_();_$d1("Setting: "+a+": "+c);if(typeof(c)=="number"||typeof(c)=="boolean"){stlib.data[b][a]=c}else{if(typeof(c)=="undefined"||c==null){_$d1("Value undefined or null")}else{stlib.data[b][a]=encodeURIComponent(decodeURIComponent(unescape(c.replace(/<[^<>]*>/gi," ")).replace(/%/gi,"%25")));if(a=="url"||a=="location"||a=="image"){try{stlib.data[b][a]=encodeURIComponent(decodeURIComponent(decodeURI(c.replace(/<[^<>]*>/gi," ")).replace(/%/gi,"%25")))}catch(d){stlib.data[b][a]=encodeURIComponent(decodeURIComponent(unescape(c.replace(/<[^<>]*>/gi," ")).replace(/%/gi,"%25")))}}}}},get:function(a,b){if(stlib.data[b]&&stlib.data[b][a]){return decodeURIComponent(stlib.data[b][a])}else{return false}},unset:function(a,b){if(stlib.data[b]&&typeof(stlib.data[b][a])!="undefined"){delete stlib.data[b][a]}}};stlib.data.resetData()}stlib.hash={doNotHash:true,hashAddressBar:false,doNotCopy:true,prefix:"sthash",shareHash:"",incomingHash:"",validChars:["1","2","3","4","5","6","7","8","9","0","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],servicePreferences:{linkedin:"param",stumbleupon:"param",bebo:"param"},hashDestination:function(b){if(b=="copy"){return"dpuf"}var c=b.substring(0,2)+b.substring(b.length-2,b.length);var a=function(d,e){if(d.charCodeAt(e)==122){return"a"}return String.fromCharCode(d.charCodeAt(e)+1)};return a(c,0)+a(c,1)+a(c,2)+a(c,3)},getHash:function(){var c=false;var b="";var d=document.location.href;d=d.split("#").shift();var a=d.split("?");if(a.length>1){a=a[1].split("&");for(arg in a){try{if(a[arg].substring(0,6)=="sthash"){c=true;b=a[arg]}}catch(e){}}if(c){return b}else{return document.location.hash.substring(1)}}else{return document.location.hash.substring(1)}},stripHash:function(a){var b=a;b=b.split("#");if(b.length>1){return b[1]}else{return""}},clearHash:function(){if(stlib.hash.validateHash(document.location.hash)){var a=document.location.href.split("#").shift();if(window.history&&history.replaceState){history.replaceState(null,document.title,a)}else{if((/MSIE/).test(navigator.userAgent)){window.location.replace("#")}else{document.location.hash=""}}}},init:function(){var b="";var a=stlib.hash.validChars.length;for(var e=0;e<8;e++){b+=stlib.hash.validChars[Math.random()*a|0]}if(stlib.hash.getHash()==""){stlib.hash.shareHash=stlib.hash.prefix+"."+b}else{var c=stlib.hash.getHash().split(".");var d=c.shift();if(d==stlib.hash.prefix||d==stlib.hash.prefix){stlib.hash.incomingHash=stlib.hash.getHash();stlib.hash.shareHash=stlib.hash.prefix+"."+c.shift()+"."+b}else{stlib.hash.shareHash=stlib.hash.prefix+"."+b}}if(!stlib.hash.doNotHash&&stlib.hash.hashAddressBar){if(document.location.hash==""||stlib.hash.validateHash(document.location.hash)){if(window.history&&history.replaceState){history.replaceState(null,"ShareThis","#"+stlib.hash.shareHash+".dpbs")}else{if((/MSIE/).test(navigator.userAgent)){window.location.replace("#"+stlib.hash.shareHash+".dpbs")}else{document.location.hash=stlib.hash.shareHash+".dpbs"}}}}else{stlib.hash.clearHash()}if(!stlib.hash.doNotHash&&!stlib.hash.doNotCopy){stlib.hash.copyPasteInit()}stlib.hash.copyPasteLog()},checkURL:function(){var b=stlib.data.get("destination","shareInfo");var f=stlib.hash.updateParams(b);var d="."+stlib.hash.hashDestination(b);stlib.hash.updateDestination(d);if(!stlib.hash.doNotHash&&typeof(stlib.data.pageInfo.shareHash)!="undefined"){var c=stlib.data.get("url","shareInfo");var g=stlib.hash.stripHash(c);if(stlib.hash.validateHash(g)||g==""){if(typeof(stlib.hash.servicePreferences[b])!="undefined"){if(stlib.hash.servicePreferences[b]=="param"){_$d1("Don't use hash, use params");_$d2(f);if(f.split("?").length>1){var e=f.split("?")[1].split("&");var h=false;for(var a=0;a<e.length;a++){if(e[a].split(".")[0]=="sthash"){h=true}}if(h){stlib.data.set("url",f,"shareInfo")}else{stlib.data.set("url",f+"&"+stlib.data.pageInfo.shareHash,"shareInfo")}}else{stlib.data.set("url",f+"?"+stlib.data.pageInfo.shareHash,"shareInfo")}if(b=="linkedin"){if(stlib.data.get("sharURL","shareInfo")!=""){stlib.data.set("sharURL",stlib.data.get("url","shareInfo"),"shareInfo")}}}else{_$d1("Using Hash");stlib.data.set("url",f+"#"+stlib.data.pageInfo.shareHash,"shareInfo")}}else{_$d1("Not using custom destination hash type");stlib.data.set("url",f+"#"+stlib.data.pageInfo.shareHash,"shareInfo")}}}},updateParams:function(a){var f=stlib.data.get("url","shareInfo").split("#").shift();var e=/(\?)sthash\.[a-zA-z0-9]{8}\.[a-zA-z0-9]{8}/;var d=/(&)sthash\.[a-zA-z0-9]{8}\.[a-zA-z0-9]{8}/;var c=/(\?)sthash\.[a-zA-z0-9]{8}/;var b=/(&)sthash\.[a-zA-z0-9]{8}/;if(e.test(f)){f=f.replace(e,"?"+stlib.data.pageInfo.shareHash)}else{if(d.test(f)){f=f.replace(d,"&"+stlib.data.pageInfo.shareHash)}else{if(c.test(f)){f=f.replace(c,"?"+stlib.data.pageInfo.shareHash)}else{if(b.test(f)){f=f.replace(b,"&"+stlib.data.pageInfo.shareHash)}}}}return f},updateDestination:function(b){var a=/sthash\.[a-zA-z0-9]{8}\.[a-zA-z0-9]{8}\.[a-z]{4}/;var c=/sthash\.[a-zA-z0-9]{8}\.[a-z]{4}/;_$d_();_$d1("Updating Destination");if(a.test(stlib.data.pageInfo.shareHash)){_$d2(stlib.data.pageInfo.shareHash.substring(0,24));stlib.data.pageInfo.shareHash=stlib.data.pageInfo.shareHash.substring(0,24)+b}else{if(c.test(stlib.data.pageInfo.shareHash)){_$d2(stlib.data.pageInfo.shareHash.substring(0,15));stlib.data.pageInfo.shareHash=stlib.data.pageInfo.shareHash.substring(0,15)+b}else{stlib.data.pageInfo.shareHash+=b}}},validateHash:function(a){var b=/[\?#&]?sthash\.[a-zA-z0-9]{8}\.[a-zA-z0-9]{8}$/;var c=/[\?#&]?sthash\.[a-zA-z0-9]{8}\.[a-zA-z0-9]{8}\.[a-z]{4}$/;var d=/[\?#&]?sthash\.[a-zA-z0-9]{8}\.[a-z]{4}$/;var e=/[\?#&]?sthash\.[a-zA-z0-9]{8}$/;return e.test(a)||d.test(a)||c.test(a)||b.test(a)},appendHash:function(a){var b=stlib.hash.stripHash(a);if(stlib.data.pageInfo.shareHash&&(stlib.hash.validateHash(b)||b=="")){a=a.replace("#"+b,"")+"#"+stlib.data.pageInfo.shareHash}else{}return a},copyPasteInit:function(){var a=document.getElementsByTagName("body")[0];var c=document.createElement("div");c.id="stcpDiv";c.style.position="absolute";c.style.top="-1999px";c.style.left="-1988px";a.appendChild(c);c.innerHTML="ShareThis Copy and Paste";var b=document.location.href.split("#").shift();var d="#"+stlib.hash.shareHash;if(document.addEventListener){a.addEventListener("copy",function(j){if(typeof(Tynt)!="undefined"){return}var h=document.getSelection();if(h.isCollapsed){return}var g=h.getRangeAt(0).cloneContents();c.innerHTML="";c.appendChild(g);if(c.textContent.trim().length==0){return}if((h+"").trim().length==0){}else{if(c.innerHTML==(h+"")||c.textContent==(h+"")){c.innerHTML=stlib.html.encode(stlib.hash.selectionModify(h))}else{c.innerHTML+=stlib.html.encode(stlib.hash.selectionModify(h,true))}}var f=document.createRange();f.selectNodeContents(c);var k=h.getRangeAt(0);h.removeAllRanges();h.addRange(f);setTimeout(function(){h.removeAllRanges();h.addRange(k)},0)},false)}else{if(document.attachEvent){}}},copyPasteLog:function(){var c=window.addEventListener?"addEventListener":"attachEvent";var b=c=="attachEvent"?"oncopy":"copy";var a=document.getElementsByTagName("body")[0];a[c](b,function(f){var d=true;stlib.data.resetShareData();stlib.data.set("url",document.location.href,"shareInfo");stlib.data.setSource("copy");stlib.data.set("destination","copy","shareInfo");stlib.data.set("buttonType","custom","shareInfo");if(typeof(Tynt)!="undefined"){stlib.data.set("result","tynt","shareInfo");stlib.logger.log("debug");d=false}if(typeof(addthis_config)!="undefined"){stlib.data.set("result","addThis","shareInfo");if(typeof(addthis_config.data_track_textcopy)=="undefined"||addthis_config.data_track_textcopy){stlib.data.set("enabled","true","shareInfo");d=false}else{stlib.data.set("enabled","false","shareInfo")}stlib.logger.log("debug")}if(d){stlib.data.set("result","pass","shareInfo");stlib.logger.log("debug")}},false)},logCopy:function(a,b){stlib.data.resetShareData();stlib.data.set("url",a,"shareInfo");stlib.data.setSource("copy");stlib.data.set("destination","copy","shareInfo");stlib.data.set("buttonType","custom","shareInfo");if(b){stlib.data.set("description",b,"shareInfo")}stlib.sharer.share()},selectionModify:function(p,m){p=""+p;_$d_();_$d1("Copy Paste");var n=/^((http|https):\/\/([a-z0-9!'\(\)\*\.\-\+:]*(\.)[a-z0-9!'\(\)\*\.\-\+:]*)((\/[a-z0-9!'\(\)\*\.\-\+:]*)*))/i;var g=/^([a-z0-9!'\(\)\*\.\-\+:]*(\.)[a-z0-9!'\(\)\*\.\-\+:]*)((\/[a-z0-9!'\(\)\*\.\-\+:]*)*)/i;var e=/^\+?1?[\.\-\\)_\s]?[\\(]?[0-9]{3}[\.\-\\)_\s]?[0-9]{3}[\.\-_\s]?[0-9]{4}$|^[0-9]{3}[\.\-_\s]?[0-9]{4}$/;var j=/^[0-9]{3}[\.\-_\s]?[0-9]{8}$/;var l=/^[0-9]{2}[\.\-_\s]?[0-9]{4}[\.\-_\s]?[0-9]{4}$/;var c=/[\-_\.a-z0-9]+@[\-_\.a-z0-9]+\.[\-_\.a-z0-9]+/i;var f=/[\s@]/;var b=document.location.href.split("#").shift();var h="#"+stlib.hash.shareHash;var a="";var k="";var d="";if(typeof(m)=="undefined"&&((n.test(p)||g.test(p))&&!f.test(p.trim()))){_$d2("is Url");if(p.match(/#/)==null||stlib.hash.validateHash(p)){k=p.split("#")[0]+h+".dpuf";d=k}else{k=p;d=k}}else{_$d2("is Not Url");if(document.location.hash==""||(/^#$/).test(document.location.hash)||stlib.hash.validateHash(document.location.hash)){k=b+h+".dpuf"}else{k=document.location.href}d=p;if(p.length>50){a=" - See more at: "+k+"";if(!e.test(p)&&!j.test(p)&&!l.test(p)&&!c.test(p)){d+=a}}}if(p.length>140){p=p.substring(0,137)+"..."}stlib.hash.logCopy(k,p);return((m&&m==true)?a:d)}};stlib.allServices={adfty:{title:"Adfty"},allvoices:{title:"Allvoices"},amazon_wishlist:{title:"Amazon Wishlist"},arto:{title:"Arto"},att:{title:"AT&T"},baidu:{title:"Baidu"},blinklist:{title:"Blinklist"},blip:{title:"Blip"},blogmarks:{title:"Blogmarks"},blogger:{title:"Blogger",type:"post"},buddymarks:{title:"BuddyMarks"},buffer:{title:"Buffer"},care2:{title:"Care2"},chiq:{title:"chiq"},citeulike:{title:"CiteULike"},chiq:{title:"chiq"},corkboard:{title:"Corkboard"},dealsplus:{title:"Dealspl.us"},delicious:{title:"Delicious"},digg:{title:"Digg"},diigo:{title:"Diigo"},dzone:{title:"DZone"},edmodo:{title:"Edmodo"},email:{title:"Email"},evernote:{title:"Evernote"},facebook:{title:"Facebook"},fark:{title:"Fark"},fashiolista:{title:"Fashiolista"},flipboard:{title:"Flipboard"},folkd:{title:"folkd.com"},foodlve:{title:"FoodLve"},fresqui:{title:"Fresqui"},friendfeed:{title:"FriendFeed"},funp:{title:"Funp"},fwisp:{title:"fwisp"},google:{title:"Google"},googleplus:{title:"Google +"},google_bmarks:{title:"Bookmarks"},google_reader:{title:"Google Reader"},google_translate:{title:"Google Translate"},hatena:{title:"Hatena"},instapaper:{title:"Instapaper"},jumptags:{title:"Jumptags"},kaboodle:{title:"Kaboodle"},linkagogo:{title:"linkaGoGo"},linkedin:{title:"LinkedIn"},livejournal:{title:"LiveJournal",type:"post"},mail_ru:{title:"mail.ru"},meneame:{title:"Meneame"},messenger:{title:"Messenger"},mister_wong:{title:"Mr Wong"},moshare:{title:"moShare"},myspace:{title:"MySpace"},n4g:{title:"N4G"},netlog:{title:"Netlog"},netvouz:{title:"Netvouz"},newsvine:{title:"Newsvine"},nujij:{title:"NUjij"},odnoklassniki:{title:"Odnoklassniki"},oknotizie:{title:"Oknotizie"},pinterest:{title:"Pinterest"},pocket:{title:"Pocket"},raise_your_voice:{title:"Raise Your Voice"},reddit:{title:"Reddit"},segnalo:{title:"Segnalo"},sharethis:{title:"ShareThis"},sina:{title:"Sina"},sonico:{title:"Sonico"},startaid:{title:"Startaid"},startlap:{title:"Startlap"},stumbleupon:{title:"StumbleUpon"},stumpedia:{title:"Stumpedia"},typepad:{title:"TypePad",type:"post"},tumblr:{title:"Tumblr"},twitter:{title:"Twitter"},viadeo:{title:"Viadeo"},virb:{title:"Virb"},vkontakte:{title:"Vkontakte"},voxopolis:{title:"VOXopolis"},whatsapp:{title:"WhatsApp"},weheartit:{title:"We Heart It"},wordpress:{title:"WordPress",type:"post"},xerpi:{title:"Xerpi"},xing:{title:"Xing"},yammer:{title:"Yammer"}};stlib.allOauthServices={twitter:{title:"Twitter"},linkedIn:{title:"LinkedIn"},facebook:{title:"Facebook"}};stlib.allNativeServices={fblike:{title:"Facebook Like"},fbrec:{title:"Facebook Recommend"},fbsend:{title:"Facebook Send"},fbsub:{title:"Facebook Subscribe"},foursquaresave:{title:"Foursquare Save"},foursquarefollow:{title:"Foursquare Follow"},instagram:{title:"Instagram Badge"},plusone:{title:"Google +1"},pinterestfollow:{title:"Pinterest Follow"},twitterfollow:{title:"Twitter Follow"},youtube:{title:"Youtube Subscribe"}};stlib.allDeprecatedServices={google_bmarks:{title:"Google Bookmarks"},yahoo_bmarks:{title:"Yahoo Bookmarks"}};stlib.allOtherServices={copy:{title:"Copy Paste"},sharenow:{title:"ShareNow"},sharenow_auto:{title:"Frictionless Sharing"},fbunlike:{title:"Facebook Unlike"}};var _all_services=stlib.allServices;stlib.logger={loggerUrl:(("https:"==document.location.protocol)?"https://":"http://")+"l.sharethis.com/",productArray:new Array(),version:"",lang:"en",isFpEvent:false,constructParamString:function(){var a=stlib.data.pageInfo;var c="";var b;for(b in a){if(!stlib.logger.isFpEvent&&(b=="ufa"||b=="ufb"||b=="ufc"||b=="ufd")){continue}c+=b+"="+a[b]+"&"}a=stlib.data.shareInfo;for(b in a){c+=b+"="+a[b]+"&"}return c.substring(0,c.length-1)},log:function(d,f){_$d_();_$d1("Log Event PageInfo:");_$d(stlib.data.pageInfo);_$d1("Log Event ShareInfo:");_$d(stlib.data.shareInfo);if(typeof(d)=="undefined"){_$de("event does not exist \nFor help, contact support@sharethis.com");return}if(stlib.data.pageInfo==null||stlib.data.shareInfo==null){_$de("stlib.logger does not have enough info to log \nFor help, contact support@sharethis.com");return}if(!stlib.data.get("url","shareInfo")){_$de("shareThisInfo.url do not exist \nFor help, contact support@sharethis.com");return}if(!stlib.data.get("sessionID","pageInfo")){_$de("sharePageInfo.sessionID do not exist \nFor help, contact support@sharethis.com");return}if(!stlib.data.get("destination","shareInfo")){if(d!="pview"){_$de("shareThisInfo.destination do not exist \nFor help, contact support@sharethis.com");return}}if(!stlib.data.get("buttonType","shareInfo")){if(d!="pview"){_$de("shareThisInfo.type do not exist \nFor help, contact support@sharethis.com");return}}if(!stlib.data.get("source","shareInfo")){_$de("shareThisInfo.source do not exist \nFor help, contact support@sharethis.com");return}if(d=="pview"){stlib.data.unset("destination","shareInfo");stlib.data.unset("buttonType","shareInfo")}else{stlib.data.unset("refDomain","pageInfo");stlib.data.unset("refQuery","pageInfo")}if(d=="pview"||d=="share"){stlib.logger.isFpEvent=true;if(stlib.stfp.screenResolutionDepthHash!="ERROR"){stlib.data.set("ufa",stlib.stfp.screenResolutionDepthHash,"pageInfo")}if(stlib.stfp.pluginsListHash!="ERROR"){stlib.data.set("ufb",stlib.stfp.pluginsListHash,"pageInfo")}if(stlib.stfp.fontsListHash!="ERROR"){stlib.data.set("ufc",stlib.stfp.fontsListHash,"pageInfo")}if(stlib.stfp.timezoneoffsetHash!="ERROR"){stlib.data.set("ufd",stlib.stfp.timezoneoffsetHash,"pageInfo")}}else{stlib.logger.isFpEvent=false}if(typeof(stlib.data.get("counter","shareInfo"))!="undefined"){var c=0;if(stlib.data.get("counter","shareInfo")){c=stlib.data.get("counter","shareInfo")}stlib.data.set("ts"+new Date().getTime()+"."+c,"","shareInfo");stlib.data.unset("counter","shareInfo")}else{stlib.data.set("ts"+new Date().getTime(),"","shareInfo")}var a=(d=="pview")?"pview":((d=="debug")?"cns":"log");if(d=="pview"){var e=stlib.logger.loggerUrl+a+"?event="+d+"&product="+stlib.logger.productArray+"&version="+stlib.logger.version+"&lang="+stlib.logger.lang+"&"+stlib.logger.constructParamString()}else{var e=stlib.logger.loggerUrl+a+"?event="+d+"&"+stlib.logger.constructParamString()}_$d1("Final Log Url:");_$d2(e);var b=new Image(1,1);b.src=e;b.onload=function(){return};f?f():null}};stlib.scriptLoader={loadJavascript:function(b,c){_$d_();_$d1("Loading JS: "+b);var a=stlib.scriptLoader;a.head=document.getElementsByTagName("head")[0];a.scriptSrc=b;a.script=document.createElement("script");a.script.setAttribute("type","text/javascript");a.script.setAttribute("src",a.scriptSrc);a.script.async=true;a.script.onload=c;a.script.onreadystatechange=function(){if(this.readyState=="loaded"){c()}};a.s=document.getElementsByTagName("script")[0];a.s.parentNode.insertBefore(a.script,a.s)},loadCSS:function(b,d){_$d_();_$d1("Loading CSS: "+b);var a=stlib.scriptLoader;var c;a.head=document.getElementsByTagName("head")[0];a.cssSrc=b;a.css=document.createElement("link");a.css.setAttribute("rel","stylesheet");a.css.setAttribute("type","text/css");a.css.setAttribute("href",b);a.css.setAttribute("id",b);setTimeout(function(){d();if(!document.getElementById(b)){c=setInterval(function(){if(document.getElementById(b)){clearInterval(c);d()}},100)}},100);a.head.appendChild(a.css)}};var widgetLogger={};stlib.gaLogger={configOptions:null,shareLog:function(a){if(typeof(widgetLogger.pubTracker)!="undefined"&&widgetLogger.pubTracker!=null&&typeof(widgetLogger.pubTracker._trackEvent)!="undefined"){if(stlib.gaLogger.configOptions){widgetLogger.pubTracker._trackEvent("ShareThis",a,stlib.gaLogger.configOptions.URL)}else{widgetLogger.pubTracker._trackEvent("ShareThis",a)}}if(typeof(window.postMessage)!=="undefined"&&document.referrer!==""){if(stlib.gaLogger.configOptions){parent.postMessage("ShareThis|click|"+a+"|"+stlib.gaLogger.configOptions.URL,document.referrer)}else{parent.postMessage("ShareThis|click|"+a,document.referrer)}}},initGA:function(c,a){stlib.gaLogger.configOptions=a;if(typeof(c)=="undefined"){_$de("tracker ID for GA required");return}if(typeof(_gat)=="undefined"){var b=(("https:"==document.location.protocol)?"https://ssl.":"http://www.")+"google-analytics.com/ga.js";stlib.scriptLoader.loadJavascript(b,function(){try{widgetLogger.ga=_gat._getTracker(c);if(typeof(widgetLogger.ga)!="undefined"&&widgetLogger.ga!==null&&typeof(widgetLogger.ga._trackEvent)!="undefined"){widgetLogger.ga._trackPageview();if(stlib.gaLogger.configOptions&&stlib.gaLogger.configOptions.tracking&&stlib.gaLogger.configOptions.publisherGA!==null){widgetLogger.pubTracker=_gat._getTracker(stlib.gaLogger.configOptions.publisherGA);widgetLogger.ga._trackEvent("PublisherGA-"+stlib.gaLogger.configOptions.tracking,stlib.gaLogger.configOptions.publisherGA,stlib.gaLogger.configOptions.publisher)}else{if(stlib.gaLogger.configOptions&&stlib.gaLogger.configOptions.publisherGA!==null){widgetLogger.pubTracker=_gat._getTracker(stlib.gaLogger.configOptions.publisherGA);widgetLogger.ga._trackEvent("PublisherGA-"+stlib.gaLogger.configOptions.tracking,stlib.gaLogger.configOptions.publisherGA,stlib.gaLogger.configOptions.publisher)}}}}catch(d){}})}else{if(typeof(widgetLogger.ga)!="undefined"&&widgetLogger.ga!==null&&typeof(widgetLogger.ga._trackEvent)!="undefined"){if(stlib.gaLogger.configOptions&&stlib.gaLogger.configOptions.tracking&&stlib.gaLogger.configOptions.publisherGA!=null){widgetLogger.pubTracker=_gat._getTracker(stlib.gaLogger.configOptions.publisherGA);widgetLogger.ga._trackEvent("PublisherGA-"+stlib.gaLogger.configOptions.tracking,stlib.gaLogger.configOptions.publisherGA,stlib.gaLogger.configOptions.publisher)}}}},gaLog:function(b,d,a,c){if(typeof(widgetLogger.ga)!="undefined"&&widgetLogger.ga!==null&&typeof(widgetLogger.ga._trackEvent)!="undefined"){widgetLogger.ga._trackEvent(b,d,a,c)}}};stlib.browser={iemode:null,firefox:null,firefoxVersion:null,safari:null,chrome:null,opera:null,windows:null,mac:null,ieFallback:(/MSIE [6789]/).test(navigator.userAgent),init:function(){var a=navigator.userAgent.toString().toLowerCase();if(/msie|trident/i.test(a)){if(document.documentMode){stlib.browser.iemode=document.documentMode}else{stlib.browser.iemode=5;if(document.compatMode){if(document.compatMode=="CSS1Compat"){stlib.browser.iemode=7}}}}stlib.browser.firefox=((a.indexOf("firefox")!=-1)&&(typeof InstallTrigger!=="undefined"))?true:false;stlib.browser.firefoxVersion=(a.indexOf("firefox/5.0")!=-1||a.indexOf("firefox/9.0")!=-1)?false:true;stlib.browser.safari=(a.indexOf("safari")!=-1&&a.indexOf("chrome")==-1)?true:false;stlib.browser.chrome=(a.indexOf("safari")!=-1&&a.indexOf("chrome")!=-1)?true:false;stlib.browser.opera=(window.opera||a.indexOf(" opr/")>=0)?true:false;stlib.browser.windows=(a.indexOf("windows")!=-1)?true:false;stlib.browser.mac=(a.indexOf("macintosh")!=-1)?true:false},getIEVersion:function(){return stlib.browser.iemode},isFirefox:function(){return stlib.browser.firefox},firefox8Version:function(){return stlib.browser.firefoxVersion},isSafari:function(){return stlib.browser.safari},isWindows:function(){return stlib.browser.windows},isChrome:function(){return stlib.browser.chrome},isOpera:function(){return stlib.browser.opera},isMac:function(){return stlib.browser.mac}};stlib.browser.init();stlib.browser.mobile={mobile:false,uagent:null,android:null,iOs:null,silk:null,windows:null,kindle:null,init:function(){this.uagent=navigator.userAgent.toLowerCase();if(this.isAndroid()){this.mobile=true}else{if(this.isIOs()){this.mobile=true}else{if(this.isSilk()){this.mobile=true}else{if(this.isWindowsPhone()){this.mobile=true}else{if(this.isKindle()){this.mobile=true}}}}}},isMobile:function isMobile(){return this.mobile},isAndroid:function(){if(this.android===null){this.android=this.uagent.indexOf("android")>-1}return this.android},isKindle:function(){if(this.kindle===null){this.kindle=this.uagent.indexOf("kindle")>-1}return this.kindle},isIOs:function isIOs(){if(this.iOs===null){this.iOs=(this.uagent.indexOf("ipad")>-1)||(this.uagent.indexOf("ipod")>-1)||(this.uagent.indexOf("iphone")>-1)}return this.iOs},isSilk:function(){if(this.silk===null){this.silk=this.uagent.indexOf("silk")>-1}return this.silk},isWindowsPhone:function(){if(this.windows===null){this.windows=this.uagent.indexOf("windows phone")>-1}return this.windows},handleForMobileFriendly:function handleForMobileFriendly(c,r,f){if(!this.isMobile()){return false}if(typeof(stLight)==="undefined"){stLight={};stLight.publisher=r.publisher;stLight.sessionID=r.sessionID;stLight.fpc=""}var n=(typeof(c.title)!=="undefined")?c.title:encodeURIComponent(document.title);var a=(typeof(c.url)!=="undefined")?c.url:document.URL;var l=(r.short_url!=""&&r.short_url!=null)?r.short_url:"";if(r.service=="sharethis"){var n=(typeof(c.title)!=="undefined")?c.title:encodeURIComponent(document.title);var a=(typeof(c.url)!=="undefined")?c.url:document.URL;var j="";if(typeof(c.summary)!="undefined"&&c.summary!=null){j=c.summary}var b=document.createElement("form");b.setAttribute("method","GET");b.setAttribute("action","http://edge.sharethis.com/share4x/mobile.html");b.setAttribute("target","_blank");var e={url:a,title:n,summary:j,destination:r.service,publisher:stLight.publisher,fpc:stLight.fpc,sessionID:stLight.sessionID,short_url:l};if(typeof(c.image)!="undefined"&&c.image!=null){e.image=c.image}if(typeof(c.summary)!="undefined"&&c.summary!=null){e.desc=c.summary}if(typeof(f)!="undefined"&&typeof(f.exclusive_services)!="undefined"&&f.exclusive_services!=null){e.exclusive_services=f.exclusive_services}if(typeof(r.exclusive_services)!="undefined"&&r.exclusive_services!=null){e.exclusive_services=r.exclusive_services}if(typeof(f)!="undefined"&&typeof(f.services)!="undefined"&&f.services!=null){e.services=f.services}if(typeof(r.services)!="undefined"&&r.services!=null){e.services=r.services}var m=r;if(typeof(f)!="undefined"){m=f}if(typeof(m.doNotHash)!="undefined"&&m.doNotHash!=null){e.doNotHash=m.doNotHash}if(typeof(c.via)!="undefined"&&c.via!=null){e.via=c.via}e.service=r.service;e.type=r.type;if(stlib.data){var k=stlib.json.encode(stlib.data.pageInfo);var h=stlib.json.encode(stlib.data.shareInfo);if(stlib.browser.isFirefox()&&!stlib.browser.firefox8Version()){k=encodeURIComponent(encodeURIComponent(k));h=encodeURIComponent(encodeURIComponent(h))}else{k=encodeURIComponent(k);h=encodeURIComponent(h)}e.pageInfo=k;e.shareInfo=h}for(var p in e){var d=document.createElement("input");d.setAttribute("type","hidden");d.setAttribute("name",p);d.setAttribute("value",e[p]);b.appendChild(d)}document.body.appendChild(b);b.submit();return true}if(r.service=="email"){var g=(l!="")?l+"%0A%0a":a+"%0A%0a";if((typeof(c.summary)!="undefined")&&c.summary!=null){g+=c.summary+"%0A%0a"}g+="Sent using ShareThis";var q="mailto:?";q+="Subject="+n;q+="&body="+g;window.location.href=q;return true}return false}};stlib.browser.mobile.init();stlib.pump=function(a,c,d){var b=this;this.isIframeReady=false;this.isIframeSending=false;this.getHash=function(e){var f=e.split("#");f.shift();return f.join("#")};this.broadcastInit=function(e){this.destination=e;_$d_("---------------------");_$d1("Initiating broadcaster:");_$d(this.destination)};this.broadcastSendMessage=function(e){_$d_("---------------------");_$d1("Initiating Send:");if(this.destination===window){if(stlib.browser.ieFallback){window.location.replace(window.location.href.split("#")[0]+"#"+e);_$d2("child can't communicate with parent");return}_$d2("Iframe to publisher: "+e);parent.postMessage("#"+e,document.referrer)}else{_$d2("Publisher to Iframe: "+e);if(stlib.browser.ieFallback){if(this.destination.contentWindow){this.destination.contentWindow.location.replace(this.destination.src+"#"+e);this.isIframeSending=true}return}this.destination.contentWindow.postMessage("#"+e,this.destination.src)}};this.receiverInit=function(g,k){_$d_("---------------------");_$d1("Initiating Receiver:");_$d(g);if(stlib.browser.ieFallback){this.callback=k;this.source=g;if(g===window){window.location.replace(window.location.href.split("#")[0]+"#");this.currentIframe=window.location.hash;var f="receiver"+stlib.functionCount;stlib.functions[f]=function(m){if(""!=window.location.hash&&"#"!=window.location.hash){var l=window.location.hash;m(l);window.location.replace(window.location.href.split("#")[0]+"#")}};stlib.functionCount++;var j="callback"+stlib.functionCount;stlib.functions[j]=k;stlib.functionCount++;setInterval("stlib.functions['"+f+"'](stlib.functions['"+j+"'])",200)}else{}var h=window.addEventListener?"addEventListener":"attachEvent";var e=h=="attachEvent"?"onmessage":"message";window[h](e,function(l){if(g==window){}else{if(l.origin.indexOf("sharethis.com")!=-1){if(l.data.match(/#Pinterest Click/)){stlib.sharer.sharePinterest()}}}},false);return}var h=window.addEventListener?"addEventListener":"attachEvent";var e=h=="attachEvent"?"onmessage":"message";window[h](e,function(l){if(g==window){_$d1("arrived in iframe from:");_$d(l.origin);if(l.data.match(/#fragmentPump/)||l.data.match(/#Buttons Ready/)||l.data.match(/#Widget Ready/)||l.data.indexOf("#light")==0||l.data.indexOf("#widget")==0||l.data.indexOf("#popup")==0||l.data.indexOf("#show")==0||l.data.indexOf("#init")==0||l.data.indexOf("#test")==0||l.data.indexOf("#data")==0){k(l.data)}}else{if(l.origin.indexOf("sharethis.com")!=-1){_$d1("arrived in parent from:");_$d(l.origin);if(l.data.match(/#fragmentPump/)||l.data.match(/#Buttons Ready/)||l.data.match(/#Widget Ready/)||l.data.indexOf("#light")==0||l.data.indexOf("#widget")==0||l.data.indexOf("#popup")==0||l.data.indexOf("#show")==0||l.data.indexOf("#init")==0||l.data.indexOf("#test")==0||l.data.indexOf("#data")==0){k(l.data)}else{if(l.data.match(/#Pinterest Click/)){stlib.sharer.sharePinterest()}}}else{_$d1("discarded event from:");_$d(l.origin)}}},false)};this.broadcastInit(a);this.receiverInit(c,d)};stlib.sharer={sharerUrl:(("https:"==document.location.protocol)?"https://ws.":"http://wd.")+"sharethis.com/api/sharer.php",regAuto:new RegExp(/(.*?)_auto$/),constructParamString:function(){stlib.data.validate();stlib.hash.checkURL();var a=stlib.data.pageInfo;var c="?";var b;for(b in a){c+=b+"="+encodeURIComponent(a[b])+"&";_$d1("constructParamStringPageInfo: "+b+": "+a[b])}a=stlib.data.shareInfo;for(b in a){c+=b+"="+encodeURIComponent(a[b])+"&";_$d1("constructParamStringShareInfo: "+b+": "+a[b])}c+="ts="+new Date().getTime()+"&";return c.substring(0,c.length-1)},sharePinterest:function(){if(stlib.data.get("image","shareInfo")==false||stlib.data.get("image","shareInfo")==null||stlib.data.get("pinterest_native","shareInfo")=="true"){if(typeof(stWidget)!="undefined"&&typeof(stWidget.closeWidget)==="function"){stWidget.closeWidget()}if(typeof(stcloseWidget)==="function"){stcloseWidget()}if(typeof(stToolbar)!="undefined"&&typeof(stToolbar.closeWidget)==="function"){stToolbar.closeWidget()}var a=document.createElement("script");a.setAttribute("type","text/javascript");a.setAttribute("charset","UTF-8");a.setAttribute("src","//assets.pinterest.com/js/pinmarklet.js?r="+Math.random()*99999999);document.body.appendChild(a)}},share:function(d,a){var c=stlib.sharer.constructParamString();_$d_();_$d1("Initiating a Share with the following url:");_$d2(stlib.sharer.sharerUrl+c);if((stlib.data.get("destination","shareInfo")=="email")||(stlib.data.get("destination","shareInfo")=="pinterest"&&stlib.data.get("source","shareInfo").match(/share4xmobile/)==null&&stlib.data.get("source","shareInfo").match(/share4xpage/)==null&&stlib.data.get("source","shareInfo").match(/5xpage/)==null&&(stlib.data.get("image","shareInfo")==false||stlib.data.get("image","shareInfo")==null))||stlib.data.get("destination","shareInfo")=="snapsets"||stlib.data.get("destination","shareInfo")=="copy"||stlib.data.get("destination","shareInfo")=="plusone"||stlib.data.get("destination","shareInfo").match(stlib.sharer.regAuto)||(typeof(stlib.nativeButtons)!="undefined"&&stlib.nativeButtons.checkNativeButtonSupport(stlib.data.get("destination","shareInfo")))||(stlib.data.get("pinterest_native","shareInfo")!=false&&stlib.data.get("pinterest_native","shareInfo")!=null)){var b=new Image(1,1);b.src=stlib.sharer.sharerUrl+c;b.onload=function(){return}}else{if(typeof(a)!="undefined"&&a==true){window.open(stlib.sharer.sharerUrl+c,(new Date()).valueOf(),"scrollbars=1, status=1, height=480, width=640, resizable=1")}else{window.open(stlib.sharer.sharerUrl+c)}}d?d():null}};stlib.sharer.oauth={callbacks:[],callbackCounter:1,API_Url:(("https:"==document.location.protocol)?"https://ws.":"http://wd.")+"sharethis.com/api/getApi.php",API_destinations:{facebook:"postFacebook",facebookfriend:"postFacebookUserWall",twitter:"postTwitter",yahoo:"postYahooPulse",linkedin:"postLinkedIn",blank:"postOauthError"},share:function(f){var e=stlib.sharer.oauth.API_destinations[stlib.data.shareInfo.destination];e=e?e:stlib.sharer.oauth.API_destinations.blank;if(stlib.data.shareInfo.destination=="facebookfriend"){stlib.data.shareInfo.destination="facebook"}var d=stlib.sharer.constructParamString();var c=stlib.sharer.oauth.callbackCounter+"ST";stlib.sharer.oauth.callbackCounter++;stlib.sharer.oauth.callbacks[c]=f;var a=stlib.cookie.getCookie("ShareUT");var b=stlib.cookie.getCookie("__stid");e=stlib.sharer.oauth.API_Url+d+"&service="+e+"&cb=stlib.sharer.oauth.callbacks['"+c+"']";_$d_();_$d1("Initiating an Oauth Share with the following url:");_$d2(e);stlib.scriptLoader.loadJavascript(e,function(){})}};if(!window.console||!console.firebug){var names=["log","debug","info","warn","error","assert","dir","dirxml","group","groupEnd","time","timeEnd","count","trace","profile","profileEnd"];window.console={};for(var i=0;i<names.length;++i){window.console[names[i]]=function(){}}}var fragInstance=new stlib.pump(window,window,function(a){_$d1("Iframe received message: "+a);fragmentPump.checkFragment(a);!stlib.browser.ieFallback?fragInstance.broadcastSendMessage("Widget Ready"):null});try{!stlib.browser.ieFallback?fragInstance.broadcastSendMessage("Widget Ready"):null}catch(err){}var domReady=false;var bufferArgs=[];var bufferValue=[];var bufferRunArgs=[];var glo_jsonArray=[];var glo_jsonStr="";var getUserInfoTimer=null;var isSignedIn=false;var isOauthLinked=false;var _popupWidths={};_popupWidths.facebook="450";_popupWidths.twitter="684";_popupWidths.yahoo="500";_popupWidths.google="550";_popupWidths.linkedin="600";var _popupHeights={};_popupHeights.facebook="300";_popupHeights.twitter="718";_popupHeights.yahoo="460";_popupHeights.google="400";_popupHeights.linkedin="433";fragmentPump=new function(){this.initRun=false;this.checkFragment=function(message){if(message=="#Buttons Ready"){return}_$d_();_$d1("Checking Fragment: "+message);var args=message.split("/");var cmd=args.shift();cmd="fragmentPump."+cmd.substring(1);_$d2("Command: "+cmd);var temp="";if(true==/page=send/gi.test(message)||true==/page-=-send/gi.test(message)){showLoadingBox()}for(var i=0;i<args.length;i++){temp=temp+'"'+args[i].replace(/\"/gi,'\\"')+'"';if(i<(args.length-1)){temp=temp+","}}var evStr=cmd+"("+temp+")";if(cmd=="fragmentPump.init"||cmd=="fragmentPump.test"||cmd=="fragmentPump.data"||cmd=="fragmentPump.show"||cmd=="fragmentPump.popup"||cmd=="fragmentPump.widget"||cmd=="fragmentPump.light"){var tempFun=eval("window."+cmd);if(tempFun){var tempFucn=new Function(evStr);tempFucn()}}};this.init=function(){if(this.initRun===false){this.initRun=true;for(var i=0;i<arguments.length;i++){var num=i+1;if(arguments[i]!=""&&arguments[i]!=" "){addToOptionsBuffer(arguments[i])}}if(widget.domReady===true){processBuffer()}this.initRun=true}};this.data=function(){_$d_();_$d1("Running data() in fragPump.js:");_$d2("Arguments: ");_$d2(arguments);for(var i=0;i<arguments.length;i++){addToOptions(arguments[i])}};this.show=function(){checkOptOut();initialPageTurn();showLoadingBox();if(widget.chicklet_loaded==false){replaceClass("closeX_replace","closeX");initWidget();checkLogin();widget.chicklet_loaded=true}if(this.initRun==false){return false}for(var i=0;i<arguments.length;i++){addToOptions(arguments[i])}return true};this.popup=function(){_$d_();_$d1("Running popup() in fragPump.js:");_$d2("Arguments: ");_$d2(arguments);checkOptOut();initialPageTurn();widget.popup=true;if(widget.chicklet_loaded==false){initWidget();checkLogin();widget.chicklet_loaded=true}replaceClass("closeX_replace","closeX");clearInterval(fragmentPump.fragTimer);glo_options_popup=true;displayNum=24;for(var i=0;i<arguments.length;i++){var num=i+1;addToOptionsBuffer2(arguments[i])}if(widget.domReady===true){processBuffer()}this.initRun=true};this.widget=function(){moveServices(0);if(arguments.length){var kvPairs=arguments[0].split("=");for(var i=0;i<kvPairs.length;i+=2){switch(kvPairs[i]){case"screen":if(kvPairs[i+1]=="home"){if(widget.page!="send"){showHome()}}else{if(kvPairs[i+1]=="send"){showHome()}}break;case"publisherGA":setGlobals("publisherGA",kvPairs[i+1]);break}}}};this.light=function(){if(widget.chicklet_loaded==false){replaceClass("closeX_replace","closeX");initWidget();checkLogin();widget.chicklet_loaded=true}if(this.initRun==false){return false}for(var i=0;i<arguments.length;i++){addToOptionsLight(arguments[i])}checkOptOut();initialPageTurn();addServiceLinks();return true}};function checkOptOut(){if(stlib.cookie.getCookie("st_optout")!==false){stlib.cookie.deleteAllSTCookie()}}function initialPageTurn(){if(widget.service=="email"){turnPage("email");return}else{if(widget.service=="sharethis"){turnPage("main");return}else{if(widget.service=="wordpress"){createPoster("wordpress");return}}}switch(widget.page){case"send":turnPage("email");break;case"home":turnPage("main");break;default:turnPage("main");break}}function addToOptionsBuffer(b){var c=[];c=b.split("=");c[0]=decodeURIComponent(c[0]);c[1]=decodeURIComponent(c[1]);try{c[0]=decodeURIComponent(c[0]);c[1]=decodeURIComponent(c[1])}catch(d){}bufferArgs.push(c[0]);bufferValue.push(c[1])}function addToOptionsBuffer2(b){var c=[];c=b.split("-=-");c[0]=decodeURIComponent(c[0]);c[1]=decodeURIComponent(c[1]);try{c[0]=decodeURIComponent(c[0]);c[1]=decodeURIComponent(c[1])}catch(d){}bufferArgs.push(c[0]);bufferValue.push(c[1])}function checkBufferArg(b){var c=false;for(var a=0;a<bufferRunArgs.length;a++){if(bufferRunArgs[a]==b){c=true}}return c}function processBuffer(){bufferArgs.reverse();bufferValue.reverse();for(var a=0;a<bufferArgs.length;a++){if(checkBufferArg(bufferArgs[a])===false){bufferRunArgs.push(bufferArgs[a]);setGlobals(bufferArgs[a],bufferValue[a])}}addServiceLinks()}function fragObj(a,b){this.frag=a;this.qs=b}function addToOptions(b){var c=[];c=b.split("=");c[0]=decodeURIComponent(c[0]);c[1]=decodeURIComponent(c[1]);try{c[0]=decodeURIComponent(c[0]);c[1]=decodeURIComponent(c[1])}catch(d){}setGlobals(c[0],c[1])}function addToOptionsLight(b){var c=[];c=b.split("-=-");c[0]=decodeURIComponent(c[0]);c[1]=decodeURIComponent(c[1]);try{c[0]=decodeURIComponent(c[0]);c[1]=decodeURIComponent(c[1])}catch(d){}setGlobals(c[0],c[1])}function addToOptions2(b){var c=[];c=b.split("=");c[0]=decodeURIComponent(c[0]);try{c[0]=decodeURIComponent(c[0]);c[1]=decodeURIComponent(c[1])}catch(d){}if(c[0]=="pageHost"){setGlobals("hostname",c[1])}else{if(c[0]=="pagePath"){setGlobals("location",c[1])}else{if(c[0]=="pageTitle"){setGlobals("title",c[1])}else{if(c[0]=="pageURL"){setGlobals("url",c[1])}else{if(c[0]=="pageImage"){setGlobals("image",c[1])}else{if(c[0]=="pageSummary"){setGlobals("summary",c[1])}}}}}}if(c[1]=="done"){if(fragmentPump.initRun===false){document.location.hash=glo_initFrag}glo_jsonStr=glo_jsonArray.join("");glo_jsonArray=[];processFrag()}else{if(c[0]=="jsonData"){glo_jsonArray.push(c[1])}}}function processFrag(){try{glo_jsonStr=decodeURIComponent(glo_jsonStr)}catch(c){}var b=glo_jsonStr;var d=[];try{d=stlib.json.decode(b);if(d==null){b=decodeURIComponent(b);d=stlib.json.decode(b)}}catch(c){b=decodeURIComponent(b);d=stlib.json.decode(b)}if(d&&d.length){for(var a=0;a<d.length;a++){setGlobals("title",d[a].title);setGlobals("type",d[a].type);setGlobals("summary",d[a].summary);setGlobals("content",d[a].content);setGlobals("short_url",d[a].short_url);setGlobals("url",d[a].url);setGlobals("icon",d[a].icon);setGlobals("category",d[a].category);setGlobals("updated",d[a].updated);setGlobals("published",d[a].published);setGlobals("author",d[a].author);setGlobals("thumb",d[a].icon);if(d[a].tags){setGlobals("glo_tags_array",d[a].tags)}if(d[a].description){setGlobals("glo_description_array",d[a].description)}}}addServiceLinks()}function setGlobals(e,g){if(e!="pageInfo"&&e!="shareInfo"){try{g=decodeURIComponent(g)}catch(f){}try{g=decodeURIComponent(g)}catch(f){}}if(g=="true"){g=true}else{if(g=="false"){g=false}}switch(e){case"url":widget.URL=g;if(widget.popup==true){initWidget()}var d=extractDomainFromURL(g);if(d==null){d=widget.URL}else{if(widget.hostname==null){widget.hostname=d}}if(!widget.sharCreated){widget.sharURL=g}break;case"short_url":widget.short_url=g;break;case"title":widget.title=g;break;case"pUrl":if(widget.popup!=true||widget.URL==null){widget.URL=g;var d=extractDomainFromURL(g);if(d==null){d=g}else{if(widget.hostname==null){widget.hostname=d}}}break;case"fpc":widget.fpc=g;break;case"sessionID":widget.sessionID=g;break;case"publisher":widget.publisher=g;break;case"pageInfo":stlib.data.pageInfo=stlib.json.decode(g);break;case"doNotHash":stlib.hash.doNotHash=g;break;case"servicePopup":widget.servicePopup=g;break;case"via":widget.via=g;break;case"summary":widget.summary=g;break;case"content":widget.content=g;break;case"icon":widget.icon=g;break;case"image":widget.thumb=g;break;case"category":widget.category=g;break;case"updated":widget.updated=g;break;case"author":widget.author=g;break;case"published":widget.published=g;break;case"thumb":widget.thumb=g;break;case"hostname":widget.hostname=g;break;case"message":widget.message=g;break;case"location":widget.location=g;break;case"guid_index":widget.guid_index=g;break;case"page":widget.page=g;if(g&&g=="send"){getEmailService()}else{if(g&&g=="home"){showHome()}}break;case"toolbar":widget.toolbar=g;break;case"services":widget.services=g;break;case"headerTitle":if(g.length>0){document.getElementById("popular").innerHTML=g}break;case"headerfg":document.getElementById("popular").style.color=g;document.getElementById("doNotTrack").style.color=g;document.getElementById("outercontainer").style.color=g;break;case"headerbg":document.getElementById("popular").style.background=g;document.getElementById("outercontainer").style.filter=null;document.getElementById("outercontainer").style.background=g;document.getElementById("footer").style.background=g;break;case"tracking":widget.tracking=true;if(widget.domReady==true){}break;case"linkfg":widget.linkfg=g;break;case"tabs":var c=new RegExp(/email|send/);if(c.test(g)==false){widget.email_service=false}if(c.test(g)==false){widget.sms_service=false}break;case"send_services":var c=new RegExp(/email/);if(c.test(g)==false){widget.email_service=false}c=new RegExp(/sms/);if(c.test(g)==false){widget.sms_service=false}break;case"exclusive_services":if(g=="true"||g==true){widget.showAllServices=false}break;case"post_services":if(widget.services==null){widget.services=g}else{widget.services+=","+g}break;case"stLight":widget.stLight=true;break;case"doneScreen":widget.doneScreen=g;break;case"jsref":widget.jsref=g;break;case"type":widget.type=g;break;case"source":widget.source=g;break;case"service":widget.service=g;break;case"publisherGA":widget.publisherGA=g;break;case"relatedDomain":widget.relatedDomain=g;break;case"lang":if(g!=""){var b=g;if(g=="zh"){b="cn"}else{if(g=="ja"){b="jp"}}odjs((("https:"==document.location.protocol)?"https://ws.sharethis.com/secure/js/local/"+b+"/message.js":"http://w.sharethis.com/share4x/js/local/"+b+"/message.js"),function(){fillInLanguage()})}break;case"shorten":widget.shorten=g;break;case"embeds":case"button":case"type":case"inactivefg":case"inactivebf":case"headerbg":case"style":case"charset":case"hash_flag":case"onmouseover":case"inactivebg":case"send_services":case"buttonText":case"offsetLeft":case"offsetTop":case"buttonText":break;default:break}}var widget=new function(){this.URL=null;this.short_url=null;this.title=null;this.sessionID=null;this.fpc=null;this.publisher=null;this.browser=null;this.services=[];this.publisher=null;this.icon;this.content;this.guid;this.guid_index;this.published;this.author;this.updated;this.summary;this.thumb;this.tags;this.hostname;this.location;this.headerTitle;this.headerfg;this.page;this.purl;this.sharCreated=false;this.all_services=stlib.allServices;this.top_services="email,facebook,twitter,pinterest,linkedin,googleplus,digg,stumbleupon,reddit,tumblr";this.top_services_sprite_list="email,facebook,twitter,pinterest,linkedin,googleplus,digg,stumbleupon,reddit,tumblr";this.exclusive_services=null;this.services="";this.sharebox={title:"Save",type:"sharebox"};this.chickletNumber=6;this.domReady=false;this.guid_index=0;this.page="home";this.toolbar=false;this.loginPoller=null;this.fsPoller=null;this.importPoller=null;this.accountLinkingPoller=null;this.metaInfo=null;this.mainCssLoaded=false;this.toolbar=false;this.pageTracker=null;this.pubTracker=null;this.tracking=false;this.lastURL=null;this.sharURL=null;this.poster=null;this.linkfg=null;this.email_service=true;this.sms_service=true;this.showAllServices=true;this.chicklet_loaded=false;this.segmentframe=null;this.segmentRun=false;this.ga=null;this.popup=false;this.cssInterval=null;this.stLight=false;this.optout=false;this.doneScreen=true;this.jsref="";this.type=null;this.service=null;this.publisherGA=null;this.message="";this.via=null;this.source="";this.shorten=true};var user=new function(){this.name=null;this.email=null;this.nickname=null;this.recents=null;this.chicklets=null;this.display=null;this.type=null;this.token=null;this.contacts=[];this.loggedIn=false;this.user_services=null;this.currentUserType=null;this.ThirdPartyUsers=null};function getServiceLink(c){if((widget.all_services[c]==undefined&&c!=="sharebox")||(widget.email_service==false&&c=="email")){var d=document.createElement("a");var b=document.createElement("li");b.appendChild(d);return null}var e=" rpChicklet";if(c=="email"){var d=document.createElement("a");d.className=c;d.className+=e;d.setAttribute("title",widget.all_services[c].title);d.setAttribute("id","post_"+c+"_link");if(d.attachEvent){d.attachEvent("onclick",function(){getEmailService()})}else{d.setAttribute("onclick","getEmailService();")}d.setAttribute("href","javascript:void(0);");d.appendChild(document.createTextNode(widget.all_services[c].title));if(widget.linkfg!=null){d.style.color=widget.linkfg}var b=document.createElement("li");b.appendChild(d);return b}else{if(c=="sharebox"){var d=document.createElement("a");d.className=c;d.className+=e;d.setAttribute("title",widget.sharebox.title);d.setAttribute("id","post_"+c+"_link");d.setAttribute("href","javascript:void(0);");d.appendChild(document.createTextNode(widget.sharebox.title));if(widget.linkfg!=null){d.style.color=widget.linkfg}var b=document.createElement("li");b.appendChild(d);return b}else{if(c=="wordpress"){var d=document.createElement("a");d.className=c;d.className+=e;d.setAttribute("title",widget.all_services[c].title);d.setAttribute("id","post_"+c+"_link");if(d.attachEvent){d.attachEvent("onclick",function(){createPoster("wordpress")})}else{d.setAttribute("onclick",'createPoster("wordpress")')}d.setAttribute("href","javascript:void(0);");d.appendChild(document.createTextNode(widget.all_services[c].title));if(widget.linkfg!=null){d.style.color=widget.linkfg}var b=document.createElement("li");b.appendChild(d);return b}else{var f="chicklet";if(widget.service==null){widget.service="legacy"}var d=document.createElement("a");d.className=c;d.className+=e;d.setAttribute("href","javascript:void(0);");d.setAttribute("title",widget.all_services[c].title);d.setAttribute("id","post_"+c+"_link");d.setAttribute("stservice",c);if(d.attachEvent){d.attachEvent("onclick",function(){serviceClicked(d)})}else{d.setAttribute("onclick","serviceClicked(this);")}d.appendChild(document.createTextNode(widget.all_services[c].title));if(widget.linkfg!=null){d.style.color=widget.linkfg}var b=document.createElement("li");b.appendChild(d);return b}}}}function turnPage(a){document.getElementById("mainPage").style.display="none";document.getElementById("emailPage").style.display="none";document.getElementById("posterPage").style.display="none";document.getElementById("donePage").style.display="none";document.getElementById("loadingPage").style.display="none";document.getElementById("captchaPage").style.display="none";document.getElementById(a+"Page").style.display="block";if(a=="main"){replaceStyles();hideEmailAuthentication()}if(a=="email"){var b="";if((stlib.cookie.checkCookiesEnabled()==false)&&(stlib.cookie.hasLocalStorage()==false)){document.getElementById("emailCookieErrorMessage").style.display="block"}else{document.getElementById("emailCookieErrorMessage").style.display="none"}createShar();showEmailAuthentication()}}function getEmailService(a){stlib.gaLogger.gaLog("Chicklet","Email");stlib.gaLogger.shareLog("Email");widget.poster=null;updateServiceCount("email","Email");if(typeof(email)=="undefined"){odjs((("https:"==document.location.protocol)?"https://ws.sharethis.com/secure/js/email.63370303e44316046d495d25b0b98777.js":"http://w.sharethis.com/share4x/js/email.63370303e44316046d495d25b0b98777.js"),function(){});turnPage("email")}else{turnPage("email");email.reClicked();document.getElementById("heading_div").firstChild.innerHTML=lang.strings.msg_email}}function emailServiceCallback(){document.getElementById("heading_div").firstChild.innerHTML=lang.strings.msg_email;if(widget.metaInfo){if(widget.metaInfo.require_captcha){}else{turnPage("email")}}else{turnPage("email")}document.getElementById("email_main").style.display="block";try{document.getElementById("txtYourAddr").focus()}catch(a){}if(user.email==null){document.getElementById("from_div").style.display="block"}else{if(user.email.length<2){document.getElementById("from_div").style.display="block"}else{document.getElementById("from_div").style.display="none"}}}function showLoadingBox(a){if(a){document.getElementById("loading").innerHTML=a}document.getElementById("loading_img").innerHTML='<span class="imgSpinner">&nbsp;</span>';turnPage("loading")}function hideLoadingBox(){document.getElementById("loadingPage").style.display="none"}function addServiceLinks(){user.user_services=extractServicesFromCookie();var k;var d=document.getElementById("top_chicklets");this.services={abc:false};if(typeof(widget.all_services.email)!="undefined"&&lang&&lang.strings&&lang.strings.msg_email_button){stlib.allServices.email.title=lang.strings.msg_email_button}function c(l){if(typeof(l)=="undefined"||l==""){return}var m=getServiceLink(l);if(m!=null){h=document.createElement("div");h.className="largeChicklet lc_"+l;m.getElementsByTagName("a")[0].appendChild(h);d.appendChild(m);return true}return false}while(d.childNodes.length>=1){d.removeChild(d.firstChild)}var g=0;var j=widget.services.split(",");var h;for(var e=0;e<j.length;e++){if(typeof(this.services[j[e]])=="undefined"){if(c(j[e])){g++;this.services[j[e]]=true}}}if(!widget.showAllServices){if(j.length<11){var b=document.getElementById("sts_sliderKnob");if(b){b.style.display="none"}}replaceStyles();return}if(user.user_services!==null){var a=user.user_services.split(",");for(var e=0;e<a.length;e++){if(g<10){if(typeof(this.services[a[e]])=="undefined"){if(c(a[e])){g++;this.services[a[e]]=true}}}}}var f=widget.top_services.split(",");for(var e=0;e<f.length;e++){if(g<10){if(typeof(this.services[f[e]])=="undefined"){if(c(f[e])){g++;this.services[j[e]]=true}}}}if(typeof(widget.all_services.sharethis)!="undefined"){delete stlib.allServices.sharethis}for(var e in widget.all_services){if(e=="whatsapp"){continue}c(e)}replaceStyles()}function searchFocus(){var a=document.getElementById("chicklet_search_field");if(a.value==lang.strings.msg_search_services){a.value=""}stlib.gaLogger.gaLog("Search","focus")}function searchBlur(){var a=document.getElementById("chicklet_search_field");if(a.value==""){a.value=lang.strings.msg_search_services}}function searchAndDisplay(e){replaceStyles(true);var h=document.getElementById("chicklets");if(e==""){var a=document.getElementById("top_chicklets");for(g=0;g<a.childNodes.length;g++){var j=a.childNodes[g];var d=j.childNodes[0];d.innerHTML=d.innerHTML.replace("<span>","");d.innerHTML=d.innerHTML.replace("</span>","");d.className=d.className.replace(" searchedLi","")}return}try{var r=new RegExp("^"+e,"gi")}catch(f){return false}try{var c=new RegExp(e,"gi")}catch(f){return false}var b=[];var k=[];for(var g in widget.all_services){var n=widget.all_services[g].title;if(c.test(n)==true&&g!="sharebox"){k.push(g)}else{if(c.test(n)==true){}}if(r.test(n)==true&&g!="sharebox"){b.push(g)}}var l=document.getElementById("post_"+b[0]+"_link");l=l?l:document.getElementById("post_"+k[0]+"_link");if(l){var q=0;for(g=0;g<l.parentNode.parentNode.childNodes.length;g++){var j=l.parentNode.parentNode.childNodes[g];var d=j.childNodes[0];var p=d.childNodes[0].data;if(j==l.parentNode){q=Math.floor(g/2);d.innerHTML=d.innerHTML.replace("<span>","");d.innerHTML=d.innerHTML.replace("</span>","");try{var m=new RegExp(e+"(?=.*<di)","i")}catch(f){return false}d.innerHTML=d.innerHTML.replace(m,"<span>"+m.exec(d.innerHTML)+"</span>");d.className=d.className.replace(" searchedLi","");d.className=d.className+" searchedLi"}else{d.innerHTML=d.innerHTML.replace("<span>","");d.innerHTML=d.innerHTML.replace("</span>","");d.className=d.className.replace(" searchedLi","")}}moveServices(q,true)}widget.lastSearchTerm=e;return true}function extractServicesFromCookie(){var b=stlib.json.decode(stlib.cookie.getCookie("ServiceHistory"));var d=[];var c=null;for(o in b){d.push(b[o])}d.sort(serviceSort);if(d.length>0){c=""}for(var a=0;a<d.length;a++){if(a<d.length-1){c+=d[a].service+","}else{c+=d[a].service}}return c}function serviceClicked(c){var b=c.getAttribute("stservice");var a=c.getAttribute("title");updateServiceCount(b,a);stlib.data.resetShareData();stlib.data.set("url",widget.URL,"shareInfo");stlib.data.set("short_url",widget.short_url,"shareInfo");stlib.data.set("shorten",widget.shorten,"shareInfo");stlib.data.set("title",widget.title,"shareInfo");stlib.data.set("image",widget.thumb,"shareInfo");stlib.data.set("description",widget.summary,"shareInfo");stlib.data.set("buttonType","large","shareInfo");stlib.data.set("destination",b,"shareInfo");if(widget.popup==true&&widget.source!="sharethis.js"){stlib.data.setSource("share4xpage",widget)}else{stlib.data.setSource("share4x",widget)}if(b=="twitter"&&widget.via!=null){stlib.data.set("via",widget.via,"shareInfo")}if(widget.message!=""){stlib.data.set("message",widget.message,"shareInfo")}stlib.sharer.share(null,widget.servicePopup);if(b=="pinterest"&&(stlib.data.get("image","shareInfo")==false||stlib.data.get("image","shareInfo")==null)&&stlib.data.get("source","shareInfo").match(/share4xpage/)==null){if(stlib.browser.ieFallback){if(typeof(window.postMessage)!=="undefined"&&document.referrer!==""){parent.postMessage("#Pinterest Click",document.referrer)}}else{fragInstance.broadcastSendMessage("Pinterest Click")}}stlib.gaLogger.gaLog("Share",b);showDoneScreen();stlib.gaLogger.shareLog(b)}function updateServiceCount(b,a){if(widget.all_services[b]==undefined||b=="sharebox"){return false}var e=stlib.json.decode(stlib.cookie.getCookie("ServiceHistory"));if(e==false||e==null||e.length<1){e={};e[b]={};e[b].service=b;e[b].title=a;e[b].count=1;stlib.cookie.setCookie("ServiceHistory",stlib.json.encode(e));return true}var g={};var f=null;var c=false;var h=[];for(o in e){if(e[o].service==b){e[o].count++;e[o].title=a;c=true}h.push(e[o])}if(c==false){e[b]={};e[b].service=b;e[b].title=a;e[b].count=1}else{h.sort(function(k,j){return j.count-k.count});e={};for(var d=0;d<h.length;d++){e[h[d].service]=h[d]}}stlib.cookie.setCookie("ServiceHistory",stlib.json.encode(e));return true}function serviceSort(d,c){if(d.count==c.count){return 0}else{if(d.count>c.count){return -1}else{return 1}}}function signIn(){var b=450;if(stlib.browser.mac==true&&stlib.browser.safari==true){b=418}else{if(stlib.browser.windows==true&&stlib.browser.safari==true){b=348}else{if(stlib.browser.ieFallback==true){b=445}}}var a="";if((stlib.cookie.checkCookiesEnabled()==false)&&(stlib.cookie.hasLocalStorage()==false)){a="?enableTPC=true"}window.open("http://sharethis.com/account/signin-widget"+a,"LoginWindow","scrollbars=1, status=yes, height="+b+", width=970, resizable=1");clearInterval(widget.loginPoller);widget.loginPoller=setInterval(function(){checkForLoginCookie()},1000);stlib.gaLogger.gaLog("SignIn","Click")}function signOut(){if(stlib.cookie.hasLocalStorage()){window.localStorage.clear()}stlib.gaLogger.gaLog("SignOut","Click");stlib.cookie.deleteCookie("ShareUT");stlib.cookie.deleteCookie("recents");stlib.cookie.deleteCookie("stOAuth");forgetUser();if(typeof(email)!=="undefined"){email.display=[];email.selected=[];document.getElementById("recents").style.display="none"}isSignedIn=false;isOauthLinked=false;if(document.getElementById("emailPage").style.display!="none"){showEmailAuthentication()}else{document.getElementById("emailshareHeading").setAttribute("class","");document.getElementById("emailshareHeading").style.display="none";document.getElementById("popular").style.display="block"}document.getElementById("signIn").style.display="block";document.getElementById("footer_info").style.display="none";document.getElementById("popular").innerHTML=lang.strings.msg_share;document.getElementById("notYou").innerHTML="";addServiceLinks();if(stlib.cookie.checkCookiesEnabled()==false){var a=window.open("http://sharethis.com/account/signout","ShareThis","toolbar=no,status=no,width=1px,height=1px");window.focus();setTimeout(function(){a.close()},2500)}}function forgetUser(){user.name=null;user.email=null;user.nickname=null;user.recents=null;user.chicklets=null;user.display=null;user.type=null;user.token=null;user.contacts=[];user.loggedIn=false;user.user_services=null;user.currentUserType=null;user.ThirdPartyUsers=null;user.thirdPartyTypes=null;if(user.email==null&&typeof(email)!=="undefined"){document.getElementById("from_div").style.display="block"}}function checkLogin(){var b=false;b=stlib.cookie.getCookie("ShareUT");if((b==false)||(b=="undefined")||(typeof(b)=="undefined")){if(stlib.cookie.hasLocalStorage()){b=localStorage.ShareUT}}if((b!==false)&&(b!="undefined")&&(typeof(b)!=="undefined")){var a=[];if(!stlib.cookie.checkCookiesEnabled()){a=["return=json","cb=loginOnSuccess","service=getUserInfo","from_memcache=false","token="+b]}else{a=["return=json","cb=loginOnSuccess","service=getUserInfo","from_memcache=false"]}a=a.join("&");jsonp.makeRequest((("https:"==document.location.protocol)?"https://ws.sharethis.com/":"http://wd.sharethis.com/")+"api/getApi.php?"+a)}}function loginOnSuccess(b){stlib.gaLogger.gaLog("SignIn","Complete");if(b&&b.status=="SUCCESS"){isSignedIn=true;user.email=b.data.email;user.name=b.data.name;user.nickname=b.data.nickname;user.recents=b.data.recipients;if(user.recents!==null){stlib.cookie.setCookie("recents",stlib.json.encode(user.recents))}user.display=user.email;user.currentUserType=b.data.CurrentUserType;user.ThirdPartyUsers=b.data.ThirdPartyUsers;user.thirdPartyTypes=b.data.ThirdPartyTypes;var e=["facebook","twitter","linkedin"];for(var h=0;h<e.length;h++){if(user.ThirdPartyUsers!=null&&user.ThirdPartyUsers[e[h]]!=null){if(user.email!=null){user.ThirdPartyUsers[e[h]]=user.email}if(user.name!=null){user.ThirdPartyUsers[e[h]]=user.name}}}stlib.cookie.setCookie("stOAuth",stlib.json.encode(user.ThirdPartyUsers),365);if((user.ThirdPartyUsers!=null)&&(user.ThirdPartyUsers!=false)&&typeof(user.ThirdPartyUsers)!="undefined"){isOauthLinked=stlib.json.encode(user.ThirdPartyUsers)}if(b.data.CurrentUserType&&b.data.ThirdPartyUsers){if(user.name!==null){user.display="<span>"+user.name+"</span>"}else{user.display="<span>"+b.data.ThirdPartyUsers[b.data.CurrentUserType]+"</span>"}}if(stlib.cookie.hasLocalStorage()){var f=stlib.cookie.getCookie("ShareUT");var g=window.localStorage;if(user.email!=null){g.email=user.email}if(user.name!=null){g.name=user.name}if(user.nickname!=null){g.nickname=user.nickname}if(user.currentUserType!=null){g.currentUserType=user.currentUserType}if(user.ThirdPartyUsers!=null){for(var h=0;h<e.length;h++){if(user.ThirdPartyUsers!=null&&user.ThirdPartyUsers[e[h]]!=null){if(user.email!=null){user.ThirdPartyUsers[e[h]]=user.email}if(user.name!=null){user.ThirdPartyUsers[e[h]]=user.name}}}g.ThirdPartyUsers=stlib.json.encode(user.ThirdPartyUsers);if(user.thirdPartyTypes!=null){g.thirdPartyTypes=user.thirdPartyTypes}}var a=user.display;if(a!=null){a=a.replace(/ckimg/gi,"rpChicklet");g.display=a}}if("undefined"!==typeof(email)){if(showEmailAuthentication()){hideEmailAuthentication()}email.gotContacts=false;email.getContacts();email.showRecents();if(user.email!=null&&user.email!=""){document.getElementById("from_div").style.display="none"}else{document.getElementById("from_div").style.display="block"}}document.getElementById("signIn").style.display="none";if(user.display!==null){var d=user.name;d=d?d:user.email;d=d?d:user.nickname;d=d.length>25?d.substring(0,23)+"...":d;d="<span>"+d+"</span>";document.getElementById("popular").innerHTML="<a id='header_email' target='_blank' href='http://sharethis.com/account' >"+lang.strings.msg_greeting+" "+d+",</a> ";document.getElementById("notYou").innerHTML=lang.strings.msg_notyou}document.getElementById("footer_info").style.display="block"}}function checkForLoginCookie(){var a=false;a=stlib.cookie.getCookie("ShareUT");if((a==false)||(a=="undefined")||(typeof(a)=="undefined")){if((stlib.cookie.checkCookiesEnabled()==false)&&(stlib.cookie.hasLocalStorage()==true)){a=localStorage.ShareUT}}if((a!==false)&&(a!="undefined")&&(typeof(a)!=="undefined")){clearInterval(widget.loginPoller);checkLogin();clearInterval(widget.loginPoller)}}function checkForAccountLinkingCookie(){var b=stlib.cookie.getCookie("ShareAL");if((b==false)||(b=="undefined")||(typeof(b)=="undefined")){if((stlib.cookie.checkCookiesEnabled()==false)&&(stlib.cookie.hasLocalStorage()==true)){b=localStorage.ShareAL}}if(b){if(stlib.cookie.hasLocalStorage()){localStorage.removeItem("ShareAL")}stlib.cookie.deleteCookie("ShareAL");clearInterval(widget.accountLinkingPoller);checkLogin();if((stlib.cookie.checkCookiesEnabled()==false)&&(stlib.cookie.hasLocalStorage()==true)){var a=setTimeout(function(){var c=localStorage.thirdPartyTypes;if((c==false)||(c=="undefined")||(typeof(c)=="undefined")){checkLogin()}},3000)}clearInterval(widget.accountLinkingPoller)}}function checkForImportCookie(){var a=stlib.cookie.getCookie("StImported");if((stlib.cookie.checkCookiesEnabled()==false)&&(stlib.cookie.hasLocalStorage()==true)){a=localStorage.StImported}var b=stlib.cookie.getCookie("ShareUT");if((stlib.cookie.checkCookiesEnabled()==false)&&(stlib.cookie.hasLocalStorage()==true)){b=localStorage.ShareUT}if(b&&a&&a=="true"){stlib.cookie.deleteCookie("StImported");clearInterval(widget.importPoller);checkLogin();if(email){email.getContacts()}clearInterval(widget.importPoller)}}function getMainCss(){if(widget.mainCssLoaded==false){odcss((("https:"==document.location.protocol)?"https://ws.sharethis.com/secure/css/share.6a577574fb5947e1917631b1b6c37aa7.css":"http://w.sharethis.com/share4x/css/share.6a577574fb5947e1917631b1b6c37aa7.css"),function(){},true);widget.mainCssLoaded=true}else{return false}}function showModal(a){document.getElementById("modalPage").style.display="block";document.getElementById("modal_text").innerHTML=a}function clearModal(){document.getElementById("modalPage").style.display="none"}function extractDomainFromURL(b,a){try{var d=b.replace(/(\w+):\/\/([^\/:]+)(:\d*)?([^# ]*)/,"$2");if(!a&&d.toLowerCase().indexOf("www.")==0){d=d.substring(4)}d=d.replace(/#.*?$/,"");return d}catch(c){return null}}function initWidget(){getMainCss();if(widget.URL==null){return true}else{var a=["return=json","url="+encodeURIComponent(widget.URL),"fpc="+widget.fpc,"cb=initWidgetOnSuccess","service=initWidget"];a=a.join("&");jsonp.makeRequest((("https:"==document.location.protocol)?"https://ws.sharethis.com/":"http://wd.sharethis.com/")+"api/getApi.php?"+a);return true}}function initWidgetOnSuccess(a){if(a&&a.data){widget.metaInfo=a.data}replaceClass("closeX_replace","closeX");if(a&&a.data&&a.data.ga&&a.data.ga==true){if(stlib.cookie.getCookie("st_optout")!==false){}else{stlib.gaLogger.initGA("UA-1645146-9",widget)}if(typeof(email)!="undefined"){email.reClicked()}}}function replaceStyles(){var c=document.getElementById("top_chicklets");var d=c.getElementsByTagName("div");if(arguments.length>0){for(i=10;i<d.length;i++){var b=d[i].className.substring(17);if(widget.top_services_sprite_list.indexOf(b)!=-1){d[i].style.backgroundImage=(("https:"==document.location.protocol)?"url(https://ws.sharethis.com/images/sprite_32_small.png)":"url(http://w.sharethis.com/images/sprite_32_small.png)")}else{d[i].style.backgroundImage=(("https:"==document.location.protocol)?"url(https://ws.sharethis.com/images/sprite_32.png)":"url(http://w.sharethis.com/images/sprite_32.png)")}if(b=="google"){d[i].style.backgroundImage=(("https:"==document.location.protocol)?"url(https://ws.sharethis.com/images/sprite_32.png)":"url(http://w.sharethis.com/images/sprite_32.png)")}}}else{if(d.length>0){var a=d.length>10?10:d.length;for(i=0;i<a;i++){var b=d[i].className.substring(17);if(widget.top_services_sprite_list.indexOf(b)!=-1){d[i].style.backgroundImage=(("https:"==document.location.protocol)?"url(https://ws.sharethis.com/images/sprite_32_small.png)":"url(http://w.sharethis.com/images/sprite_32_small.png)")}else{d[i].style.backgroundImage=(("https:"==document.location.protocol)?"url(https://ws.sharethis.com/images/"+b+"_32.png)":"url(http://w.sharethis.com/images/"+b+"_32.png)");d[i].style.backgroundPosition="0px"}if(b=="google"){d[i].style.backgroundImage=(("https:"==document.location.protocol)?"url(https://ws.sharethis.com/images/"+b+"_32.png)":"url(http://w.sharethis.com/images/"+b+"_32.png)");d[i].style.backgroundPosition="0px"}}}}}var jsonp={};jsonp.makeRequest=function(a){odjs(a,function(){})};function odjs(a,b){stlib.scriptLoader.loadJavascript(a,b)}function odcss(a,b){stlib.scriptLoader.loadCSS(a,b)}function initialize(){var e=false;var d=navigator.userAgent;var g=/bot|gomez|keynote/gi;if(d&&d!==null&&d.length>4){var c=d.match(g);if(c&&c!==null&&c.length>0){e=true}}else{e=true}if(fragmentPump.initRun==true){processBuffer()}widget.domReady=true;document.getElementById("chicklet_search_field").value=lang.strings.msg_search_services;document.getElementById("chicklet_search_field").onfocus=function(){searchFocus()};document.getElementById("chicklet_search_field").onblur=function(){searchBlur()};document.getElementById("signIn_text").onclick=function(){signIn()};document.getElementById("signOut").onclick=function(){signOut()};document.getElementById("notYou").onclick=function(){signOut();if(stlib.cookie.checkCookiesEnabled()==false){setTimeout(function(){signIn()},3000)}else{signIn()}};document.getElementById("modal_button").onclick=function(){clearModal()};document.getElementById("popular").innerHTML=lang.strings.msg_share;document.getElementById("msg_share_success").innerHTML=lang.strings.msg_share_success;document.getElementById("btnShareAgain").innerHTML=lang.strings.msg_share_again;document.getElementById("btnFastShare").innerHTML=lang.strings.msg_fast_share;document.getElementById("relatedText").innerHTML=lang.strings.msg_related_shares;document.getElementById("msg_post_to").innerHTML=lang.strings.msg_post_to;document.getElementById("poster_message").innerHTML=lang.strings.msg_message;document.getElementById("poster_message2").innerHTML=lang.strings.msg_blog_url;document.getElementById("posterSubmit").innerHTML=lang.strings.msg_submit;document.getElementById("signIn_text").innerHTML=lang.strings.msg_signin;document.getElementById("signOut").innerHTML=lang.strings.msg_signout;if(stlib.cookie.getCookie("ShareUT")!==false){if(stlib.cookie.hasLocalStorage()){var h=stlib.cookie.getCookie("ShareUT");var j=window.localStorage;if(typeof(j.email)!="undefined"){user.email=j.email}if(typeof(j.name)!="undefined"){user.name=j.name}if(typeof(j.nickname)!="undefined"){user.nickname=j.nickname}if(typeof(j.display)!="undefined"){user.display=j.display}if(typeof(j.currentUserType)!="undefined"){user.currentUserType=j.currentUserType}if(typeof(j.ThirdPartyUsers)!="undefined"){user.ThirdPartyUsers=j.ThirdPartyUsers}document.getElementById("signIn").style.display="none";if(user.display!==null){var f=user.name;f=f?f:user.email;f=f?f:user.nickname;document.getElementById("popular").innerHTML="<a id='header_email' target='_blank' href='http://sharethis.com/account' >"+lang.strings.msg_greeting+" "+f+",</a> ";document.getElementById("notYou").innerHTML=lang.strings.msg_notyou}document.getElementById("footer_info").style.display="block"}}if(stlib.cookie.getCookie("st_optout")!==false){var b=document.cookie;widget.optout=true;widget.fpc="optout"}}function fillInLanguage(){document.getElementById("chicklet_search_field").value=lang.strings.msg_search_services;document.getElementById("popular").innerHTML=lang.strings.msg_share;document.getElementById("msg_share_success").innerHTML=lang.strings.msg_share_success;document.getElementById("btnShareAgain").innerHTML=lang.strings.msg_share_again;document.getElementById("btnFastShare").innerHTML=lang.strings.msg_fast_share;document.getElementById("relatedText").innerHTML=lang.strings.msg_related_shares;document.getElementById("msg_post_to").innerHTML=lang.strings.msg_post_to;document.getElementById("poster_message").innerHTML=lang.strings.msg_message;document.getElementById("poster_message2").innerHTML=lang.strings.msg_blog_url;document.getElementById("posterSubmit").innerHTML=lang.strings.msg_submit;document.getElementById("signIn_text").innerHTML=lang.strings.msg_signin;document.getElementById("signOut").innerHTML=lang.strings.msg_signout;document.getElementById("doNotTrack").innerHTML=lang.strings.msg_track;document.getElementById("recents_label").innerHTML=lang.strings.msg_recents}if(typeof(window.addEventListener)!="undefined"){window.addEventListener("load",initialize,false)}else{if(typeof(document.addEventListener)!="undefined"){document.addEventListener("load",initialize,false)}else{if(typeof window.attachEvent!="undefined"){window.attachEvent("onload",initialize)}}}function removeClass(a,b){var c=document.getElementById(a);c.className=c.className.replace(b,"")}function addClass(a,b){var c=document.getElementById(a);c.className+=" "+b}function replaceClass(a,e){var d=document.getElementsByTagName("*");var c=new RegExp(a,"ig");for(var b=0;b<d.length;b++){if(c.test(d[b].className)){d[b].className=d[b].className.replace(c,e)}else{if(c.test(d[b].className)){d[b].className=d[b].className.replace(c,e)}else{if(c.test(d[b].className)){d[b].className=d[b].className.replace(c,e)}}}}}function getRelatedShares(a){if(widget.doneScreen==false||a==null){document.getElementById("doneScreenContent").style.display="none";document.getElementById("msg_share_success").setAttribute("style","margin-top:40px;");return false}var e="";if(typeof(widget.relatedDomain)!="undefined"&&widget.relateDomain!=""){e=widget.relatedDomain}else{try{if(/(.*:\/\/)(.*?)(\/.*$)/.test(a)==true){var b=new RegExp(/(.*:\/\/)(.*?)(\/.*$)/);e=a.replace(b,"$2");e=encodeURIComponent(e)}else{var b=new RegExp(/(.*:\/\/)(.*?)/);e=a.replace(b,"$2");e=encodeURIComponent(e)}}catch(c){}}var d=["domain="+e,"return=json","url_limit=2","cb=getRelateShares_onSuccess","service=getLiveStream"];d=d.join("&");getRelateShares_onSuccess()}function getRelateShares_onSuccess(d){var e=document.getElementById("relatedShares");while(e.childNodes.length>=1){e.removeChild(e.firstChild)}var f=document.createElement("div");f.className="clear";if(false){}else{document.getElementById("relatedText").innerHTML=lang.strings.msg_share_anywhere;document.getElementById("relatedText").className="relatedText relatedText-fcLayout";var c=document.createElement("span");c.className="toolbarImg toolbarImg-fcLayout";c.setAttribute("stlink","http://sharethis.com/features/download?source=doneScreen4x");if(c.attachEvent){c.onclick=function(){stlib.gaLogger.gaLog("DoneScreen","ImgLinkClick");window.open(this.getAttribute("stlink"),"external","resizable=1,location=1,status=1,scrollbars=1,toolbar=1,directories=1,personalbar=1,menubar=1")}}else{c.setAttribute("onclick","stlib.gaLogger.gaLog('DoneScreen','ImgLinkClick');window.open('http://sharethis.com/features/download?source=doneScreen4x','external','resizable=1,location=1,status=1,scrollbars=1,toolbar=1,directories=1,personalbar=1,menubar=1');")}var a=document.createElement("p");a.className="relatedSourceUpsell relatedSourceUpsell-fcLayout";a.appendChild(document.createTextNode(lang.strings.msg_put_sharethis));var b=document.createElement("a");b.className="relatedTitleUpsell link";b.setAttribute("stlink","http://sharethis.com/features/download?source=doneScreen4x");if(b.attachEvent){b.onclick=function(){stlib.gaLogger.gaLog("DoneScreen","TitleLinkClick");window.open(this.getAttribute("stlink"),"external","resizable=1,location=1,status=1,scrollbars=1,toolbar=1,directories=1,personalbar=1,menubar=1")}}else{b.setAttribute("onclick","stlib.gaLogger.gaLog('DoneScreen','TitleLinkClick');window.open('http://sharethis.com/features/download?source=doneScreen4x','external','resizable=1,location=1,status=1,scrollbars=1,toolbar=1,directories=1,personalbar=1,menubar=1');")}b.innerHTML=lang.strings.msg_get_button;var f=document.createElement("div");f.className="clear";var m=document.createElement("div");m.className="clear";var l=document.createElement("div");l.className="clear";var j=document.createElement("div");j.setAttribute("id","btnShareToolbar");j.className="button_holder-fcLayout";j.setAttribute("stlink","http://sharethis.com/features/download?source=doneScreen4x");j.innerHTML=lang.strings.msg_get_sharethis;if(j.attachEvent){j.onclick=function(){stlib.gaLogger.gaLog("DoneScreen","TitleLinkClick");window.open(this.getAttribute("stlink"),"external","resizable=1,location=1,status=1,scrollbars=1,toolbar=1,directories=1,personalbar=1,menubar=1")}}else{j.setAttribute("onclick","stlib.gaLogger.gaLog('DoneScreen','TitleLinkClick');window.open('http://sharethis.com/features/download?source=doneScreen4x','external','resizable=1,location=1,status=1,scrollbars=1,toolbar=1,directories=1,personalbar=1,menubar=1');")}var k=document.createElement("span");k.className="toolbarSpan-fcLayout";k.innerHTML=lang.strings.msg_free_plugin;var h=document.createElement("span");h.className="firefox-fcLayout";var g=document.createElement("span");g.className="ie-fcLayout";e.appendChild(c);e.appendChild(a);e.appendChild(f);e.appendChild(j);e.appendChild(k);e.appendChild(m);e.appendChild(g);e.appendChild(h);e.appendChild(l)}}function hideDoneScreen(){turnPage("main")}function showDoneScreen(){document.getElementById("msg_share_success").style.visibility="visible";var a=(widget.short_url!=null||widget.short_url!="")?widget.short_url:widget.URL;getRelatedShares(a);turnPage("done");if(stlib.cookie.getCookie("ShareUT")){document.getElementById("btnShareAgain").onclick=function(){addServiceLinks();moveServices(0);hideDoneScreen();stlib.gaLogger.gaLog("DoneScreen","ShareAgain")};document.getElementById("btnShareAgain").style.display="block";document.getElementById("btnFastShare").style.display="none";document.getElementById("msg_share_success").innerHTML=lang.strings.msg_share_success}else{stlib.gaLogger.gaLog("DoneScreen","SeenFastShare");document.getElementById("btnFastShare").onclick=function(){showFastShareInfo()};document.getElementById("btnShareAgain").style.display="none";document.getElementById("btnFastShare").style.display="block";document.getElementById("msg_share_success").innerHTML=lang.strings.msg_share_success_fs}}function showFastShareInfo(){var a="";if(stlib.cookie.checkCookiesEnabled()==false){a="?fsEnableTPC=true"}window.open("http://sharethis.com/account/signin-widget"+a,"LoginWindow","scrollbars=1, status=1, height=450, width=970, resizable=1");clearInterval(widget.fsPoller);widget.fsPoller=setInterval(function(){var b=stlib.cookie.getCookie("ShareUT");if(b){clearInterval(widget.fsPoller);showFastShareDone();clearInterval(widget.fsPoller)}},1000);stlib.gaLogger.gaLog("DoneScreen","FastShare")}function showFastShareDone(){clearInterval(widget.fsPoller);document.getElementById("successBox").style.display="none";document.getElementById("done_screen").style.display="none";document.getElementById("fsDoneBox").style.display="block";document.getElementById("fsExampleImg").src="images/fs-example.jpg";checkLogin();stlib.gaLogger.gaLog("DoneScreen","FastShareDone")}function showHome(){turnPage("main")}var poster={};function createPoster(a){if(widget.title==null){widget.title=widget.URL}if(a=="twitter"){updateServiceCount(a,"Tweet");stlib.gaLogger.gaLog("Twitter","poster_clicked");widget.poster="twitter";document.getElementById("poster_heading_service").innerHTML="Twitter";document.getElementById("poster_textArea").style.display="block";document.getElementById("poster_textArea").value="";createShar();document.getElementById("poster_main").style.display="block";document.getElementById("comment_box").style.display="block";document.getElementById("poster_input_div").style.display="none";document.getElementById("mainPage").style.display="none";document.getElementById("poster_textArea").onkeypress=poster.updateCounter;document.getElementById("poster_message_counter").style.display="block";turnPage("poster")}else{if(a=="wordpress"){updateServiceCount(a,"Wordpress");widget.poster="wordpress";stlib.gaLogger.gaLog("Wordpress","poster_clicked");document.getElementById("poster_heading_service").innerHTML="Wordpress";document.getElementById("poster_textArea").style.display="none";document.getElementById("comment_box").style.display="none";document.getElementById("poster_input_div").style.display="block";document.getElementById("poster_main").style.display="block";document.getElementById("mainPage").style.display="none";document.getElementById("poster_message_counter").style.display="none";document.getElementById("poster_message_counter").style.display="none";turnPage("poster")}}}poster.cancel=function(a){turnPage("main");widget.poster=null};poster.getCount=function(){var a=document.getElementById("poster_textArea");var b=a.value;if(b.length>=117){return false}else{return 117-b.length}};poster.updateCounter=function(d){try{var a=(window.event)?event.keyCode:d.keyCode}catch(b){a=0}var f=poster.getCount();var c=element=document.getElementById("counter");if(f===false){c.innerHTML=0;if(a!==0){return true}else{return false}}else{if(f<11){c.style.color="red"}else{c.style.color="#666666"}c.innerHTML=f}};poster.post=function(a){stlib.data.resetShareData();stlib.data.set("source","share4xPoster","shareInfo");stlib.data.set("buttonType","large","shareInfo");stlib.data.set("title",widget.title,"shareInfo");stlib.data.set("url",widget.URL,"shareInfo");stlib.data.set("short_url",widget.short_url,"shareInfo");stlib.data.set("sharURL",widget.sharURL,"shareInfo");stlib.data.set("status",document.getElementById("poster_textArea").value,"shareInfo");if(widget.poster=="twitter"){showLoadingBox(lang.strings.msg_posting_t);stlib.data.set("destination","twitter","shareInfo");stlib.sharer.oauth.share(poster.post_onSuccess)}else{if(widget.poster=="wordpress"){if(document.getElementById("poster_inputBox").value.length<1){showModal(lang.strings.msg_valid_blog);return false}else{if(widget.service==null){widget.service="legacy"}var b=document.getElementById("poster_inputBox").value;stlib.data.set("destination","wordpress","shareInfo");stlib.data.set("wpurl",b,"shareInfo");stlib.data.set("service",widget.service,"shareInfo");stlib.sharer.share(null,widget.servicePopup);widget.poster=null;showDoneScreen();return true}}}return true};poster.post_onSuccess=function(a){widget.poster=null;showDoneScreen()};function createShar(){var b=widget.URL;if(b==widget.lastURL&&widget.shorten==false){var a=((widget.title!=null)?widget.title+" - ":"")+widget.sharURL;document.getElementById("poster_textArea").value=a;poster.updateCounter()}else{if(((b!==""&&b!==" "&&b!==null&&widget.lastURL!=b)||widget.sharCreated==false)&&widget.shorten==true){widget.sharCreated=false;widget.sharURL=b;document.getElementById("poster_textArea").value=lang.strings.msg_loading;widget.lastURL=b;var c=["return=json","cb=createShar_onSuccess","service=createSharURL","url="+encodeURIComponent(b),"sessionID="+widget.sessionID,"fpc="+widget.fpc];c=c.join("&");jsonp.makeRequest((("https:"==document.location.protocol)?"https://ws.sharethis.com/":"http://wd.sharethis.com/")+"api/getApi.php?"+c)}}}function createShar_onSuccess(b){if((typeof b)!="undefined"&&b.status=="SUCCESS"){widget.sharURL=b.data.sharURL;widget.sharCreated=true}var a=((widget.title!=null)?widget.title+" - ":"")+widget.sharURL;document.getElementById("poster_textArea").value=a;poster.updateCounter()}if(typeof(lang)=="undefined"){var lang={};lang.strings=new Object;lang.strings.msg_loading="Loading";lang.strings.msg_posting_t="Posting to Twitter";lang.strings.msg_text="Text to a Friend:";lang.strings.msg_email="Email to a Friend:";lang.strings.msg_sendign_inProgress="Sharing Message";lang.strings.msg_search_services="Search for services";lang.strings.msg_get_button="Get the add-on now!";lang.strings.msg_put_sharethis="Easily share your favorite finds online with a click of a button";lang.strings.msg_valid_blog="Sorry, there was something wrong with that URL, please try again.";lang.strings.msg_post_wordpress="Post to Wordpress";lang.strings.msg_email_to="To:";lang.strings.msg_email_from="From:";lang.strings.msg_email_send="Send";lang.strings.msg_email_cancel="Cancel";lang.strings.msg_email_preview="Preview";lang.strings.msg_email_close_preview="Close Preview";lang.strings.msg_email_char_limit="2000 characters left";lang.strings.email_message="Message:";lang.strings.msg_email_privacy="Privacy Policy";lang.strings.msg_email_load_cont="Loading Contacts...";lang.strings.msg_import_serv="Import Contacts From";lang.strings.msg_email_captcha_info="Please type the words below:";lang.strings.msg_valid_email_add="Please enter a valid email address.";lang.strings.msg_valid_email_add_from='Please enter a valid email address in the "From" field.';lang.strings.msg_valid_recipients="Please enter a valid recipient";lang.strings.msg_captcha="Please enter the Captcha response.";lang.strings.msg_share="Share this with friends!";lang.strings.msg_view_all="View All";lang.strings.msg_hide_all="Hide All";lang.strings.msg_share_success="Your message was successfully shared!";lang.strings.msg_share_success_fs="Your message was successfully shared! Log-in with FastShare to share with just one click next time.";lang.strings.msg_share_again="Share Again";lang.strings.msg_fast_share="Enable FastShare";lang.strings.msg_related_shares="Popular Shares:";lang.strings.msg_post_to="Post to";lang.strings.msg_message="Message:";lang.strings.msg_blog_url="Blog URL";lang.strings.msg_submit="Submit";lang.strings.msg_friends="What are your friends sharing?";lang.strings.msg_my_acct="My Account";lang.strings.msg_signin="Sign In";lang.strings.msg_signout="Sign Out";lang.strings.msg_notyou="Not You?";lang.strings.msg_track="Do Not Track";lang.strings.msg_share_anywhere="Share from Anywhere";lang.strings.msg_get_sharethis="Get ShareThis";lang.strings.msg_free_plugin="FREE Plug-In!";lang.strings.msg_recents="Recents:";lang.strings.msg_greeting="Hi"}var stlib_slider={};stlib_slider.getValue;stlib_slider.createSlider=function(c,j,b,f,k,h,e){c.style.top=((b-j)/(f-j))*h-1+"px";c.style.backgroundImage=(("https:"==document.location.protocol)?"url(https://ws.sharethis.com/images/scroll.png)":"url(http://w.sharethis.com/images/scroll.png)");var a;stlib_slider.setValue=function(l){var m=(h-e)*l;c.style.top=(m-1)+"px"};d(c,"mousedown",function(m){replaceStyles(true);if(m.preventDefault){m.preventDefault()}var n=[];n.El=c;n.starty=m.pageY?m.pageY:m.clientY+document.documentElement.scrollTop;n.parent=c.parentNode;n.startTop=(c.style.top=="auto")||(c.style.top=="")?b:parseInt(c.style.top.replace(/px/i,""));a=function(r){var q=n;var u=r.pageY?r.pageY:r.clientY+document.documentElement.scrollTop;var p=u-q.starty;var t=q.startTop+p;t=t>h-e?h-e:t;t=t<0?0:t;c.style.top=(t-1)+"px";stlib_slider.getValue=function(){return t/(h-e)};if(k){k()}};function l(q){var p=q.relatedTarget||q.toElement;if(p){if(p.tagName.toLowerCase()=="html"){g(document,"mouseout",l,false);g(document,"mousemove",a,false)}}else{g(document,"mouseout",l,false);g(document,"mousemove",a,false)}}d(document,"mousemove",a,false);d(document,"mouseup",function(){g(document,"mouseout",l,false);g(document,"mousemove",a,false)},false);d(document,"mouseout",l,false)},false);function d(q,m,p,l){if(q.addEventListener){q.addEventListener(m,p,l);return true}else{if(q.attachEvent){var n=q.attachEvent("on"+m,p);return n}}}function g(q,m,p,l){if(q.removeEventListener){q.removeEventListener(m,p,l);return true}else{if(q.detachEvent){var n=q.detachEvent("on"+m,p);return n}}}};stlib_slider.createSlider(document.getElementById("sts_sliderKnob"),0,0,100,repositionServices,228,58);document.onselectstart=function(){var a=navigator.userAgent;var b=a.indexOf("IE 7")!=-1;b=a.indexOf("IE 8")!=-1?true:b;if(b){var c=document.getElementById("sts_sliderKnob");c.unselectable="on"}};function repositionServices(){var b=navigator.userAgent;var e=b.indexOf("IE 9")!=-1;e=b.indexOf("Firefox")!=-1?true:e;var d=stlib_slider.getValue();var c=document.getElementById("top_chicklets");var g=Math.floor((c.childNodes.length+1)/2);if(g<6){c.style.top="0px;"}else{var a=e?-46*(g-5)-15:-46*(g-5);var f=-(g*42.2)*d;f=f<a?a:f;c.style.top=f+"px"}}function moveServices(f,c){var a=document.getElementById("top_chicklets");if(f==0){a.style.top="0px";stlib_slider.setValue(0);var b=document.getElementById("chicklet_search_field");if(b!=null&&typeof(c)=="undefined"&&!c){b.value=lang.strings.msg_search_services}return}var e=Math.ceil(a.childNodes.length/2);var g=e-5;var d=stlib_slider.setValue((f+1)/(e-5)>1?1:(f+1)/(e-5));a.style.top=f>g?-((e-5)*46)+"px":-(f*46)+"px"}function showEmailAuthentication(){var a=true;if(isOauthLinked){return true}else{a=false}if(a==false){odcss((("https:"==document.location.protocol)?"https://ws.sharethis.com/secure/css/emailShare.css":"http://w.sharethis.com/share4x/css/emailShare.css"),function(){},true);odcss((("https:"==document.location.protocol)?"https://ws.sharethis.com/css/externalEmail_sprites.css":"http://w.sharethis.com/css/externalEmail_sprites.css"),function(){},true);document.getElementById("emailcontainer").style.display="none";document.getElementById("emailAuthentication").style.display="block";document.getElementById("popular").style.display="none";document.getElementById("notYou").style.display="none";document.getElementById("emailshareHeading").style.display="block";document.getElementById("emailShareTopLine").innerHTML=lang.strings.msg_share;stlib.gaLogger.gaLog("New Email share page - 4x","Opened");return false}else{return true}}function hideEmailAuthentication(){document.getElementById("emailcontainer").style.display="block";document.getElementById("emailAuthentication").style.display="none";document.getElementById("popular").style.display="block";document.getElementById("notYou").style.display="block";document.getElementById("emailshareHeading").style.display="none"}function beginOAuth(c){var a="";if((stlib.cookie.checkCookiesEnabled()==false)&&(stlib.cookie.hasLocalStorage()==false)){a="&enableEmailTPC=true";_popupWidths[c]="600px"}stlib.gaLogger.gaLog("Attempting OAuth - 4x",c);var b;b="http://sharethis.com/account/linking?provider="+c+a;window.open(b,"AccountLinkingWindow","status=1, height="+_popupHeights[c]+", width="+_popupWidths[c]+", resizable=1");clearInterval(widget.accountLinkingPoller);widget.accountLinkingPoller=setInterval(function(){checkForAccountLinkingCookie()},1000)}function emailShareOAuth(b){hideError();var a=b.getAttribute("data-value");beginOAuth(a);stlib.gaLogger.gaLog("New Email share page - 4x","OAuth_"+a)}function urlEncodeCharacter(a){return"%"+a.charCodeAt(0).toString(16)}function urlEncode(a){return escape(a)}function getExternalEmailBody(d,m,g){var h="";if(g!=2){h=document.getElementById("txtMessage").value;if(h=="Write your comment here..."||h=="write your comment here..."){h=""}var r=h.match(/http:\/\/.*shar.es/);if(r){h=h.slice(0,h.indexOf(r))}}var c={type:widget.type,recipients:"",url:widget.URL,title:(widget.title),comment:h,thumbnail:widget.thumb,embed:widget.content,description:widget.summary,sharURL:(m!="")?m:widget.URL};var l="This message was sent using ShareThis (http://www.sharethis.com)";var j="\r\n\r\n";if(d=="mailto"){j=urlEncode(j);if(c.comment){c.comment=c.comment.replace(/%/g,urlEncodeCharacter)}if(c.description){c.description=c.description.replace(/%/g,urlEncodeCharacter)}}var n=c.sharURL+"."+j+l;var f=c.sharURL;if(c.comment&&g!=2){f=c.comment+j+f}if(c.description&&g!=1&&g!=2){f+=j+c.description}f+=j+l;var p=(c.recipients)?c.recipients:"";var a=(c.title)?c.title:"Message Subject";var e=(f)?(f):"Message Body";n=(n)?(n):"Message Body";var b={};b.gmail={href:"//mail.google.com/mail/?view=cm",su:encodeURIComponent(a),to:p,body:encodeURIComponent(e)};b.yahoo={href:"//compose.mail.yahoo.com/?",Subject:encodeURIComponent(a.replace(/%/g,urlEncodeCharacter).replace(/&/g,urlEncodeCharacter).replace(/#/g,urlEncodeCharacter).replace(/'/g,urlEncodeCharacter).replace(/"/g,urlEncodeCharacter).replace(/>/g,urlEncodeCharacter).replace(/</g,urlEncodeCharacter).replace(/\\n/g,"").replace(/\\r/g,"").replace(/\\/g,"")),To:p,Body:urlEncode(n.replace(/#/g,urlEncodeCharacter).replace(/\r\n/g,"<br>"))};b.outlook={href:"//mail.live.com/default.aspx?rru=compose",subject:encodeURIComponent(a),to:p,body:encodeURIComponent(e.replace(/\r\n/g,"<br>").replace(/\(/g,"[").replace(/\)/g,"]"))};b.mailto={href:"mailto:"+p+"?",Subject:a.replace(/%/g,urlEncodeCharacter).replace(/&/g,urlEncodeCharacter).replace(/#/g,urlEncodeCharacter).replace(/'/g,urlEncodeCharacter).replace(/"/g,urlEncodeCharacter).replace(/>/g,urlEncodeCharacter).replace(/</g,urlEncodeCharacter),Body:e.replace(/&/g,urlEncodeCharacter).replace(/#/g,urlEncodeCharacter).replace(/'/g,urlEncodeCharacter).replace(/"/g,urlEncodeCharacter).replace(/>/g,urlEncodeCharacter).replace(/</g,urlEncodeCharacter)};var k="";for(var q in b[d]){if(q=="href"){k+=b[d][q]}else{if(!(d=="mailto"&&q=="Subject")){k+="&"}k+=q+"="+b[d][q]}}return k}function clearExEmailSharPoller(b){for(var a=0;a<b.length;a++){clearTimeout(b[a])}}function shareExternalEmail(f,d,b){var c=1200;updateServiceCount("email","Email");var a=getExternalEmailBody(d,b,null);if(c<encodeURIComponent(a).length){a=getExternalEmailBody(d,b,1)}if(c<encodeURIComponent(a).length){a=getExternalEmailBody(d,b,2)}stlib.data.resetShareData();var e="";e=stlib.cookie.getCookie("ShareUT");if((e==false)||(e=="undefined")||(typeof(e)=="undefined")){if((stlib.cookie.checkCookiesEnabled()==false)&&(stlib.cookie.hasLocalStorage()==true)){e=localStorage.ShareUT}else{e=""}}if((widget.type==null)||(typeof(widget.type)=="undefined")){widget.type=""}stlib.data.set("url",widget.URL,"shareInfo");stlib.data.set("short_url",widget.short_url,"shareInfo");stlib.data.set("title",widget.title,"shareInfo");stlib.data.set("destination","email","shareInfo");stlib.data.set("destinations","email","shareInfo");stlib.data.set("ip","","shareInfo");stlib.data.set("agent",navigator.userAgent,"shareInfo");stlib.data.set("clicookie",stlib.cookie.getCookie("__stid"),"shareInfo");stlib.data.set("token",e,"shareInfo");stlib.data.set("buttonType",widget.type,"shareInfo");stlib.data.set("emailDestination","email","shareInfo");stlib.data.set("sharURL",b,"shareInfo");stlib.data.setSource("4x",widget);stlib.sharer.share(null,null);stlib.gaLogger.shareLog("Email");stlib.gaLogger.gaLog("New Email share page - 4x","External_"+d);f.location=a;if(d=="mailto"){setTimeout(function(){f.close()},1000)}}function emailShareExternal(g){hideError();var b="";var f=g.getAttribute("data-value");var e,d;var h=window.open("");if(h){var a="";switch(f){case"gmail":a="Connecting you to GMail";break;case"yahoo":a="Connecting you to Yahoo! Mail";break;case"outlook":a="Connecting you to Outlook";break;case"mailto":a="Connecting you to your native email client";break}var c="<!DOCTYPE><html><head><title>"+a+'</title></head><body><div id="lightbox" style="height:41px; width:410px; z-index:+1; position:fixed; border:4px solid #ccc; top:40%; left:33%; padding:8px; background-color:#eee; text-align:center; -moz-border-radius:9px; -webkit-border-radius:9px; border-radius:9px;"><div style="margin-right:10px"><span id="lightboxText" style="color:#777; font-family:Tahoma; font-size:1.3em;">'+a+'</span><span style="display:block; font-size:0.7em;color:#999; padding-top:4px;">It will be just a second..</span></div></div><div id="overlay" style="width: 99%; height: 100%; opacity: 0.9;background-color:#000;position:fixed;"></div></body></html>';h.document.write(c);d=setInterval(function(){b=widget.sharURL;if(b!=""){clearExEmailSharPoller([d,e]);shareExternalEmail(h,f,b)}},100);e=setTimeout(function(){clearExEmailSharPoller([d,e]);shareExternalEmail(h,f,"")},5000)}else{showError("Please disable your popup-blocker!")}}function emailGoBackClick(){hideError();turnPage("main");stlib.gaLogger.gaLog("New Email share page - 4x","Go Back clicked")}function showError(b){var a=document.getElementById("errorMsg");a.className=a.className.replace("sts-dn","");a.innerHTML=b}function hideError(){var a=document.getElementById("errorMsg");if(a.className==""){a.className="sts-dn"}else{a.className+=" sts-dn"}a.innerHTML=""}if(typeof(stlib.global.hash)=="string"&&stlib.global.hash.substring(0,5)=="popup"){var cleanHash="#"+stlib.global.hash;_$d_();_$d1("Popup initiated");_$d1(cleanHash);fragmentPump.checkFragment(cleanHash);_$d1("Done Checking Frag")};